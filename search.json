[
  {
    "objectID": "schedule.html",
    "href": "schedule.html",
    "title": "BEE 4750: Environmental Systems Analysis",
    "section": "",
    "text": "This page contains a schedule of the topics, content, and assignments for the semester. Note that this schedule will be updated as necessary the semester progresses, with all changes documented here.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWeek\nDate\nTopic\nSlides\nLab\nHW\nReading\n\n\n\n\n\n\n\nModule 1: Introduction to Systems Analysis\n\n\n\n\n\n\n\n1\nMon, Aug 26\nWelcome to BEE 4750!\n\n\n\n\n\n\n\n\nWed, Aug 28\nLab: Setting up Julia and GitHub\n\n\n\n\n\n\n\n2\nMon, Sep 02\nNo Class: Labor Day\n\n\n\n\n\n\n\n\nWed, Sep 04\nIntroduction to Systems Analysis\n\n\n\n\n\n\n\n3\nMon, Sep 09\nModeling Example: Lake Eutrophication\n\n\n\n\n\n\n\n\nWed, Sep 11\nSystem Dynamics\n\n\n\n\n\n\n\n\n\nModule 2: Systems Simulation and Risk\n\n\n\n\n\n\n\n4\nMon, Sep 16\nSimulation Modeling\n\n\n\n\n\n\n\n\nWed, Sep 18\nExample: Dissolved Oxygen\n\n\n\n\n\n\n\n5\nMon, Sep 23\nUncertainty and Monte Carlo Simulation\n\n\n\n\n\n\n\n\nWed, Sep 25\nLab: Monte Carlo Simulation\n\n\n\n\n\n\n\n6\nMon, Sep 30\nMonte Carlo: Why It Works\n\n\n\n\n\n\n\n\n\nModule 3: Systems Management and Optimization\n\n\n\n\n\n\n\n\nWed, Oct 02\nPrescriptive Modeling\n\n\n\n\n\n\n\n7\nMon, Oct 07\nLinear Programming\n\n\n\n\n\n\n\n\nWed, Oct 09\nPrelim 1\n\n\n\n\n\n\n\n8\nMon, Oct 14\nNo Class: Fall Break\n\n\n\n\n\n\n\n\nWed, Oct 16\nLab: Optimization with JuMP.jl\n\n\n\n\n\n\n\n9\nMon, Oct 21\nExample: Power Systems and Economic Dispatch\n\n\n\n\n\n\n\n\nWed, Oct 23\nFixed Costs and Unit Commitment\n\n\n\n\n\n\n\n10\nMon, Oct 28\nPrelim 1 Review\n\n\n\n\n\n\n\n\nWed, Oct 30\nNetwork Models and Solid Waste Management\n\n\n\n\n\n\n\n11\nMon, Nov 04\nSimulation-Optimization\n\n\n\n\n\n\n\n\nWed, Nov 06\nMultiple Objectives and Tradeoffs\n\n\n\n\n\n\n\n12\nMon, Nov 11\nPrelim 2\n\n\n\n\n\n\n\n\nWed, Nov 13\nLab: Simulation-Optimization\n\n\n\n\n\n\n\n\n\nModule 4: Decision-Making Under Uncertainty\n\n\n\n\n\n\n\n13\nMon, Nov 18\nScenario Trees and Value of Uncertainty\n\n\n\n\n\n\n\n\nWed, Nov 20\nLab: Two-Stage Linear Programs\n\n\n\n\n\n\n\n14\nMon, Nov 25\nPrelim 2 Review\n\n\n\n\n\n\n\n\nWed, Nov 27\nNo Class: Thanksgiving Break\n\n\n\n\n\n\n\n15\nMon, Dec 02\nSequential Decision-Making\n\n\n\n\n\n\n\n\nWed, Dec 04\nClass Review\n\n\n\n\n\n\n\n16\nMon, Dec 09\nNo Class: Project Work",
    "crumbs": [
      "Course Information",
      "Schedule"
    ]
  },
  {
    "objectID": "setup.html",
    "href": "setup.html",
    "title": "First Time: Tools Setup",
    "section": "",
    "text": "There are two routes you can take to complete assignments in this class:\nWhy might you choose either route?\nIn either case, please make sure you can setup or access the appropriate tools using the relevant workflows below. In either case, you’ll need to set up a GitHub account.",
    "crumbs": [
      "Course Information",
      "Setup"
    ]
  },
  {
    "objectID": "setup.html#setting-up-github-account",
    "href": "setup.html#setting-up-github-account",
    "title": "First Time: Tools Setup",
    "section": "Setting Up GitHub Account",
    "text": "Setting Up GitHub Account\n\n\n\n\n\n\nIf you already have a GitHub account, you can use that for this course and do not need to create a new account.\n\n\n\nCreate a GitHub account. It doesn’t have to be linked to your Cornell email or use your Cornell NetID.\nFor labs and homework assignments (we will work on Lab 1 in class and Homework 1 is available), you should use the GitHub Classroom link to “accept” the assignment provided on Ed Discussion, which will give you your own GitHub repository for that assignment. The first time you click one of these links, you will need to link your place on the course roster with your GitHub account.",
    "crumbs": [
      "Course Information",
      "Setup"
    ]
  },
  {
    "objectID": "setup.html#connecting-to-the-virtual-computing-lab",
    "href": "setup.html#connecting-to-the-virtual-computing-lab",
    "title": "First Time: Tools Setup",
    "section": "Connecting to the Virtual Computing Lab",
    "text": "Connecting to the Virtual Computing Lab\n\n\n\n\n\n\nTo use this option, you must either be connected to the Cornell network or use the Cornell VPN when connecting to BioHPC.\n\n\n\n\nSet Up BioHPC Account and Connect\nFirst, set up your BioHPC password; if you did not receive an email about an account being created and would like to use this option, let Vivek know.\nAfter setting up your password, you can use https://biohpc.cornell.edu/lab/CALS_BEE4750.aspx to log in and access Jupyter Lab. You may need to copy the token (the numbers on the displayed url after ...token=) and paste that into the subsequent form.\n\n\nUsing BioHPC and Jupyter Lab\nOnce the connection starts, it should put you on a terminal. You can then clone repositories with git clone &lt;repository url&gt; and open the notebooks and files (Julia 1.10.4 is already installed by default). Note that the first time you run a notebook’s first cell, it might take a while to install the relevant packages.\nThe version of Jupyter Lab installed on your account has a git interface, so if you would prefer to not use the command line to interact with git, you can clone, push, and pull using the Git menu.\nIf you want to work with a standalone script (to write up your answers separately), rather than the notebook, you can create a new Julia script with a *.jl extension within the Jupyter Lab interface.\n\n\nExporting Notebook to PDF\nWe’re working on figuring out why there are some errors in direct exporting to PDF, but you can export a notebook to HTML with File -&gt; Save and Export Notebook As -&gt; HTML, open the saved HTML file in your browser, and save page as a PDF. Make sure that you run all of the cells in your notebook in order before doing this!",
    "crumbs": [
      "Course Information",
      "Setup"
    ]
  },
  {
    "objectID": "setup.html#working-on-your-local-machine",
    "href": "setup.html#working-on-your-local-machine",
    "title": "First Time: Tools Setup",
    "section": "Working On Your Local Machine",
    "text": "Working On Your Local Machine\nGetting set up for this course requires the following steps, if you haven’t done them for a previous course, club, or project:\n\nInstall git on your machine if necessary.\nInstall Julia using the juliaup tool.\nInstall and set up VS Code if you don’t already have an editor you’d like to use. VS Code is an editor of choice for Julia, as it as a rich and well-supported Julia extension. If you have a different coding environment, please find instructions for how to set it up to edit Julia.\n\n\nInstall Git\nIf you have already installed git, you don’t need to worry about this section. If you haven’t, download the appropriate version for your operating system.\n\n\n\n\n\n\nMac Versions\n\n\n\nIf you have a Mac, be aware if you have an Apple Silicon (M1 or M2) Mac or an Intel Mac. Many of the installations you will go through in this exercise have different versions for each processor type, and the program may not work properly if you still the wrong version. There’s nothing that can’t be undone, but it’s easier to be install the correct version first!\n\n\n\n\nInstall Julia\nI recommend installing Julia using the juliaup tool, which will let you easily manage versions in the future and works seamlessly with VS Code. The instructions can be found at the JuliaUp GitHub repository, but we will summarize them here.\n\nInstalling Juliaup on Windows\nIf your computer uses Windows, you can install Juliaup from the Windows Store.\n\n\nInstalling Juliaup on MacOS\nIf you have a Mac, open a terminal (such as the Terminal app) and enter:\ncurl -fsSL https://install.julialang.org | sh\n\n\nInstalling Julia 1.10.4\nOnce you install Juliaup, install Julia version 1.10.4 by opening a terminal (in MacOS or Linux) or the command line (in Windows) and entering:\njuliaup add 1.10.4\njuliaup default 1.10.4\nThis will install Julia 1.10.4 and make it the default version, which should maximize package compatibility throughout this course. Going forward, if you want to add new versions or change the default, you can follow the Juliaup instructions.\n\n\n\nInstall and Set Up VS Code\nYou can skip this section if you already have a coding environment you like; just set it up to work with Julia. Otherwise, VS Code is as close to an officially supported editor for Julia as you can get. We will follow this guide for setting up VS Code with Julia.\n\nInstalling VS Code\nYou can download it here; open the downloaded file to install.\n\n\nInstall the Julia Extension\n\nOpen VS Code.\nSelect View and click Extensions to open the Extension View. This view can also be found on the sidebar with the following logo:\n\n\n\nVS Code Extensions View Logo\n\n\nSearch for julia in the search box. Click the green install button.\nRestart VS Code once the installation is complete. It should automatically find your Julia installation; talk to Vivek if not.\n\nThe Julia VS Code extension offers you some nice features. You can start a REPL (an interactive Julia coding environment) by opening the “Command Palette” (View -&gt; Command Palette, or CTRL/CMD+SHIFT+P) and typing “REPL” to bring up “Julia: Start REPL”. You can also create *.jl files to write Julia code and execute line by line. However, we will primarily use Jupyter notebooks in this class, but this might be useful for testing code or for your project.\n\n\nInstall the Jupyter Notebook Extension\nThe Jupyter Notebook extension allows you to export a Jupyter notebook to PDF or to HTML and then to PDF.\n\n\n\n\n\n\nPDF Export for Gradescope\n\n\n\nYou will need to export every notebook to a PDF for submission to Gradescope. Direct export to PDF requires a LaTeX installation. If you would like to go this route, please look at the LaTeX installation instructions for your operating system.\nOtherwise, exporting to HTML and then using your browser to save the resulting page to a PDF is a perfect solution.\n\n\nFollow the same instructions as above, but search for jupyter and install the Jupyter extension. Restart VS Code.\n\n\nUsing GitHub with VS Code\nThis Youtube video provides an overview of how to use GitHub within VS Code (with chapters for specific steps) and may be worth watching.",
    "crumbs": [
      "Course Information",
      "Setup"
    ]
  },
  {
    "objectID": "hw.html",
    "href": "hw.html",
    "title": "Homework",
    "section": "",
    "text": "This page contains information about and a schedule of the homework assignments for the semester.",
    "crumbs": [
      "Homework"
    ]
  },
  {
    "objectID": "hw.html#general-information",
    "href": "hw.html#general-information",
    "title": "Homework",
    "section": "General Information",
    "text": "General Information\n\nWhile the instructions for each assignment are available through the linked pages for quick and public access, if you are in the class you must use the link provided in Ed Discussion to accept the assignment. This will ensure that:\n\nYou have compatible versions of all relevant packages provided in the environment;\nYou have a GitHub repository that you can use to share your code.\n\nSubmit assignments by 9:00pm Eastern Time on the due date on Gradescope.\nStarting with HW2, groups of at most two students can submit group solutions. Groups do not have the be the same for all assignments. Exactly one member of each group should submit the solution. If you submit as a group, it is the responsibility of the submitter to tell Gradescope the names of the other group members. If this information is not entered, the other group members’ grades can be delayed or even lost. Also include the names and NetIDs of all group members on the first page.\nIf a student in BEE 5750 works in a group with a student from BEE 4750, they should submit separate PDFs to Gradescope (these can be different versions of the same PDF) due to the additional 5750 problem; this will just not be graded for the 4750 student(s). A single submission can be used for multiple students within the same course number who share a group.\nMore detailed homework instructions and logistics are available.\nSubmissions must be PDFs. Make sure that you tag the pages corresponding to each question; points will be deducted otherwise.\nTo convert the assignment notebook to PDF, you can use VS Code to render the notebook to HTML, and then use your browser to print to PDF. If you have set up LaTeX with VS Code, you can convert directly to a PDF.",
    "crumbs": [
      "Homework"
    ]
  },
  {
    "objectID": "hw.html#grading",
    "href": "hw.html#grading",
    "title": "Homework",
    "section": "Grading",
    "text": "Grading\nMake sure to look over the standard homework rubric and familiarize yourself with the homework and grading policies.",
    "crumbs": [
      "Homework"
    ]
  },
  {
    "objectID": "hw.html#schedule",
    "href": "hw.html#schedule",
    "title": "Homework",
    "section": "Schedule",
    "text": "Schedule\n\n\n\n\n\n\n\n\n\nAssignment\nInstructions\nSolutions\nDue Date\n\n\n\n\nHW1\n\n\nSep 05, 2024\n\n\nHW2\n\n\nSep 19, 2024\n\n\nHW3\n\n\nOct 03, 2024\n\n\nHW4\n\n\nNov 07, 2024\n\n\nHW5\n\n\nDec 05, 2024",
    "crumbs": [
      "Homework"
    ]
  },
  {
    "objectID": "tutorials/julia-plots.html",
    "href": "tutorials/julia-plots.html",
    "title": "Tutorial: Making Plots with Julia",
    "section": "",
    "text": "This tutorial will give some examples of plotting and plotting features in Julia, as well as providing references to some relevant resources. The main plotting library is Plots.jl, but there are some others that provide useful features.",
    "crumbs": [
      "Tutorials",
      "Making Plots"
    ]
  },
  {
    "objectID": "tutorials/julia-plots.html#overview",
    "href": "tutorials/julia-plots.html#overview",
    "title": "Tutorial: Making Plots with Julia",
    "section": "",
    "text": "This tutorial will give some examples of plotting and plotting features in Julia, as well as providing references to some relevant resources. The main plotting library is Plots.jl, but there are some others that provide useful features.",
    "crumbs": [
      "Tutorials",
      "Making Plots"
    ]
  },
  {
    "objectID": "tutorials/julia-plots.html#some-resources",
    "href": "tutorials/julia-plots.html#some-resources",
    "title": "Tutorial: Making Plots with Julia",
    "section": "Some Resources",
    "text": "Some Resources\n\nPlots.jl useful tips\nPlots.jl examples\nPlot attributes\nAxis attributes\nColor names",
    "crumbs": [
      "Tutorials",
      "Making Plots"
    ]
  },
  {
    "objectID": "tutorials/julia-plots.html#making-a-basic-plot",
    "href": "tutorials/julia-plots.html#making-a-basic-plot",
    "title": "Tutorial: Making Plots with Julia",
    "section": "Making a Basic Plot",
    "text": "Making a Basic Plot\nLet’s walk through making a basic line or scatter plot in Julia, using Plots.jl1.\n1 There are some other plotting libraries in Julia, but Plots.jl is a standard starting point. Feel free to experiment, though!Since we’ll be generating random numbers, let’s import Random.jl to let us set a seed to reproduce the same plot in addition to Plots.jl.\n\nusing Plots\nusing LaTeXStrings\nusing Measures\nusing Random\nRandom.seed!(1);\n\nFirst, to generate a basic line plot, use plot():\n\ny = rand(5)\nplot(y, label=\"original data\", legend=:topleft)\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe could also explicitly pass \\(x\\)-axis coordinates by passing an array with these coordinates first, as in plot(x, y, ...). If only one array is passed, Plots.jl will interpret the values as \\(y\\) coordinates and use their indices for the \\(x\\) positions.\nNotice the use of the label and legend keywords to label the plot element and position the legend. To not label a particular plotting element, use label=false, and to turn off any legend (including a colorbar) from the plot, use legend=false.\nNow we can add some other lines and point markers. We will use plot! and scatter! to add another line and some points.\n\n\n\n\n\n\nMutating Function\n\n\n\nThe exclamation mark says that plot!() is a mutating function, which changes an existing variable instead of creating a new one. In this case, these functions change or add to an existing plot, instead of creating a new one.\n\n\nNotice the arguments in plot!() and scatter!(), which let us set properties for the line and scatterplot markers.\n\ny2 = rand(5)\ny3 = rand(5)\nplot!(y2, color=:red, linewidth=2, linestyle=:dot, label=\"new data\")\nscatter!(y3, markercolor=:black, markershape=:square, markersize=5, label=\"even more data\")\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLet’s now add axis labels. We can use LaTeX syntax to add mathematical markup elements to labels (such as superscripts, subscripts, Greek letters, and mathematical symbols) using the LaTeXStrings.jl package. If we indicate that a string should be interpreted as a LaTeXString using the L\"...\" syntax, it will render content inside $..$ using LaTeX, as seen below.\n\nxlabel!(\"Regular String (days)\")\nylabel!(L\"LaTeX String $x_2$ (m$^3$)\")\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRemoving Plot Elements\nSometimes we want to remove legends, axes, grid lines, and/or ticks.\n\nplot!(legend=false, axis=false, grid=false, ticks=false)\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\nNotice that this unintentionally modified the image dimensions to move the axis labels off the page. If we wanted to keep them, we could modify the dimensions with plot!(size=...).\n\nplot!(size=(400, 400))\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\nThe lesson is that sometimes the Plots.jl defaults don’t look ideal, and we need to adjust sizes and margins.\n\n\nAspect Ratio\nIf we want to have a square aspect ratio, use ratio = 1.\n\nv = rand(5)\nplot(v, ratio=1, legend=false)\nscatter!(v)",
    "crumbs": [
      "Tutorials",
      "Making Plots"
    ]
  },
  {
    "objectID": "tutorials/julia-plots.html#plot-demos",
    "href": "tutorials/julia-plots.html#plot-demos",
    "title": "Tutorial: Making Plots with Julia",
    "section": "Plot Demos",
    "text": "Plot Demos\nThis section includes some examples of how to make other types of plots.\n\nHeatmaps\nA heatmap is effectively a plotted matrix with colors chosen according to the values. Use clim to specify a fixed range for the color limits.\n\nA = rand(10, 10)\nheatmap(A, clim=(0, 1), ratio=1, legend=false, axis=false, ticks=false)\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\nM = [ 0 1 0; 0 0 0; 1 0 0]\nwhiteblack = [RGBA(1,1,1,0), RGB(0,0,0)]\nheatmap(c=whiteblack, M, aspect_ratio = 1, ticks=.5:3.5, lims=(.5,3.5), gridalpha=1, legend=false, axis=false, ylabel=\"i\", xlabel=\"j\")\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCustom Colors\n\nusing Colors\n\nmycolors = [colorant\"lightslateblue\",colorant\"limegreen\",colorant\"red\"]\nA = [i for i=50:300, j=1:100]\nheatmap(A, c=mycolors, clim=(1,300))\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\nPlotting Areas Under Curves\nWe can plot the area between a curve and the \\(x\\)-axis using areaplot().\n\nx = -3:.01:3\nareaplot(x, exp.(-x.^2/2)/√(2π),alpha=.25,legend=false)\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe can also use this functionality for stacked area plots.\n\nM = [1 2 3; 7 8 9; 4 5 6; 0 .5 1.5]\nareaplot(1:3, M, seriescolor = [:red :green :blue ], fillalpha = [0.2 0.3 0.4])\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe fillrange option lets us color the area between two arbitrary lines/curves if we only want to treat one of those curves as a boundary. fillcolor and fillalpha let you change the color and transparency of the filled area.\n\ny = rand(10)\nplot(y, fillrange= y.*0 .+ .5, label= \"above/below 1/2\", fillcolor=:red, legend =:top)\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nx = LinRange(0,2,100)\ny1 = exp.(x)\ny2 = exp.(1.3 .* x)\nplot(x, y1, fillrange = y2, fillalpha = 0.35, c = 1, label = \"Confidence band\", legend = :topleft)\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe can also get more creative and color different parts of a curve differently. Here, we divide a normal distribution into 100 quantiles and alternate red and blue stripes. We’ll do this using the erfinv() function from SpecialFunctions.jl to calculate the quantiles using the inverse cumulative distribution function, but there are other approaches using Distributions.jl.\n\nusing SpecialFunctions\n\n# write a function for the normal distribution density\nf = x -&gt; exp(-x^2/2)/√(2π)\n# get the edges of the quantiles\nδ = .01\nx = √2 .* erfinv.(2 .* (δ/2 : δ : 1) .- 1)\n# make the plot and draw the density line in black\nareaplot(x, f.(x), seriescolor=[ :red,:blue], legend=false)\nplot!(x, f.(x),c=:black)\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPlotting Shapes\nWe can also draw shapes more directly, such as rectangles and circles.\n\nrectangle(w, h, x, y) = Shape(x .+ [0,w,w,0], y .+ [0,0,h,h])\ncircle(r,x,y) = (θ = LinRange(0,2π,500); (x.+r.*cos.(θ), y.+r.*sin.(θ)))\nplot(circle(5,0,0), ratio=1, c=:red, fill=true)\nplot!(rectangle(5*√2,5*√2,-2.5*√2,-2.5*√2),c=:white,fill=true,legend=false)\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPlotting Distributions\nThe StatsPlots.jl package is very useful for making various plots of probability distributions.\n\nusing Distributions, StatsPlots\nplot(Normal(2, 5))\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nscatter(LogNormal(0.8, 1.5))\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe can also use this functionality to plot distributions of data in tabular data structures like DataFrames.\n\nusing DataFrames\ndat = DataFrame(a = 1:10, b = 10 .+ rand(10), c = 10 .* rand(10))\n@df dat density([:b :c], color=[:black :red])\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLog-Scaled Axes\n\nxx = .1:.1:10\nplot(xx.^2, xaxis=:log, yaxis=:log)\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nplot(exp.(x), yaxis=:log)",
    "crumbs": [
      "Tutorials",
      "Making Plots"
    ]
  },
  {
    "objectID": "tutorials/julia-plots.html#editing-plots-manually",
    "href": "tutorials/julia-plots.html#editing-plots-manually",
    "title": "Tutorial: Making Plots with Julia",
    "section": "Editing Plots Manually",
    "text": "Editing Plots Manually\n\npl = plot(1:4,[1, 4, 9, 16])\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npl.attr\n\nRecipesPipeline.DefaultsDict with 30 entries:\n  :dpi                      =&gt; 96\n  :background_color_outside =&gt; :match\n  :plot_titlefontvalign     =&gt; :vcenter\n  :warn_on_unsupported      =&gt; true\n  :background_color         =&gt; RGBA{Float64}(1.0,1.0,1.0,1.0)\n  :inset_subplots           =&gt; nothing\n  :size                     =&gt; (672, 480)\n  :display_type             =&gt; :auto\n  :overwrite_figure         =&gt; true\n  :html_output_format       =&gt; :svg\n  :plot_titlefontfamily     =&gt; :match\n  :plot_titleindex          =&gt; 0\n  :foreground_color         =&gt; RGB{N0f8}(0.0,0.0,0.0)\n  :window_title             =&gt; \"Plots.jl\"\n  :plot_titlefontrotation   =&gt; 0.0\n  :extra_plot_kwargs        =&gt; Dict{Any, Any}()\n  :pos                      =&gt; (0, 0)\n  :plot_titlefonthalign     =&gt; :hcenter\n  :tex_output_standalone    =&gt; false\n  :extra_kwargs             =&gt; :series\n  :thickness_scaling        =&gt; 1\n  :layout                   =&gt; 1\n  :plot_titlelocation       =&gt; :center\n  :plot_titlefontsize       =&gt; 16\n  :plot_title               =&gt; \"\"\n  ⋮                         =&gt; ⋮\n\n\n\npl.series_list[1]\n\nPlots.Series(RecipesPipeline.DefaultsDict(:plot_object =&gt; Plot{Plots.GRBackend() n=1}, :subplot =&gt; Subplot{1}, :label =&gt; \"y1\", :fillalpha =&gt; nothing, :linealpha =&gt; nothing, :linecolor =&gt; RGBA{Float64}(0.0,0.6056031611752245,0.9786801175696073,1.0), :x_extrema =&gt; (NaN, NaN), :series_index =&gt; 1, :markerstrokealpha =&gt; nothing, :markeralpha =&gt; nothing…))\n\n\n\npl[:size]=(300,200)\n\n(300, 200)\n\n\n\npl",
    "crumbs": [
      "Tutorials",
      "Making Plots"
    ]
  },
  {
    "objectID": "tutorials/latex-notebook.html",
    "href": "tutorials/latex-notebook.html",
    "title": "Tutorial: Using LaTeX in Jupyter Notebooks",
    "section": "",
    "text": "This tutorial was inspired and draws from Justin Bois’ tutorial.",
    "crumbs": [
      "Tutorials",
      "Math in Notebooks"
    ]
  },
  {
    "objectID": "tutorials/latex-notebook.html#overview",
    "href": "tutorials/latex-notebook.html#overview",
    "title": "Tutorial: Using LaTeX in Jupyter Notebooks",
    "section": "Overview",
    "text": "Overview\nIn this tutorial, you will learn how to typeset mathematics and equations in Jupyter notebooks using LaTeX.",
    "crumbs": [
      "Tutorials",
      "Math in Notebooks"
    ]
  },
  {
    "objectID": "tutorials/latex-notebook.html#inline-mathematics",
    "href": "tutorials/latex-notebook.html#inline-mathematics",
    "title": "Tutorial: Using LaTeX in Jupyter Notebooks",
    "section": "Inline Mathematics",
    "text": "Inline Mathematics\nTo include mathematical notation within text, enclose the LaTeX within dollar signs $. For example, to obtain the output\n\nthe objective function is \\(4x + 7x\\),\n\nyou would enter\n\nthe objective function is $4x + 7x$.\n\nYou can enter subscripts and superscripts with _ and ^, respectively; to get\n\nthe function is \\(f(x_i) = x_i^2\\),\n\ntype\n\nthe function is $f(x_i) = x_i^2$.\n\nIf you want multiple characters to be enclosed in a subscript or superscript, enclose them in braces {}:\n\n\\(e^{i \\pi} - 1 = 0\\) is produced by\n\n\n$e^{i \\pi} - 1 = 0$.\n\nTo get special characters like \\(\\pi\\) (or other Greek letters), precede their name (or sometimes a code) with a backslash: $\\pi$. There are a number of special characters like this, which you can find in cheatsheets like this one.\nBold characters, which you might use to denote vectors, can be rendered using \\mathbf:\n\n\\(\\mathbf{a} \\cdot \\mathbf{b} = \\sum_{i=1}^n a_i \\times b_i\\)\n\n\n$\\mathbf{a} \\cdot \\mathbf{b} = \\sum_{i=1}^n a_i \\times b_i$\n\nFractions can be displayed using \\frac{}{}, where the first bracket encloses the numerator and the second the denominator, as in\n\n\\(\\frac{1}{2}\\)\n\n\n$\\frac{1}{2}$",
    "crumbs": [
      "Tutorials",
      "Math in Notebooks"
    ]
  },
  {
    "objectID": "tutorials/latex-notebook.html#displaying-equations",
    "href": "tutorials/latex-notebook.html#displaying-equations",
    "title": "Tutorial: Using LaTeX in Jupyter Notebooks",
    "section": "Displaying Equations",
    "text": "Displaying Equations\nTo place equations or other mathematics on their own line(s), enclose the entire block in two dollar signs $$. For example, the prior dot-product definition could be displayed as \\[\n\\mathbf{a} \\cdot \\mathbf{b} = \\sum_{i=1}^n a_i \\times b_i\n\\] using\n$$\n\\mathbf{a} \\cdot \\mathbf{b} = \\sum_{i=1}^n a_i \\times b_i\n$$\nDisplaying equations on their own line(s) can improve the spacing of symbols like sums (as above) or fractions: compare the inline\n\n\\(x &lt; \\frac{1}{2}\\)\n\nto \\[\nx &lt; \\frac{1}{2}.\n\\]\nTo display multiple related lines in a single block, there are two environments of note. The first will center all of the equations, and is obtained by enclosing the equations in \\begin{gather} and \\end{gather}. Each line should be separated with \\\\:\n\\[\n\\begin{gather}\nx_1 + x_2 \\leq 5 \\\\\ny \\leq \\frac{1}{2}.\n\\end{gather}\n\\]\n$$\n\\begin{gather}\nx_1 + x_2 \\leq 5 \\\\\ny \\leq \\frac{1}{2}.\n\\end{gather}\n$$\nThe second environment will let you align the equations as you wish instead of automatically centering them, and is used by enclosing the equations with \\begin{align} and \\end{align}, with an ampersand & in front of the characters which will be used on each line to align the equations:\n\\[\n\\begin{align}\nx_1 + x_2 &\\leq 5 \\\\\ny &\\leq \\frac{1}{2}.\n\\end{align}\n\\]\n$$\n\\begin{align}\nx_1 + x_2 &\\leq 5 \\\\\ny &\\leq \\frac{1}{2}.\n\\end{align}\n$$",
    "crumbs": [
      "Tutorials",
      "Math in Notebooks"
    ]
  },
  {
    "objectID": "tutorials/latex-notebook.html#sizing-parentheses-or-brackets",
    "href": "tutorials/latex-notebook.html#sizing-parentheses-or-brackets",
    "title": "Tutorial: Using LaTeX in Jupyter Notebooks",
    "section": "Sizing Parentheses or Brackets",
    "text": "Sizing Parentheses or Brackets\nBy default, parentheses and brackets are sized for simple characters, but will look bad when used to surround fractions or sums, particularly when they are not used in-line: \\[\nx_n = (\\frac{1}{2})^n.\n\\] To make this look better, use \\left and \\right around the left and right parentheses or brackets: \\[\nx_n = \\left(\\frac{1}{2}\\right)^n\n\\]\n$$\nx_n = \\left(\\frac{1}{2}\\right)^n.\n$$\nThis is totally optional, but helps!",
    "crumbs": [
      "Tutorials",
      "Math in Notebooks"
    ]
  },
  {
    "objectID": "tutorials/latex-notebook.html#using-latex-in-figures",
    "href": "tutorials/latex-notebook.html#using-latex-in-figures",
    "title": "Tutorial: Using LaTeX in Jupyter Notebooks",
    "section": "Using LaTeX in Figures",
    "text": "Using LaTeX in Figures\nYou may want to use LaTeX in figures, for example if your \\(x\\)-axis should have a title like \\(x\\). To do this, load the LaTeXStrings package and precede the relevant LaTeX-formatted string (within in-line dollar signs $) with L, as in:\n\nusing Plots\nusing LaTeXStrings\n\nx = -2π:0.01:2π  \nplot(x, exp.(sin.(x)), xlabel=L\"$x$\", ylabel=L\"$e^{\\sin(x)}$\", legend=false)",
    "crumbs": [
      "Tutorials",
      "Math in Notebooks"
    ]
  },
  {
    "objectID": "faq.html",
    "href": "faq.html",
    "title": "FAQ",
    "section": "",
    "text": "Julia is open source. It has a great balance between intuitive syntax and speed. It was originally designed to share MATLAB’s mathematically-oriented syntax and Python’s readability. It can be used interactively, as more of a “scripting” language, but can be optimized to run code almost as quickly as C/C++. And it has a committed development base which is actively extending its capabilities: JuMP.jl lets us program optimization problems in a syntax that’s very close to the mathematical expressions, and the Turing.jl ecosystem has added some fantastic statistical and machine-learning libraries, among others. It’s becoming a common language among power systems modelers and environmental economists, among other applied communities.\nWhy not some common alternatives?\n\nR is fantastic for statistics, but it has a very unique syntax, and can be slow and struggles to scale to large-scale problems; while we won’t approach those limits in this class, there’s no need to go there for our purposes.\nPython is extremely readable, but also can be very slow unless you’re using libraries which are written in C++, and the syntax for these can be jarringly different than native Python.\nC/C++ are overkill for this class, and focusing on them would distract from our core engineering learning objectives.\nMATLAB is not free or open source. It also has some features which do not align with good broader coding and code maintainance practices (for example, having a single long function per file).\n\nUltimately, there are trade-offs with any language, and in this case, some specifics of Julia syntax and coding style may take an adjustment, but the pros outweigh the cons given the variety of programming tasks that we will be doing in this course.\n\n\n\nThere are a few on the Julia Resources page; please suggest additional resources!\n\n\n\nFirst, look at the Julia tutorials on the website to see if the relevant syntax is covered. If not, check the Julia Resources page to see if one of the provided cheatsheets lets you translate from another programming language to Julia. If those still don’t help, try Google; in particular, look for answers from https://stackoverflow.com or https://discourse.julialang.org.\nIf all of that fails, please post on Ed Discussion, and include what you’ve searched for and why they aren’t quite what you need. A stylized example of what you’d like to achieve is also helpful. As a last resort, come to office hours, but be aware you’ll have a low priority if you haven’t done the above steps, and the odds are that we’ll have to do those as well.",
    "crumbs": [
      "Course Information",
      "FAQ"
    ]
  },
  {
    "objectID": "faq.html#julia",
    "href": "faq.html#julia",
    "title": "FAQ",
    "section": "",
    "text": "Julia is open source. It has a great balance between intuitive syntax and speed. It was originally designed to share MATLAB’s mathematically-oriented syntax and Python’s readability. It can be used interactively, as more of a “scripting” language, but can be optimized to run code almost as quickly as C/C++. And it has a committed development base which is actively extending its capabilities: JuMP.jl lets us program optimization problems in a syntax that’s very close to the mathematical expressions, and the Turing.jl ecosystem has added some fantastic statistical and machine-learning libraries, among others. It’s becoming a common language among power systems modelers and environmental economists, among other applied communities.\nWhy not some common alternatives?\n\nR is fantastic for statistics, but it has a very unique syntax, and can be slow and struggles to scale to large-scale problems; while we won’t approach those limits in this class, there’s no need to go there for our purposes.\nPython is extremely readable, but also can be very slow unless you’re using libraries which are written in C++, and the syntax for these can be jarringly different than native Python.\nC/C++ are overkill for this class, and focusing on them would distract from our core engineering learning objectives.\nMATLAB is not free or open source. It also has some features which do not align with good broader coding and code maintainance practices (for example, having a single long function per file).\n\nUltimately, there are trade-offs with any language, and in this case, some specifics of Julia syntax and coding style may take an adjustment, but the pros outweigh the cons given the variety of programming tasks that we will be doing in this course.\n\n\n\nThere are a few on the Julia Resources page; please suggest additional resources!\n\n\n\nFirst, look at the Julia tutorials on the website to see if the relevant syntax is covered. If not, check the Julia Resources page to see if one of the provided cheatsheets lets you translate from another programming language to Julia. If those still don’t help, try Google; in particular, look for answers from https://stackoverflow.com or https://discourse.julialang.org.\nIf all of that fails, please post on Ed Discussion, and include what you’ve searched for and why they aren’t quite what you need. A stylized example of what you’d like to achieve is also helpful. As a last resort, come to office hours, but be aware you’ll have a low priority if you haven’t done the above steps, and the odds are that we’ll have to do those as well.",
    "crumbs": [
      "Course Information",
      "FAQ"
    ]
  },
  {
    "objectID": "faq.html#github",
    "href": "faq.html#github",
    "title": "FAQ",
    "section": "GitHub",
    "text": "GitHub\n\nWhy are we using GitHub?\nGitHub is an industry-standard version control platform. Anecdotally, adding GitHub to your skillset is a great resume booster for engineers who work in computing-heavy environments. For the purposes of our class, GitHub facilitates:\n\nAssignment management through GitHub Classroom;\nSharing of code/notebooks for debugging and asking for help (otherwise, I end up with many files with the same name, and might not open the right one…);\nUsing your repository as your submission in case something goes wrong and you can’t submit your completed assignment on time.\n\n\n\nWhat level of GitHub familiarity will I need?\nNone from the start! And the following commands are all you will need for this course (you can also use GitHub Desktop or use the GitHub functionality in VS Code, which we will discuss in class):\n\ngit clone &lt;github-repository-url&gt;: This is needed to “clone” your assignment repository (initialize your local repository).\ngit commit -m &lt;message&gt;: This is used to “lock in” changes that you’ve made to your files. You should make commits frequently as you make changes so you can revert to prior versions if something goes wrong (and make your messages meaningful so you know what changes you’ve made!)\ngit push: This syncs any committed changes to the remote GitHub repository. You must do this prior to using your repository to ask for help.",
    "crumbs": [
      "Course Information",
      "FAQ"
    ]
  },
  {
    "objectID": "faq.html#assignments-homework-labs-and-aes",
    "href": "faq.html#assignments-homework-labs-and-aes",
    "title": "FAQ",
    "section": "Assignments (Homework, Labs, and AEs)",
    "text": "Assignments (Homework, Labs, and AEs)\n\nHow do I access assignments?\nWe will use GitHub Classroom to manage assessments. Links to accept the assignments and create your repository will be posted on Ed Discussion as they are released, and posts with the links for active assignments will be pinned. The class schedule will link to a page which has a preview of the assignment, but links are not provided from this page to accept the assignment.\nFor the first assignment you accept, you will need to link your GitHub account to your entry in the class roster. You will not need to do this again for the rest of the semester.\n\n\nWhat if there’s an error in the assignment repository?\nThat’s certainly possible! If you believe I’ve made a mistake in writing the assignment, please document it in the Ed Discussion forum. I’ll describe steps for how to fix your files (unfortunately, I can’t do this remotely and push it to everyone’s repositories).\n\n\nHelp! My code isn’t working.\nHere are some steps I would follow:\n\nSearch for the error message you’re seeing. Often, you can find posts in the r/Julia subreddit, the official Julia forum, or Stack Overflow for the same or similar issues. You should do this first: if you can find the answer this way, it will be faster than other options, and if you can rule out some approaches that you’ve already tried, it will make the following steps go more smoothly.\nPost on Ed Discussion. For the most effective help, follow the following guidelines (adapted from Stack Overflow’s “How Do I Ask A Good Question?”):\n\nMake your post subject specific and descriptive. “Problem with HW 1 Problem 3” makes it hard for other members of the class community to know if they’re having a similar issue or if they can help. Since the TA and I may not be checking Ed religiously, you’ll get faster responses if other students feel prepared to help.\nIntroduce the problem. What have you tried? What error message are you getting? Have you been able to identify a specific line of code or section of code that’s causing the problem?\nProvide code. It’s very difficult to get a sense of what might be going wrong if you just say that you have a problem, even if you share the error message. If you have a small question (you can demonstrate the error with a brief snippet of code), you can directly put this into your Ed post, but otherwise, please provide a link to your GitHub repository and where to find the relevant codes.\n\n\n\n\n\n\nUpdate Your Repository!\n\n\n\nYou must commit and push your current files to GitHub prior to asking for help, or we won’t be able to see the code that you’re having trouble with.\n\n\n\nCome to office hours. If you can identify the problem, but we’re having trouble solving it via Ed or more urgency is required, please come to office hours and we can try to work through the issue. This is most helpful if you’ve already done some problem-solving on your own.\n\n\n\n\n\n\nGive Yourself Time To Problem-Solve\n\n\n\nWaiting until the last day or two to start an assignment can cause problems if you don’t have time to work through the following steps. If office hours are busy and you haven’t gone through the prior steps, you may be prioritized below than students who are have, and we may not have time to solve your problem. Running into coding challenges is not a valid reason to get an extension on an assignment!\n\n\n\n\n\nCan you help me debug my code?\nYour first task should be to identify what part of your code works as desired, to help narrow down where the bug could be. If your code is broken into functions or smaller blocks, set up simple tests to make find which block(s) are causing the problem. If your code is just one big script, try to divide it into logical sections, then conduct these tests. Once you identify the part of the code that is not working, go line by line to see what particular command is doing something unexpected. Once you’ve identified what line is doing something strange, try to search for how to solve the problem and/or post on Ed with your code snippet (actually copy the code into the post or provide a link to your GitHub repository, with the line number; do not paste a screenshot) and a description of what you’re trying to accomplish and what the specific problem is.\nIf you are not sure how to articulate what your code is trying to do (or are similarly unsure how to divide your code into logical units), that suggests that your problem is not debugging, but rather conceptual: step back and try to write out the logic of your code and how it aligns with the strategy you’ve developed to solve the problem. It might be that there is a conceptual problem rather than a bug, which we can definitely discuss!\nIf, however, you’ve tried the above steps and cannot figure out the bug, come to office hours, but if you have not done the above steps (and so cannot point to where exactly you’re running into a problem and cannot describe what that part of code is trying to accomplish), we will ask you to figure that out on your own first. Otherwise, we cannot fruitfully help — nobody is more familiar with your code and problem-solving strategy than you are.\n\n\nHow do I get a PDF of my notebook for submission?\nThere are two main options, depending on what you’ve already got set up on your computer.\n\n\n\n\n\n\nRun Notebook Cells Before Submission\n\n\n\nRemember to “Run All” cells prior to conversion and submission, or else we won’t see your results!\n\n\n\nIf you have a Python installation, you can use a tool called nbconvert to convert to a PDF (if you also have LaTeX installed) or HTML (and then you can use your browser to print to a PDF).\nIf you don’t have a Python installation, within VS Code, you can use IJulia.jl (which will be included in the environments provided with assignments in this class) as follows (enter these commands into the REPL) to open your notebook in your browser:\nusing IJulia\nnotebook()\nThis should open a Jupyter notebook interface in your browser. Navigate to and open the notebook, and once it has completed running, go to File -&gt; Print Preview in the browser menu and Print to PDF.\n\n\n\nHow do I submit my PDF to Gradescope?\nThe instructions for submitting your assignment to Gradescope can be found here.\n\n\n\n\n\n\nTag Pages\n\n\n\nMake sure that you mark/tag the pages corresponding to each question! Otherwise, we will deduct 10%. If a problem spans multiple pages, tag them all; if a page includes multiple problems, tag it several times. You may lose points if part of your answer is untagged (these will not be returned through a regrade request).",
    "crumbs": [
      "Course Information",
      "FAQ"
    ]
  },
  {
    "objectID": "project/peer-review.html",
    "href": "project/peer-review.html",
    "title": "Presentation Peer Review Instructions",
    "section": "",
    "text": "The goal of this peer review is for you to evaluate the efficacy of the communication and framing of the project in the presentation video. It is not to evaluate the content of the project itself.",
    "crumbs": [
      "Final Project",
      "Peer Review"
    ]
  },
  {
    "objectID": "project/peer-review.html#overview",
    "href": "project/peer-review.html#overview",
    "title": "Presentation Peer Review Instructions",
    "section": "",
    "text": "The goal of this peer review is for you to evaluate the efficacy of the communication and framing of the project in the presentation video. It is not to evaluate the content of the project itself.",
    "crumbs": [
      "Final Project",
      "Peer Review"
    ]
  },
  {
    "objectID": "project/peer-review.html#instructions",
    "href": "project/peer-review.html#instructions",
    "title": "Presentation Peer Review Instructions",
    "section": "Instructions",
    "text": "Instructions\nYou should be prompted to review two videos in Canvas starting on 12/10. Submit your reviews there (they will appear as anonymous comments to the reviewed group).\nNote: If you do not see the prompt or the instructions are not clear, reach out to Prof. Srikrishnan ASAP. You will not be able to submit reviews after the due date.\nYour review should, in the equivalent of no more than 1 page, answer the following questions:\n\nHow well did you understand the key question of the project? Can you restate it?\nWhat were the key results (be specific; do not just repeat the video!)?\nWhat were three things the presenters did well (be specific!)?\nWhat were three things the presenters could have done better (be specific!)?\n\nConclude with an overview rating: 1. Excellent; 2. Fine as is; 3. Needs some improvement; 4. Needs a lot of improvement.",
    "crumbs": [
      "Final Project",
      "Peer Review"
    ]
  },
  {
    "objectID": "project/peer-review.html#submission",
    "href": "project/peer-review.html#submission",
    "title": "Presentation Peer Review Instructions",
    "section": "Submission",
    "text": "Submission\nSubmit your reviews to Canvas by 9:00 PM on the due date.",
    "crumbs": [
      "Final Project",
      "Peer Review"
    ]
  },
  {
    "objectID": "project/report.html",
    "href": "project/report.html",
    "title": "Project Report Instructions",
    "section": "",
    "text": "Your project report is the final submission for the semester. It should be a self-contained description of your project, including sections for:\n\nBackground on your selected system and the project question (why did you pick this problem and why does it matter?);\nMethods, including problem formulation (how you defined your system and the mathematical formulation of your problem) and the specific approach(es) you are taking for the analysis, including justifications and how you incorporated relevant regulatory context into your problem;\nResults, including visual and quantitative analyses to support your insights;\nDiscussion and Conclusions connecting your results to the motivating problem, including how assumptions made in your project may have influenced the results or their interpretation as well as reflections on how your project connected to or extended the course material.",
    "crumbs": [
      "Final Project",
      "Report"
    ]
  },
  {
    "objectID": "project/report.html#overview",
    "href": "project/report.html#overview",
    "title": "Project Report Instructions",
    "section": "",
    "text": "Your project report is the final submission for the semester. It should be a self-contained description of your project, including sections for:\n\nBackground on your selected system and the project question (why did you pick this problem and why does it matter?);\nMethods, including problem formulation (how you defined your system and the mathematical formulation of your problem) and the specific approach(es) you are taking for the analysis, including justifications and how you incorporated relevant regulatory context into your problem;\nResults, including visual and quantitative analyses to support your insights;\nDiscussion and Conclusions connecting your results to the motivating problem, including how assumptions made in your project may have influenced the results or their interpretation as well as reflections on how your project connected to or extended the course material.",
    "crumbs": [
      "Final Project",
      "Report"
    ]
  },
  {
    "objectID": "project/report.html#instructions",
    "href": "project/report.html#instructions",
    "title": "Project Report Instructions",
    "section": "Instructions",
    "text": "Instructions\nYour report should be no longer than 5 pages (suggested 3-5 pages), not including references or figures, using the following format:\n\n1/2 inch margins on each side;\n11 point Calibri font;\n1.5x line spacing.\n\nMake sure to include references; the referencing style does not matter but should be a common one. More detailed methods or results can be included in an appendix after the references.\nSubmit a PDF of the report to Gradescope by 9:00 PM on the due date.",
    "crumbs": [
      "Final Project",
      "Report"
    ]
  },
  {
    "objectID": "project/presentation.html",
    "href": "project/presentation.html",
    "title": "Project Presentation Instructions",
    "section": "",
    "text": "Your project presentation will provide a narrative overview of your project. This presentation should be aimed at your classmates, who will be conducting peer evaluations of your presentation.\nCornell’s Help for Engineering Communications provides these tips for effective presentations.",
    "crumbs": [
      "Final Project",
      "Presentation"
    ]
  },
  {
    "objectID": "project/presentation.html#overview",
    "href": "project/presentation.html#overview",
    "title": "Project Presentation Instructions",
    "section": "",
    "text": "Your project presentation will provide a narrative overview of your project. This presentation should be aimed at your classmates, who will be conducting peer evaluations of your presentation.\nCornell’s Help for Engineering Communications provides these tips for effective presentations.",
    "crumbs": [
      "Final Project",
      "Presentation"
    ]
  },
  {
    "objectID": "project/presentation.html#instructions",
    "href": "project/presentation.html#instructions",
    "title": "Project Presentation Instructions",
    "section": "Instructions",
    "text": "Instructions\nYour recorded video should be no longer than 10 minutes. Every member of the group must participate equally in the recording. The following should be included:\nYou should feel free to structure in the way which makes the most narrative sense to you, but you should include the following (you can choose the order and how much you want to dedicate to each piece):\n\nProblem background and key question;\nShort (not too technical!) overview of the modeling and analytic method;\nCentral result(s);\nConclusions and discussion.\n\nSubmit the video to Canvas by 9:00 PM on the due date.",
    "crumbs": [
      "Final Project",
      "Presentation"
    ]
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#last-weektwo-weeks-ago",
    "href": "slides/lecture08-1-economic-dispatch.html#last-weektwo-weeks-ago",
    "title": "Power Systems and Economic Dispatch",
    "section": "Last Week/Two Weeks Ago",
    "text": "Last Week/Two Weeks Ago"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#overview-of-electric-power-systems",
    "href": "slides/lecture08-1-economic-dispatch.html#overview-of-electric-power-systems",
    "title": "Power Systems and Economic Dispatch",
    "section": "Overview of Electric Power Systems",
    "text": "Overview of Electric Power Systems\n\n\n\nPower Systems Schematic\n\n\n\nSource: Wikipedia"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#decisions-problems-for-power-systems",
    "href": "slides/lecture08-1-economic-dispatch.html#decisions-problems-for-power-systems",
    "title": "Power Systems and Economic Dispatch",
    "section": "Decisions Problems for Power Systems",
    "text": "Decisions Problems for Power Systems\n\n\n\nDecision Problems for Power Systems by Time Scale\n\n\n\nAdapted from Perez-Arriaga, Ignacio J., Hugh Rudnick, and Michel Rivier (2009)"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#electricity-generation-by-source",
    "href": "slides/lecture08-1-economic-dispatch.html#electricity-generation-by-source",
    "title": "Power Systems and Economic Dispatch",
    "section": "Electricity Generation by Source",
    "text": "Electricity Generation by Source\n\n\n\nElectricity Generation in 2022 by Source\n\n\n\nSource: U.S. Energy Information Administration"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#economic-dispatch",
    "href": "slides/lecture08-1-economic-dispatch.html#economic-dispatch",
    "title": "Power Systems and Economic Dispatch",
    "section": "Economic Dispatch",
    "text": "Economic Dispatch\nDecision Problem: Given a fleet of (online) generators, how do we meet demand at lowest cost?\n\nNew Constraints: Power plants are generally subject to engineering constraints that we had previously neglected:\n\nRamping limits\nMinimum/Maximum power outputs\nMay include network constraints (we will ignore here)"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#single-period-economic-dispatch-1",
    "href": "slides/lecture08-1-economic-dispatch.html#single-period-economic-dispatch-1",
    "title": "Power Systems and Economic Dispatch",
    "section": "Single-Period Economic Dispatch",
    "text": "Single-Period Economic Dispatch\nWhat are our variables?\n\n\n\n\nVariable\nMeaning\n\n\n\n\n\\(d\\)\ndemand (MW)\n\n\n\\(y_g\\)\ngeneration (MW) by generator \\(g \\in \\mathcal{G}\\)\n\n\n\\(VarCost_g\\)\nvariable generation cost ($/MWh) for generator \\(g\\)\n\n\n\\(P^{\\text{min/max}}_g\\)\ngeneration limits (MW) for generator \\(g\\)"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#note-on-variable-costs",
    "href": "slides/lecture08-1-economic-dispatch.html#note-on-variable-costs",
    "title": "Power Systems and Economic Dispatch",
    "section": "Note on Variable Costs",
    "text": "Note on Variable Costs\nIn practice, variable costs come from:\n\nlabor costs;\nequipment upkeep;\nfuel costs (the big one!).\n\nFuel is the big variable. The translation of fuel costs to generation costs depends on the efficiency (the heat rate) of the plant."
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#note-on-variable-costs-1",
    "href": "slides/lecture08-1-economic-dispatch.html#note-on-variable-costs-1",
    "title": "Power Systems and Economic Dispatch",
    "section": "Note on Variable Costs",
    "text": "Note on Variable Costs\n\n\nThese costs are often actually quadratic, not linear, due to efficiency changes.\nBut we can assume a piecewise linear approximation.\n\n\n\n\nTypical cost curve for a thermal generator\n\n\n\nSource: Ross Baldrick, UT Austin"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#single-period-economic-dispatch-2",
    "href": "slides/lecture08-1-economic-dispatch.html#single-period-economic-dispatch-2",
    "title": "Power Systems and Economic Dispatch",
    "section": "Single-Period Economic Dispatch",
    "text": "Single-Period Economic Dispatch\nThen the economic dispatch problem becomes:\n\\[\n\\begin{align}\n\\min_{y_g} & \\sum_g VarCost_g \\times y_g & \\\\\n\\text{subject to:} \\quad & \\sum_g y_g \\geq d & \\forall g \\in \\mathcal{G} \\\\[0.5em]\n& y_g \\leq P^{\\text{max}}_g & \\forall g \\in \\mathcal{G} \\\\[0.5em]\n& y_g \\geq P^{\\text{min}}_g & \\forall g \\in \\mathcal{G}\n\\end{align}\n\\]"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#single-period-example-data",
    "href": "slides/lecture08-1-economic-dispatch.html#single-period-example-data",
    "title": "Power Systems and Economic Dispatch",
    "section": "Single-Period Example: Data",
    "text": "Single-Period Example: Data\n\n1 biomass, 50 MW capacity, $5/MWh\n1 hydroelectric, 500 MW capacity, $0/MWh\n5 natural gas CCGT, 25-220 MW minimum, 50-620 MW capacity $22-37/MWh\n6 natural gas CT, 0-73 MW minimum, 48-100 MW capacity, $38-45/MWh\n\nLet’s assume demand is 2400 MW."
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#single-period-results",
    "href": "slides/lecture08-1-economic-dispatch.html#single-period-results",
    "title": "Power Systems and Economic Dispatch",
    "section": "Single-Period Results",
    "text": "Single-Period Results\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe cost of operating the system is $51,016, and the shadow price of the demand constraint is -$36."
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#cost-of-marginal-generation",
    "href": "slides/lecture08-1-economic-dispatch.html#cost-of-marginal-generation",
    "title": "Power Systems and Economic Dispatch",
    "section": "Cost of Marginal Generation",
    "text": "Cost of Marginal Generation\nHow can we understand these results?"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#dispatch-stack-and-merit-order",
    "href": "slides/lecture08-1-economic-dispatch.html#dispatch-stack-and-merit-order",
    "title": "Power Systems and Economic Dispatch",
    "section": "Dispatch Stack and Merit Order",
    "text": "Dispatch Stack and Merit Order\nThis supply curve (the dispatch stack) gives the merit order."
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#dispatch-stack-and-merit-order-1",
    "href": "slides/lecture08-1-economic-dispatch.html#dispatch-stack-and-merit-order-1",
    "title": "Power Systems and Economic Dispatch",
    "section": "Dispatch Stack and Merit Order",
    "text": "Dispatch Stack and Merit Order\nWhat might complicate this simple merit ordering based on variable costs?"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#ramping-constraints",
    "href": "slides/lecture08-1-economic-dispatch.html#ramping-constraints",
    "title": "Power Systems and Economic Dispatch",
    "section": "Ramping Constraints",
    "text": "Ramping Constraints\nNow, let’s consider multiple time periods.\nNot only do we need to meet demand at every time period, but we have additional ramping constraints.\nPlants can only increase and decrease their output by so much from time to time, by \\(R_g\\)."
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#multi-period-formulation",
    "href": "slides/lecture08-1-economic-dispatch.html#multi-period-formulation",
    "title": "Power Systems and Economic Dispatch",
    "section": "Multi-Period Formulation",
    "text": "Multi-Period Formulation\n\\[\n\\begin{align}\n\\min_{y_{g,t}} & \\sum_g VarCost_g \\times \\sum_t y_{g,t} & \\\\\n\\text{subject to:} \\quad & \\sum_g y_{g,t} = d_t & \\\\[0.5em]\n& y_{g,t} \\leq P^{\\text{max}}_g  & \\forall t \\in \\mathcal{T}, g \\in \\mathcal{G} \\\\[0.5em]\n& y_{g,t} \\geq P^{\\text{min}}_g & \\forall t \\in \\mathcal{T}, g \\in \\mathcal{G} \\\\[0.5em]\n& \\color{red}y_{g,t+1} - y_{g, t} \\leq R_g & \\forall t \\in \\mathcal{T}, g \\in \\mathcal{G} \\\\[0.5em]\n& \\color{red}y_{g,t} - y_{g, t+1} \\leq R_g &  \\forall t \\in \\mathcal{T}, g \\in \\mathcal{G}\n\\end{align}\n\\]"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#multi-period-generator-data",
    "href": "slides/lecture08-1-economic-dispatch.html#multi-period-generator-data",
    "title": "Power Systems and Economic Dispatch",
    "section": "Multi-Period Generator Data",
    "text": "Multi-Period Generator Data\nRamping constraints can vary strongly by generator type, which, combined with costs, influences whether we view generators as base load or peaking.\n\nNuclear plants generally have a very narrow range in which they can operate;\nCombustion turbine gas plants can ramp from 0-100% very rapidly."
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#multi-period-generator-data-1",
    "href": "slides/lecture08-1-economic-dispatch.html#multi-period-generator-data-1",
    "title": "Power Systems and Economic Dispatch",
    "section": "Multi-Period Generator Data",
    "text": "Multi-Period Generator Data\nWe’ll make this simple for this problem:\n\nBiomass, hydroelectric, CT can ramp from 0-100% each hour.\nCCGT plants can ramp from 50-100% of maximum capacity."
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#demand-curve",
    "href": "slides/lecture08-1-economic-dispatch.html#demand-curve",
    "title": "Power Systems and Economic Dispatch",
    "section": "Demand Curve",
    "text": "Demand Curve\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Demand for 2020 in NYISO Zone C"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#multi-period-results",
    "href": "slides/lecture08-1-economic-dispatch.html#multi-period-results",
    "title": "Power Systems and Economic Dispatch",
    "section": "Multi-Period Results",
    "text": "Multi-Period Results"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#the-duck-curve",
    "href": "slides/lecture08-1-economic-dispatch.html#the-duck-curve",
    "title": "Power Systems and Economic Dispatch",
    "section": "The “Duck Curve”",
    "text": "The “Duck Curve”\n\n\nRamping and minimum generation play a major role in systems with high levels of renewable penetration.\nFor example, a prominent feature of grids with large solar generation is the “duck curve” (right).\n\n\n\n\nCAISO Duck Curve\n\n\n\nSource: Power Magazine"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#key-takeaways-1",
    "href": "slides/lecture08-1-economic-dispatch.html#key-takeaways-1",
    "title": "Power Systems and Economic Dispatch",
    "section": "Key Takeaways",
    "text": "Key Takeaways\n\nCapacity Expansion is a foundational power systems decision problem.\nIs an LP with some basic assumptions.\nWe looked at a “greenfield” example: no existing plants.\nDecision problem becomes more complex with renewables (HW4) or “brownfield” (expanding existing fleet, possibly with retirements)."
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#next-classes",
    "href": "slides/lecture08-1-economic-dispatch.html#next-classes",
    "title": "Power Systems and Economic Dispatch",
    "section": "Next Classes",
    "text": "Next Classes\nWednesday: Fixed Costs and Unit Commitment\nMonday: Prelim 1 Review"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#assessments",
    "href": "slides/lecture08-1-economic-dispatch.html#assessments",
    "title": "Power Systems and Economic Dispatch",
    "section": "Assessments",
    "text": "Assessments\n\nHW4 assigned next week"
  },
  {
    "objectID": "slides/lecture08-1-economic-dispatch.html#questions",
    "href": "slides/lecture08-1-economic-dispatch.html#questions",
    "title": "Power Systems and Economic Dispatch",
    "section": "Questions?",
    "text": "Questions?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#course-policies",
    "href": "slides/lecture02-2-systems-intro.html#course-policies",
    "title": "Introduction to Systems Analysis",
    "section": "Course Policies",
    "text": "Course Policies\nIf you missed class last week, make sure you read the syllabus!."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#recap-of-grading-policies",
    "href": "slides/lecture02-2-systems-intro.html#recap-of-grading-policies",
    "title": "Introduction to Systems Analysis",
    "section": "Recap of Grading Policies",
    "text": "Recap of Grading Policies\n\nTag pages on Gradescope which are relevant for a given problem (labs this is the whole thing sans the intro/setup).\nExplain what your code is trying to accomplish outside of the code block.\n\nFor example: here are the equations you’re implementing or this is how you’re iterating through a problem.\n\nWhen in doubt, ask!\nRegrade requests should be made on Gradescope."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#questions",
    "href": "slides/lecture02-2-systems-intro.html#questions",
    "title": "Introduction to Systems Analysis",
    "section": "Questions?",
    "text": "Questions?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#what-is-a-system",
    "href": "slides/lecture02-2-systems-intro.html#what-is-a-system",
    "title": "Introduction to Systems Analysis",
    "section": "What Is A System?",
    "text": "What Is A System?\nA system is:\n\n\n“an interconnected set of elements that is coherently organized in a way that achieves something…\nA system must consist of three kinds of things: elements, interconnections and a function or purpose.”\n\n\n— Donella Meadows, Thinking in Systems: A Primer, 2008"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#why-are-systems-interesting",
    "href": "slides/lecture02-2-systems-intro.html#why-are-systems-interesting",
    "title": "Introduction to Systems Analysis",
    "section": "Why Are Systems Interesting?",
    "text": "Why Are Systems Interesting?\n\n\n“Interconnected set of elements”\n“Function or purpose”"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#example-climate-change",
    "href": "slides/lecture02-2-systems-intro.html#example-climate-change",
    "title": "Introduction to Systems Analysis",
    "section": "Example: Climate Change",
    "text": "Example: Climate Change\nChanges to climate occur based on a variety of processes across scales, including:\n\ncarbon sources/sinks;\naerosol emissions;\nocean heat uptake;\nsurface albedo;\nEl Niño/La Niña (ENSO)"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#example-climate-change-1",
    "href": "slides/lecture02-2-systems-intro.html#example-climate-change-1",
    "title": "Introduction to Systems Analysis",
    "section": "Example: Climate Change",
    "text": "Example: Climate Change\n\nCorrelations among Climate Parameters\nSource: Errickson et al. (2021)"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#example-climate-change-2",
    "href": "slides/lecture02-2-systems-intro.html#example-climate-change-2",
    "title": "Introduction to Systems Analysis",
    "section": "Example: Climate Change",
    "text": "Example: Climate Change\n\nCorrelations among Climate Parameters\nSource: Errickson et al. (2021)"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#example-water-pollution",
    "href": "slides/lecture02-2-systems-intro.html#example-water-pollution",
    "title": "Introduction to Systems Analysis",
    "section": "Example: Water Pollution",
    "text": "Example: Water Pollution\nContaminant levels in a body of water also depend on a number of processes which may have different scales and rates.\nCan we think of some?"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#system-state",
    "href": "slides/lecture02-2-systems-intro.html#system-state",
    "title": "Introduction to Systems Analysis",
    "section": "System State",
    "text": "System State\nSystem State: quantities or variables which evolve over time based on external inputs and system dynamics.\nThe state gives you a “snapshot” of the system at a given point in time."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#stocks-and-flows",
    "href": "slides/lecture02-2-systems-intro.html#stocks-and-flows",
    "title": "Introduction to Systems Analysis",
    "section": "Stocks and Flows",
    "text": "Stocks and Flows\n\n\nA stock is the amount of a system property: concentrations of a pollutant, numbers of currency units, etc.\nA flow is the way in which a stock changes: decay, diffusion, production, consumption, etc."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#residence-time",
    "href": "slides/lecture02-2-systems-intro.html#residence-time",
    "title": "Introduction to Systems Analysis",
    "section": "Residence Time",
    "text": "Residence Time\nWe can use the notion of stocks and flows to formalize the idea of residence time: average time a unit of a stock remains in the system (or a component of the system).\n\\[\n\\underbrace{\\tau}_{\\substack{\\text{Residence} \\\\[0.5em] \\text{Time}}} \\times \\overbrace{F}^{\\substack{\\text{Flow} \\\\[0.5em] \\text{In/Out}}} = \\underbrace{M}_{\\text{Stock}}\n\\]"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#steady-state-residence-time",
    "href": "slides/lecture02-2-systems-intro.html#steady-state-residence-time",
    "title": "Introduction to Systems Analysis",
    "section": "Steady-State Residence Time",
    "text": "Steady-State Residence Time\nSteady-state condition on flows \\(F_\\text{in}\\) and \\(F_\\text{out}\\):\n\n\\[\\begin{gather*}\nF_\\text{out} = F_\\text{in} = F \\\\\n\\Rightarrow \\bbox[5pt, border: 5px solid red]{\\tau = M/F}\n\\end{gather*}\n\\]"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#simple-example",
    "href": "slides/lecture02-2-systems-intro.html#simple-example",
    "title": "Introduction to Systems Analysis",
    "section": "Simple Example",
    "text": "Simple Example\nA college has a constant undergraduate enrollment of 15,000 students. No students flunk out or transfer, so the residence time is four years.\n\nHow many students graduate every year?\nHow many students enroll every year?"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#how-do-we-develop-models",
    "href": "slides/lecture02-2-systems-intro.html#how-do-we-develop-models",
    "title": "Introduction to Systems Analysis",
    "section": "How Do We Develop Models?",
    "text": "How Do We Develop Models?\n\n\nMass balance equations let us track changes in stocks at particular points;\nEquilibrium conditions are requirements that there is no net flow, and thus that stocks are preserved;\nFate and transport modeling involves quantifying how stocks change as they move through the system."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#systems-analysis",
    "href": "slides/lecture02-2-systems-intro.html#systems-analysis",
    "title": "Introduction to Systems Analysis",
    "section": "Systems Analysis",
    "text": "Systems Analysis\n\n\nWhat We Study\n\nSystem dynamics;\nResponse to inputs;\nAlternatives for management or design.\n\n\nNeeds\n\n\nDefinition of the system\nSystem model"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#what-do-we-need-to-define-a-system",
    "href": "slides/lecture02-2-systems-intro.html#what-do-we-need-to-define-a-system",
    "title": "Introduction to Systems Analysis",
    "section": "What Do We Need To Define A System?",
    "text": "What Do We Need To Define A System?\n\n\nComponents: relevant processes, agents, etc\nInterconnections: relationships between system components\nControl volume: unit of the system we are trying to model and/or manage\nInputs: control policies and/or external forcings\nOutputs: measured quantities of interest"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#example-reservoir-system",
    "href": "slides/lecture02-2-systems-intro.html#example-reservoir-system",
    "title": "Introduction to Systems Analysis",
    "section": "Example: Reservoir System",
    "text": "Example: Reservoir System\n\n\nFigure 1: Illustration of a system, including notation."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#what-is-a-model",
    "href": "slides/lecture02-2-systems-intro.html#what-is-a-model",
    "title": "Introduction to Systems Analysis",
    "section": "What Is A Model?",
    "text": "What Is A Model?\n\n\nPhysical Models\n\n\n\nFalling Water Miniature Model\n\n\n\nSource: Wikimedia\n\n\n\n\nMathematical Models\n\n\n\nMathematical Model Machine"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#mathematical-models-of-systems",
    "href": "slides/lecture02-2-systems-intro.html#mathematical-models-of-systems",
    "title": "Introduction to Systems Analysis",
    "section": "Mathematical Models of Systems",
    "text": "Mathematical Models of Systems\n\nConceptual Model of a System"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#environmental-systems",
    "href": "slides/lecture02-2-systems-intro.html#environmental-systems",
    "title": "Introduction to Systems Analysis",
    "section": "Environmental Systems",
    "text": "Environmental Systems\n\n\n\n\n\nConceptual Model of an Environmental System\n\n\n\n\nMunicipal sewage into lakes, rivers, etc.\nPower plant emissions into air\nSolid waste placed on landfill\nCO2 into atmosphere"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#deterministic-vs.-stochastic-models",
    "href": "slides/lecture02-2-systems-intro.html#deterministic-vs.-stochastic-models",
    "title": "Introduction to Systems Analysis",
    "section": "Deterministic vs. Stochastic Models",
    "text": "Deterministic vs. Stochastic Models\n\n\nDeterministic Models\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\nStochastic Models"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#descriptive-vs.-prescriptive-models",
    "href": "slides/lecture02-2-systems-intro.html#descriptive-vs.-prescriptive-models",
    "title": "Introduction to Systems Analysis",
    "section": "Descriptive vs. Prescriptive Models",
    "text": "Descriptive vs. Prescriptive Models\n\n\nDescriptive Models\n\nUsed primarily for describing or simulating dynamics.\nIntended for simulations and exploratory and/or Monte Carlo analysis.\n\n\n\n\nPrescriptive Models\n\nSpecify (prescribe) an action, decision, or policy.\nIntended for optimization or decision analysis."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#analytic-vs.-numerical-solutions",
    "href": "slides/lecture02-2-systems-intro.html#analytic-vs.-numerical-solutions",
    "title": "Introduction to Systems Analysis",
    "section": "Analytic vs. Numerical Solutions",
    "text": "Analytic vs. Numerical Solutions\nMathematical models can be solved:\n\nAnalytically: can find the exact solution in closed form;\nNumerically: can only find solutions (exact or approximate) using computational tools."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#all-models-are-wrong-but-some-are-useful",
    "href": "slides/lecture02-2-systems-intro.html#all-models-are-wrong-but-some-are-useful",
    "title": "Introduction to Systems Analysis",
    "section": "“All Models Are Wrong, But Some Are Useful”",
    "text": "“All Models Are Wrong, But Some Are Useful”\n\n\n…all models are approximations. Essentially, all models are wrong, but some are useful. However, the approximate nature of the model must always be borne in mind….\n\n\n— Box & Draper, Empirical Model Building and Response Surfaces, 1987"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#what-are-models-good-for",
    "href": "slides/lecture02-2-systems-intro.html#what-are-models-good-for",
    "title": "Introduction to Systems Analysis",
    "section": "What Are Models Good For?",
    "text": "What Are Models Good For?\n\n\nModels can corroborate a hypothesis by offering evidence to strengthen what may be already partly established through other means…\nThus, the primary value of models is heuristic: Models are representations, useful for guiding further study but not susceptible to proof.\n\n\n— Oreskes et al, “Verification, Validation, and Confirmation of Numerical Models in the Earth Sciences”, 1994"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#models-and-assumptions",
    "href": "slides/lecture02-2-systems-intro.html#models-and-assumptions",
    "title": "Introduction to Systems Analysis",
    "section": "Models And Assumptions",
    "text": "Models And Assumptions\n\nXKCD Comic 2355\nSource: XKCD 2355"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#key-takeaways-systems",
    "href": "slides/lecture02-2-systems-intro.html#key-takeaways-systems",
    "title": "Introduction to Systems Analysis",
    "section": "Key Takeaways (Systems)",
    "text": "Key Takeaways (Systems)\n\nA system is an interconnected set of components.\nSystems are interesting because interconnections can result in unexpected outcomes.\nKey terms:\n\nstate\nstocks\nflows"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#key-takeaways-systems-definition",
    "href": "slides/lecture02-2-systems-intro.html#key-takeaways-systems-definition",
    "title": "Introduction to Systems Analysis",
    "section": "Key Takeaways (Systems Definition)",
    "text": "Key Takeaways (Systems Definition)\n\nTo define a system, need to specify:\n\ncomponents\ninterconnections\ncontrol volume\nexternal inputs\noutputs of interest"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#key-takeaways-models",
    "href": "slides/lecture02-2-systems-intro.html#key-takeaways-models",
    "title": "Introduction to Systems Analysis",
    "section": "Key Takeaways (Models)",
    "text": "Key Takeaways (Models)\n\nMathematical models allow us to understand how external inputs combine with internal system dynamics to produce outputs.\nModels can be prescriptive or descriptive depending on goal of analysis.\nFor most interesting problems, cannot solve analytically and need to use numerical methods."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#key-takeaways-models-1",
    "href": "slides/lecture02-2-systems-intro.html#key-takeaways-models-1",
    "title": "Introduction to Systems Analysis",
    "section": "Key Takeaways (Models)",
    "text": "Key Takeaways (Models)\n\nSimulation models: Generate data by evaluating model to represent system dynamics.\nOptimization model: Find parameters which maximize/minimize some criterion."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#key-takeaways-warning",
    "href": "slides/lecture02-2-systems-intro.html#key-takeaways-warning",
    "title": "Introduction to Systems Analysis",
    "section": "Key Takeaways (Warning!)",
    "text": "Key Takeaways (Warning!)\n\nAll models are at best approximations: be conscious of what assumptions you’ve made and how they might change the modeled outcomes (you will be asked to do this on homeworks)."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#next-classes",
    "href": "slides/lecture02-2-systems-intro.html#next-classes",
    "title": "Introduction to Systems Analysis",
    "section": "Next Classes",
    "text": "Next Classes\nMonday: Example of Formulating/Analyzing Models.\nWednesday: Overview of System Dynamics"
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#assessments",
    "href": "slides/lecture02-2-systems-intro.html#assessments",
    "title": "Introduction to Systems Analysis",
    "section": "Assessments",
    "text": "Assessments\nHomework 1: Due Thursday at 9pm.\nWeekly Exercises: Due Monday before class."
  },
  {
    "objectID": "slides/lecture02-2-systems-intro.html#references-1",
    "href": "slides/lecture02-2-systems-intro.html#references-1",
    "title": "Introduction to Systems Analysis",
    "section": "References",
    "text": "References\n\n\n\n\n\n\n\n\nErrickson, F. C., Keller, K., Collins, W. D., Srikrishnan, V., & Anthoff, D. (2021). Equity is more important for the social cost of methane than climate uncertainty. Nature, 592, 564–570. https://doi.org/10.1038/s41586-021-03386-6"
  },
  {
    "objectID": "slides/notebooks/shallow-lake.html",
    "href": "slides/notebooks/shallow-lake.html",
    "title": "Shallow Lake Problem",
    "section": "",
    "text": "using Pkg\nPkg.activate(dirname(@__DIR__))\nPkg.instantiate()\nusing Plots\nusing LaTeXStrings\nusing Distributions\nusing Random"
  },
  {
    "objectID": "slides/notebooks/shallow-lake.html#introduction",
    "href": "slides/notebooks/shallow-lake.html#introduction",
    "title": "Shallow Lake Problem",
    "section": "Introduction",
    "text": "Introduction\nSystems can exhibit complex, nonlinear dynamics, including (but not limited to):\n\nbifurcations;\nreinforcing and dampening feedbacks; and\ntipping points.\n\nIn this notebook, we’ll look at a simple model which has very complex dynamics: the shallow lake problem introduced by Carpenter et al. (1999).\n\nCarpenter, S. R., Ludwig, D., & Brock, W. A. (1999). Management of eutrophication for lakes subject to potentially irreversible change. Ecol. Appl., 9(3), 751–771. https://doi.org/10.2307/2641327"
  },
  {
    "objectID": "slides/notebooks/shallow-lake.html#the-shallow-lake-problem",
    "href": "slides/notebooks/shallow-lake.html#the-shallow-lake-problem",
    "title": "Shallow Lake Problem",
    "section": "The Shallow Lake Problem",
    "text": "The Shallow Lake Problem\n\nOverview\nEutrophication is a common environmental problem in which plants and algae feed on excess nutrients and become overabundant. The large mass of plants and algae have several noxious effects on the ecosystem, including:\n\nhypoxia (reduction in oxygen from the decomposition of organic matter), leading to “dead zones”;\nacidification (from the CO2 produced by decomposition);\nreduced sunlight (from an accumulation of surface algae);\nclogged water intakes; and\nreduction in recreational value and drinking water quality.\n\nIn lakes, eutrophication is often caused by excess input of nutrients (particularly phosphorous, P), which can come from point sources (such as industrial processes) and/or non-point sources (such as agricultural runoff). As the P releases are related to economic activity, we can view this (simplified) lake management problem from the perspective of a tradeoff between economic benefits and the health of the lake: while there are benefits to the activities which lead to P releases, there are recreational, aesthetic, and ecological benefits to maintaining the lake in a non-eutrophic (or oligotrophic) state.\n\n\nModel Formulation\nSuppose we have a town which emits phosphorous into a lake as a by-product of economic activity. The level of P in the lake at a given time \\(t\\) is given by \\(X_t\\) (for the purposes of this problem, we will just treat all values as dimensionless).\nThe level of controllable P release in year \\(t\\) is \\(a_t\\). The lake also receives random levels of phosphorous from non-point source runoff, which we denote by \\(y_t\\). We model these random runoffs using a lognormal distribution \\(LogNormal(\\mu, \\sigma^2)\\), which ensures that the runoffs cannot be negative.\nThere is also some nutrient cycling in the lake which naturally reduces phosphorous concentrations. This cycling is the result of accumulation in the sediment and turnover (water motion disturbing the sediment and carrying the nutrients upwards) and consumers, such as mussels. This cycling is dependent on the state \\(X_t\\), \\(\\frac{X_t^q}{1 + X_t^q}\\). The lake also loses some of its P each time period of its due to outflows and consumption, which we assume is linearly proportional to the state, \\(bX_t\\).\n\n\n\nShallow Lake Problem Diagram\n\n\nAs a result, the lake dynamics are given by:\n\\[X_{t+1} = X_t + a_t + y_t + \\frac{X_t^q}{1 + X_t^q} - bX_t, \\quad y_t \\sim LogNormal(\\mu, \\sigma^2),\\]\nwhere parameter interpretation is given in the table below.\n\nLake problem parameters\n\n\nParameter\nDefinition\nUnits\n\n\n\n\n\\(X_t\\)\nP concentration in lake\ndimensionless\n\n\n\\(a_t\\)\npoint source P input\ndimensionless\n\n\n\\(y_t\\)\nnon-point source P input\ndimensionless\n\n\n\\(q\\)\nP recycling rate\ndimensionless\n\n\n\\(b\\)\nrate at which P is lost\ndimensionless"
  },
  {
    "objectID": "slides/notebooks/shallow-lake.html#lake-problem-dynamics",
    "href": "slides/notebooks/shallow-lake.html#lake-problem-dynamics",
    "title": "Shallow Lake Problem",
    "section": "Lake Problem Dynamics",
    "text": "Lake Problem Dynamics\nThis analysis is adapted from Quinn et al. (2017).\n\nQuinn, J. D., Reed, P. M., & Keller, K. (2017). Direct policy search for robust multi-objective management of deeply uncertain socio-ecological tipping points. Environmental Modelling & Software, 92, 125–141. https://doi.org/10.1016/j.envsoft.2017.02.017\nFirst, let’s look at how the balance of P recycling and outflows affects the accumulation of P in the lake absent additional inputs (\\(a=y=0\\)).\n\n# define functions for lake recycling and outflows\nlake_P_cycling(x, q) = x.^q ./ (1 .+ x.^q);\nlake_P_out(x, b) = b .* x;\n\n# define range of lake states X\nx = 0:0.05:2.5;\n\n\n# plot recycling and outflows for selected values of b and q\np1 = plot(x, lake_P_cycling(x, 2.5), color=:black, linewidth=5,legend=:topleft, label=:false, ylabel=\"P Flux\", xlabel=L\"$X_t$\", tickfontsize=14, guidefontsize=16, legendfontsize=14, palette=:tol_muted, framestyle=:zerolines, grid=:false)\nplot!(x, lake_P_out(x, 0.6), linewidth=3, linestyle=:dash, label=L\"$b=0.6$\")\nplot!(x, lake_P_out(x, 0.4), linewidth=3, linestyle=:dash, label=L\"$b=0.4$\")\nplot!(x, lake_P_out(x, 0.2), linewidth=3, linestyle=:dash, label=L\"$b=0.2$\")\nquiver!([1], [0.35], quiver=([1], [0.4]), color=:red, linewidth=2)\nquiver!([0.4], [0.19], quiver=([-0.125], [-0.05]), color=:red, linewidth=2)\nquiver!([2.5], [0.97], quiver=([-0.125], [-0.05]), color=:red, linewidth=2)\nplot!(ylims=(-0.02, 1))\nplot!(size=(600, 600))\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Lake eutrophication dynamics based on the shallow lake modelwithout additional inputs. The black line is the P recycling level (for $q=2.5), which adds P back into the lake, and the dashed lines correspond to differerent rates of P outflow (based on the linear parameter \\(b\\)). The lake P level is in equilibrium when the recycling rate equals the outflows. When the outflow is greater than the recycling flux, the lake’s P level decreases, and when the recycling flux is greater than the outflow, the P level naturally increases. The red lines show the direction of this net flux.\n\n\n\n\nBased on Figure 1, we can see that there are typically three equilibria: a stable equilibrium at \\(X=0\\), an unstable, oligotrophic equilibrium \\(X_o\\), and a stable, eutrophic equilibrium \\(X_e\\). When \\(X_t &lt; X_o\\), the lake tends towards a zero P level without external inputs, while when \\(X_t &gt; X_o\\), the lake will inevitably undergo eutrophication, as the P level will tend towards \\(X_e\\). This means that \\(X_t=X_o\\) corresponds to a tipping point: beyond that level, the lake will abruptly switch to a eutrophic state from which it cannot recover.\nThis lake is subject to a bifurcation depending on the values of \\(b\\) and \\(q\\). To see this, let’s fix \\(q=2.5\\), as in Figure 1. For \\(b=0.4\\), there are the two equilibria mentioned previously. However, when \\(b=0.2\\), there is only the unstable equilibrium \\(X=X_o\\) in addition to \\(X=0\\). For \\(b=0.6\\), the only equilibrium is \\(X=0\\), so any positive P input would result in eutrophication. This highlights the delicacy of systems which exhibit bifurcations: whether an equilibrium is stable or unstable, or even exists, can depend on a characteristic of the system which is often highly uncertain.\n\neq = [0, 0.67, 2.2]\nscatter!(p1, eq, (y -&gt; lake_P_cycling(y, 2.5)).(eq), label=\"Equilibria\", markersize=10, markercolor=:red)\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Lake eutrophication dynamics based on the shallow lake modelwithout additional inputs. The black line is the P recycling level (for $q=2.5), which adds P back into the lake, and the dashed lines correspond to differerent rates of P outflow (based on the linear parameter \\(b\\)). The lake P level is in equilibrium when the recycling rate equals the outflows. When the outflow is greater than the recycling flux, the lake’s P level decreases, and when the recycling flux is greater than the outflow, the P level naturally increases. The red lines show the direction of this net flux.\n\n\n\n\n\np2 = plot(x, 0.05 .+ lake_P_cycling(x, 2.5), color=:black, linewidth=5,legend=:topleft, label=:false, ylabel=\"P Flux\", xlabel=L\"$X_t$\", tickfontsize=14, guidefontsize=16, legendfontsize=14, palette=:tol_muted, framestyle=:zerolines, grid=:false)\nplot!(x, lake_P_out(x, 0.6), linewidth=3, linestyle=:dash, label=L\"$b=0.6$\")\nplot!(x, lake_P_out(x, 0.4), linewidth=3, linestyle=:dash, label=L\"$b=0.4$\")\nplot!(x, lake_P_out(x, 0.2), linewidth=3, linestyle=:dash, label=L\"$b=0.2$\")\nplot!(size=(600, 600))\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: Lake eutrophication dynamics based on the shallow lake model with. The black line is the P recycling level (for $q=2.5), which adds P back into the lake, and the dashed lines correspond to differerent rates of P outflow (based on the linear parameter \\(b\\)). The lake P level is in equilibrium when the recycling rate equals the outflows. When the outflow is greater than the recycling flux, the lake’s P level decreases, and when the recycling flux is greater than the outflow, the P level naturally increases. The red lines show the direction of this net flux."
  },
  {
    "objectID": "slides/notebooks/shallow-lake.html#simulating-the-model-under-constant-inflows",
    "href": "slides/notebooks/shallow-lake.html#simulating-the-model-under-constant-inflows",
    "title": "Shallow Lake Problem",
    "section": "Simulating The Model Under Constant Inflows",
    "text": "Simulating The Model Under Constant Inflows\nLet’s simulate the model when we fix \\(a\\) as a constant. Other parameters:\n\n\n\nVariable\nValue\nUnits\n\n\n\n\n\\(X_0\\)\n\\(0\\)\ndimensionless\n\n\n\\(\\mu\\)\n\\(\\log(0.03)\\)\ndimensionless\n\n\n\\(\\sigma^2\\)\n\\(0.1\\)\ndimensionless\n\n\n\\(q\\)\n\\(2.5\\)\ndimensionless\n\n\n\\(b\\)\n\\(0.4\\)\ndimensionless\n\n\n\n\nRandom.seed!(1)\n\n# set parameters\n\nX₀ = 0\nμ = log(0.03)\nσ² = 0.1\nq = 2.5\nb = 0.4\nT = 50\n\n50\n\n\n\ny = rand(LogNormal(μ, σ²), T)\nplot(y; label=\"Non-Point Source Inflows\", color=:black, marker=(:x, 5), guidefontsize=18, tickfontsize=16, legendfontsize=14, linewidth=3, legend=:topright)\nxlabel!(L\"t\")\nylabel!(L\"y_t\")\nplot!(size=(600, 600))\nylims!((0.025, 0.042))\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 4: Inflows \\(y_t\\) for this lake problem simulation.\n\n\n\n\n\nX₁ = zeros(T+1)\nX₂ = zeros(T+1)\n\nfor t = 1:T\n    X₁[t+1] = X₁[t] + y[t] + 0.025 + lake_P_cycling(X₁[t], q) - lake_P_out(X₁[t], b)\n    X₂[t+1] = X₂[t] + y[t] + 0.05 + lake_P_cycling(X₂[t], q) - lake_P_out(X₂[t], b)\nend\n\nplot((1:T+1) .- 1, X₁, color=:blue, label=L\"$a_t = 0.025$\", guidefontsize=18, tickfontsize=16, legendfontsize=16, linewidth=3)\nplot!((1:T+1) .- 1, X₂, color=:purple, label=L\"$a_t = 0.05$\", linewidth=3)\nxlabel!(L\"t\")\nylabel!(L\"X_t\")\nplot!(size=(600, 600))\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 5: State of the lake under two different constant release scenarios."
  },
  {
    "objectID": "slides/lecture01-2-lab-setup.html#lab-instructions",
    "href": "slides/lecture01-2-lab-setup.html#lab-instructions",
    "title": "Julia and GitHub Basics",
    "section": "Lab Instructions",
    "text": "Lab Instructions\n\nTry to finish by the end of class, ok if it takes a little longer.\nSubmit PDF tonight by 9pm: ok if it isn’t 100% complete, but we want to see evidence of effort."
  },
  {
    "objectID": "slides/lecture01-2-lab-setup.html#next-classes",
    "href": "slides/lecture01-2-lab-setup.html#next-classes",
    "title": "Julia and GitHub Basics",
    "section": "Next Classes",
    "text": "Next Classes\nMonday: Labor Day!\nWednesday: Intro to Systems Analysis"
  },
  {
    "objectID": "slides/lecture01-2-lab-setup.html#assessments",
    "href": "slides/lecture01-2-lab-setup.html#assessments",
    "title": "Julia and GitHub Basics",
    "section": "Assessments",
    "text": "Assessments\n\nWeekly Exercises: Basically a syllabus quiz.\nHW 1: Available, due 9/6."
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#shallow-lake-model",
    "href": "slides/lecture04-1-simulation.html#shallow-lake-model",
    "title": "Simulation and Box Models",
    "section": "Shallow Lake Model",
    "text": "Shallow Lake Model\n\nModel of phosphorous cycling\nFeatures complex dynamics: multiple equilibria, feedbacks, bifurcations"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#feedbacks",
    "href": "slides/lecture04-1-simulation.html#feedbacks",
    "title": "Simulation and Box Models",
    "section": "Feedbacks",
    "text": "Feedbacks\n\n\nUnstable equilibria can result from reinforcing (positive) feedback loops, where a shock to the system state gets amplified.\nFeedback loops can also be dampening (negative), where a shock is weakened (stable equilibria).\n\n\n\n\nIce-Albedo Feedback Loop"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#tipping-points-and-bifurcations",
    "href": "slides/lecture04-1-simulation.html#tipping-points-and-bifurcations",
    "title": "Simulation and Box Models",
    "section": "Tipping Points and Bifurcations",
    "text": "Tipping Points and Bifurcations\n\nUncertainty about system dynamics can dramatically change equilibria locations and behavior;\n“Shocks” (in this case, sedimentation/recycling disturbances or massive non-point source inflows) can irreversibly alter system outcomes."
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#questions",
    "href": "slides/lecture04-1-simulation.html#questions",
    "title": "Simulation and Box Models",
    "section": "Questions?",
    "text": "Questions?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#what-is-simulation",
    "href": "slides/lecture04-1-simulation.html#what-is-simulation",
    "title": "Simulation and Box Models",
    "section": "What is Simulation?",
    "text": "What is Simulation?\nSimulation: evaluating a model to understand how a system might evolve under a particular set of conditions.\n\nThink of simulation as data generation (or generative modeling).\nThe model represents a particular data-generating process."
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#why-simulate-systems",
    "href": "slides/lecture04-1-simulation.html#why-simulate-systems",
    "title": "Simulation and Box Models",
    "section": "Why Simulate Systems?",
    "text": "Why Simulate Systems?\n\n\nSystem involves complex, nonlinear dynamics that may not be analytically tractable.\nSetting up and running a real-world experiment is not possible.\nState depends on prior states or states of nearby locations, so need to iterate over multiple spatial or temporal steps.\nNeed to understand range of system performance across rarely-seen conditions."
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#types-of-simulation-models",
    "href": "slides/lecture04-1-simulation.html#types-of-simulation-models",
    "title": "Simulation and Box Models",
    "section": "Types of Simulation Models",
    "text": "Types of Simulation Models\n\nDeterministic vs. Stochastic\nDiscrete vs. Continuous"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#simulation-model-workflow",
    "href": "slides/lecture04-1-simulation.html#simulation-model-workflow",
    "title": "Simulation and Box Models",
    "section": "Simulation Model Workflow",
    "text": "Simulation Model Workflow\n\nSimulation Workflow"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#simulation-model-applications",
    "href": "slides/lecture04-1-simulation.html#simulation-model-applications",
    "title": "Simulation and Box Models",
    "section": "Simulation Model Applications",
    "text": "Simulation Model Applications\n\nWater balance/hydrologic flow models;\nClimate models (ocean heat/CO\\(_2\\) uptake through “box” layers)\nAirsheds\nEpidemiology\nSocial science (agent-based models)"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#what-is-a-box-model",
    "href": "slides/lecture04-1-simulation.html#what-is-a-box-model",
    "title": "Simulation and Box Models",
    "section": "What Is A Box Model?",
    "text": "What Is A Box Model?\nBox models are a common building block of simulation models.\n\n\nBox models are all about mass-balance (mass \\(m\\)), assume well-mixed within box.\nCan be steady-state \\((\\dot{m} = 0)\\) or not.\n\n\n\n\nSteady-State Box Example"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#airshed-model",
    "href": "slides/lecture04-1-simulation.html#airshed-model",
    "title": "Simulation and Box Models",
    "section": "Airshed Model",
    "text": "Airshed Model\nLet’s look at a simple steady-state model of an airshed.\n\n\n\nVariable\nMeaning\nUnits\n\n\n\n\n\\(m\\)\nmass of some air pollutant\ng\n\n\n\\(C\\)\nconcentration in box\ng/m\\(^3\\)\n\n\n\\(S, D\\)\nsource, deposition rate within the box\ng/s\n\n\n\\(u\\)\nwind speed\nm/s\n\n\n\\(L, W, H\\)\nbox dimensions\nm"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#selecting-box-dimensions",
    "href": "slides/lecture04-1-simulation.html#selecting-box-dimensions",
    "title": "Simulation and Box Models",
    "section": "Selecting Box Dimensions",
    "text": "Selecting Box Dimensions\nWhat is relevant for the box dimensions \\(L\\), \\(W\\), and \\(H\\)?\nPrimarily the assumption(s) about mixing:\n\nMixing height: is there an atmospheric inversion which limits mixing height?\nHomogeneity of input/output flows and emissions."
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#steady-state-airshed-box-model",
    "href": "slides/lecture04-1-simulation.html#steady-state-airshed-box-model",
    "title": "Simulation and Box Models",
    "section": "Steady-State Airshed Box Model",
    "text": "Steady-State Airshed Box Model\nSteady-state box ⇒ \\(\\dot{m} = 0\\).\n\n\\[\\begin{align}\n0 &= m_\\text{in} - m_\\text{out} + S - D \\\\[0.5em]\n&\\class{\\fragment}{{} = (u WH) C_\\text{in} - (u WH) C + S - D } \\\\[0.5em]\n\\end{align}\\]\n\n\nSolving for \\(C\\): \\[C = C_{in} + \\frac{S-D}{uWH}\\]"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#decay-processes",
    "href": "slides/lecture04-1-simulation.html#decay-processes",
    "title": "Simulation and Box Models",
    "section": "Decay Processes",
    "text": "Decay Processes\nNow let’s assume some process affecting \\(m\\) depends on time.\nFor example: let’s say we care about an air pollutant which has a first-order decay rate \\(k\\), so \\(D(t) = D_0 - km(t)\\).\n\\[\n\\Rightarrow \\frac{dm}{dt} = m_\\text{in} - m_\\text{out} + S - D_0 - km\n\\]\n\n\\[\n\\dot{m} = \\frac{d(CV)}{dt} = \\overbrace{(u WH) C_\\text{in}}^{\\text{inflow}} - \\overbrace{(u WH) C}^{\\text{outflow}} + \\overbrace{S - D_0}^{\\text{net emissions}} - \\overbrace{kCV}^{\\text{mass decay}}\n\\]"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#discretizing-continuous-models",
    "href": "slides/lecture04-1-simulation.html#discretizing-continuous-models",
    "title": "Simulation and Box Models",
    "section": "Discretizing Continuous Models",
    "text": "Discretizing Continuous Models\nWe could analytically solve this particular differential equation, but in general this may not be possible without strong assumptions.\nInstead, we can discretize these models using methods from CEE 3200!"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#euler-discretization",
    "href": "slides/lecture04-1-simulation.html#euler-discretization",
    "title": "Simulation and Box Models",
    "section": "Euler Discretization",
    "text": "Euler Discretization\nRecall that \\[\\frac{df}{dt} = \\lim_{\\Delta t \\to 0} \\frac{\\Delta f(t)}{\\Delta t}.\\]\nSo if we pick a sufficiently small step size \\(\\Delta t\\), can use this as an approximation:\n\\[\\frac{df}{dt} \\approx \\frac{\\Delta f(t)}{\\Delta t}\\]"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#discretizing-the-airshed-model",
    "href": "slides/lecture04-1-simulation.html#discretizing-the-airshed-model",
    "title": "Simulation and Box Models",
    "section": "Discretizing the Airshed Model",
    "text": "Discretizing the Airshed Model\n\\[\n\\begin{align*}\n\\frac{d(CV)}{dt} &= (u WH) C_\\text{in} - (u WH) C(t) + S - D_0 - kC(t)V \\\\[0.5em]\n\\frac{d(C)}{dt} &= \\frac{u}{L} C_\\text{in} - \\frac{u}{L} C(t) + \\frac{S - D_0}{V} - kC(t) \\\\\n\\end{align*}\n\\]\n\n\\[\n\\frac{C(t+1) - C(t)}{\\Delta t} = \\frac{u}{L} C_\\text{in} - \\frac{u}{L} C(t) + \\frac{S - D_0}{V} - kC(t)\n\\]\n\n\n\\[\n\\bbox[5px, border: red 5px solid]{C(t+1) = C(t) + \\Delta t \\left(\\frac{u}{L} \\left(C_\\text{in} - C(t)\\right) + \\frac{S - D_0}{V} - kC(t)\\right)}\n\\]"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#how-to-simulate",
    "href": "slides/lecture04-1-simulation.html#how-to-simulate",
    "title": "Simulation and Box Models",
    "section": "How To Simulate?",
    "text": "How To Simulate?\n\nPick \\(\\Delta t\\);\nStarting at \\(t=1\\), iterate equation until end-time \\(T\\)."
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#simple-simulation-code",
    "href": "slides/lecture04-1-simulation.html#simple-simulation-code",
    "title": "Simulation and Box Models",
    "section": "Simple Simulation Code",
    "text": "Simple Simulation Code\n\n# this function computes the increment by which the concentration\n# is updated at each step\nfunction box_simulate_timestep(C, Ci, u, W, H, L, S, D, k)\n    return ((u / L) * (Ci - C) + (S - D) / (W * H * L) - (k * C))\nend\n\n# this function loops over the timesteps to simulate\n# the concentration series\nfunction airshed_simulate(C₀, Ci, u, W, H, L, S, D, k, T, Δt)\n    # initialize C storage\n    # for code simplicity we make the array length T+1 so\n    # index 1 is C₀\n    steps = Int64(T / Δt)\n    C = zeros(steps + 1)\n    C[1] = C₀\n    for t = 1:steps\n        C[t+1] = C[t] + \n            Δt * box_simulate_timestep(C[t], Ci, u, W, H, L, S, D, k)\n    end\n    # the first element of C is the initial condition\n    return C\nend\nΔt = 1.0\nT = 10\nC₀ = 0.1\nk = 0.3\nu = 2\nL = 4\nW = 4\nH = 4\nCi = 0.2\nS = 10\nD = 13\nC = airshed_simulate(C₀, Ci, u, W, H, L, S, D, k, T, Δt)"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#simulation-results",
    "href": "slides/lecture04-1-simulation.html#simulation-results",
    "title": "Simulation and Box Models",
    "section": "Simulation Results",
    "text": "Simulation Results\n\n\nCode\np = plot(; xlabel=\"Time\", ylabel=L\"Pollutant concentration (g/m$^3$)\")\n\n# find exact solution and plot for comparison\n# need these substitutions for the exact solution; not critical otherwise\nV = 4^3\nP = (u / L) * Ci + (S - D) / V\nl = (u / L) + k\n# use steps of 0.01 to smooth the plotting\nC₁ = C₀ .* exp.(-l * (0:0.01:T))\nC₂ = (P / l) * (1 .- exp.(-l * (0:0.01:T)))\nC_exact = C₁ .+ C₂\nplot!(p, 0:0.01:T, C_exact, linewidth=3, color=:black, label=\"Exact Solution\")\n\n# add simulated solution\nplot!(p, 0:Δt:T, C, linewidth=3, color=:blue, label=\"Simulated Solution (Δt = 1)\")\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Simulation results for airshed model."
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#impact-of-time-step-size",
    "href": "slides/lecture04-1-simulation.html#impact-of-time-step-size",
    "title": "Simulation and Box Models",
    "section": "Impact of Time Step Size",
    "text": "Impact of Time Step Size\n\n\nCode\nCsmall = airshed_simulate(C₀, Ci, u, W, H, L, S, D, k, T, 0.1)\nplot!(p, 0:0.1:T, Csmall, linewidth=3, color=:purple, label=\"Simulated Solution (Δt = 0.1)\")\nCsmaller = airshed_simulate(C₀, Ci, u, W, H, L, S, D, k, T, 0.01)\nplot!(p, 0:0.01:T, Csmaller, linewidth=3, color=:orange, label=\"Simulated Solution (Δt = 0.01)\")\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Simulation results for airshed model with varying timesteps."
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#time-varying-dynamic-simulation",
    "href": "slides/lecture04-1-simulation.html#time-varying-dynamic-simulation",
    "title": "Simulation and Box Models",
    "section": "Time-Varying (Dynamic) Simulation",
    "text": "Time-Varying (Dynamic) Simulation\nIn our prior example, inflow conditions were static (often an assumption needed for analytic solutions).\nThe simulation framework lets us make these time-varying:\n\\[\n\\begin{aligned}\nC(t+1) &= C(t) + \\\\\n& \\qquad \\Delta t \\left(\\frac{{\\color{red}u(t)}}{L} \\left({\\color{red}C_\\text{in}(t)} - C(t)\\right) + {\\color{red}S(t)} - {\\color{red}D(t)} - kC(t)\\right)\n\\end{aligned}\n\\]"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#dynamic-simulation-code",
    "href": "slides/lecture04-1-simulation.html#dynamic-simulation-code",
    "title": "Simulation and Box Models",
    "section": "Dynamic Simulation Code",
    "text": "Dynamic Simulation Code\n\nfunction airshed_simulate_dynamic(C₀, Ci, u, W, H, L, S, D, k, T, Δt)\n    # initialize C storage\n    # for code simplicity we make the array length T+1 so\n    # index 1 is C₀\n    steps = Int64(T / Δt)\n    C = zeros(steps + 1)\n    C[1] = C₀\n    for t = 1:steps\n        C[t+1] = C[t] + Δt * box_simulate_timestep(C[t], Ci[t], u[t], W, H, L, S, D, k)\n    end\n    # the first element of C is the initial condition\n    return C\nend"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#dynamic-inputs",
    "href": "slides/lecture04-1-simulation.html#dynamic-inputs",
    "title": "Simulation and Box Models",
    "section": "Dynamic Inputs",
    "text": "Dynamic Inputs\n\nCode\nΔt = 0.1\nsteps = Int(T / Δt) + 1\nu = rand(LogNormal(log(2), 0.05), steps)\nCi = rand(LogNormal(log(0.2), 0.1), steps)\n\npwind = plot(0:Δt:T, u; title=\"Wind Speed\", size=(550, 450), xlabel=\"Time\", ylabel=\"m/s\")\npincoming = plot(0:Δt:T, Ci; title=\"Incoming Concentration\", size=(550, 450), xlabel=\"Time\", ylabel=L\"$\\mathrm{g/m}^3$\")\n\ndisplay(pwind)\ndisplay(pincoming)\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Dynamic simulation results for airshed model.\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(b)\n\n\n\n\n\n\n\nFigure 3"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#dynamic-simulation-results",
    "href": "slides/lecture04-1-simulation.html#dynamic-simulation-results",
    "title": "Simulation and Box Models",
    "section": "Dynamic Simulation Results",
    "text": "Dynamic Simulation Results\n\n\nCode\nCdynamic = airshed_simulate_dynamic(C₀, Ci, u, W, H, L, S, D, k, T, 0.1)\np = plot(; xlabel=\"Time\", ylabel=L\"Pollutant Concentration ($\\mathrm{g/m}^3$)\")\nplot!(p, 0:0.1:T, Cdynamic, linewidth=3, color=:purple, label=\"Dynamic Simulated Solution\")\nplot!(p, 0:0.1:T, Csmall, linewidth=3, color=:red, label=\"Static Simulated Solution\")\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 4: Dynamic simulation results for airshed model."
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#more-complex-domains",
    "href": "slides/lecture04-1-simulation.html#more-complex-domains",
    "title": "Simulation and Box Models",
    "section": "More Complex Domains",
    "text": "More Complex Domains\nWe can use the single box simulation as a building block for more complex domains, possibly with different dynamics.\n\nTwo box airshed model"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#multi-box-simulation-approach",
    "href": "slides/lecture04-1-simulation.html#multi-box-simulation-approach",
    "title": "Simulation and Box Models",
    "section": "Multi-Box Simulation Approach",
    "text": "Multi-Box Simulation Approach\nTip: Use smaller functions as a building block!"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#multi-box-simulation-approach-1",
    "href": "slides/lecture04-1-simulation.html#multi-box-simulation-approach-1",
    "title": "Simulation and Box Models",
    "section": "Multi-Box Simulation Approach",
    "text": "Multi-Box Simulation Approach\n\n# here we use our timestep function on each box individually,\n# but update them \"together\"\nfunction airshed_twobox_simulate(C1₀, C2₀, Ci, u, W1, W2, H1, H2, L1, L2, S1, D1, S2, D2, k, T, Δt)\n    # initialize C storage\n    # for code simplicity we make the array length T+1 so\n    # index 1 is C₀\n    steps = Int64(T / Δt)\n    C1 = zeros(steps + 1)\n    C2 = zeros(steps + 1)\n    C1[1] = C1₀\n    C2[1] = C2₀\n    # for each time step, first we update box 1, then box 2\n    for t = 1:steps\n        C1[t+1] = C1[t] + Δt * box_simulate_timestep(C1[t], Ci, u, W1, H1, L1, S1, D1, k)\n        C2[t+1] = C2[t] + Δt * box_simulate_timestep(C2[t], C1[t+1], u, W2, H2, L2, S2, D2, k)\n    end\n    return (C1, C2)\nend"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#two-box-simulation-results",
    "href": "slides/lecture04-1-simulation.html#two-box-simulation-results",
    "title": "Simulation and Box Models",
    "section": "Two-Box Simulation Results",
    "text": "Two-Box Simulation Results\n\nCode\nΔt = 0.1\nT = 10\nC1₀ = 0.05\nC2₀ = 0.1\nk = 0.3\nu = 2\nW1 = 6\nH1 = 6\nL1 = 6\nW2 = 4\nH2 = 4\nL2 = 4\nCi = 0.01\nS1 = 30\nD1 = 20\nS2 = 10\nD2 = 13\nC = airshed_twobox_simulate(C1₀, C2₀, Ci, u, W1, W2, H1, H2, L1, L2, S1, D1, S2, D2, k, T, Δt)\n\np1 = plot(0:0.1:T, C[1], linewidth=3, color=:purple, xlabel=\"Time\", ylabel=L\"Concentration ($\\mathrm{g/m}^3$)\", title=\"Box 1\", size=(600, 500))\np2 = plot(0:0.1:T, C[2], linewidth=3, color=:red, xlabel=\"Time\", ylabel=L\"Concentration ($\\mathrm{g/m}^3$)\", title=\"Box 2\", size=(600, 500))\ndisplay(p1)\ndisplay(p2)\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Simulation results for two-box airshed model.\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(b)\n\n\n\n\n\n\n\nFigure 5"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#key-takeaways-1",
    "href": "slides/lecture04-1-simulation.html#key-takeaways-1",
    "title": "Simulation and Box Models",
    "section": "Key Takeaways",
    "text": "Key Takeaways\n\nSimulation modeling involves using a model to generate “data” under certain conditions.\nSimulations are the main approach to descriptive modeling.\nDivide domain into spatial domains and/or temporal steps and iterate.\nDiscretize equations if needed."
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#next-classes",
    "href": "slides/lecture04-1-simulation.html#next-classes",
    "title": "Simulation and Box Models",
    "section": "Next Classes",
    "text": "Next Classes\nNext Week: Dissolved Oxygen"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#assessments",
    "href": "slides/lecture04-1-simulation.html#assessments",
    "title": "Simulation and Box Models",
    "section": "Assessments",
    "text": "Assessments\nHomework 2: Due 9/19 at 9pm"
  },
  {
    "objectID": "slides/lecture04-1-simulation.html#references-1",
    "href": "slides/lecture04-1-simulation.html#references-1",
    "title": "Simulation and Box Models",
    "section": "References",
    "text": "References"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#simulation",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#simulation",
    "title": "Uncertainty and Monte Carlo",
    "section": "Simulation",
    "text": "Simulation\n\n“Mimic” data generation given a certain model for the relevant processes;\nOften requires some type of discretization (not always!)"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#simulation-workflow",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#simulation-workflow",
    "title": "Uncertainty and Monte Carlo",
    "section": "Simulation Workflow",
    "text": "Simulation Workflow\n\n\n\nSimulation Workflow"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#simulation-1",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#simulation-1",
    "title": "Uncertainty and Monte Carlo",
    "section": "Simulation",
    "text": "Simulation\n\n“Mimic” data generation given a certain model for the relevant processes;\nOften requires some type of discretization (not always!)\nMore complex approaches (e.g. discrete-event simulation) for specific use cases."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#what-we-havent-discussed",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#what-we-havent-discussed",
    "title": "Uncertainty and Monte Carlo",
    "section": "What We Haven’t Discussed",
    "text": "What We Haven’t Discussed\n\nCalibration: How do we select parameter values?\nValidation: Does the model adequately reproduce the system dynamics?"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#dissolved-oxygen",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#dissolved-oxygen",
    "title": "Uncertainty and Monte Carlo",
    "section": "Dissolved Oxygen",
    "text": "Dissolved Oxygen\n\nDissolved oxygen (DO) is essential for water quality and aquatic life.\nCommonly regulated to keep DO above a minimum threshold.\nDO impacted by a number of factors, notably organic waste decomposition and nitrification.\n“Sag Curve”: DO reduced near a discharge until waste decomposition reduces OD and re-aeration can occur."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#questions",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#questions",
    "title": "Uncertainty and Monte Carlo",
    "section": "Questions?",
    "text": "Questions?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#systems-and-uncertainty",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#systems-and-uncertainty",
    "title": "Uncertainty and Monte Carlo",
    "section": "Systems and Uncertainty",
    "text": "Systems and Uncertainty\n\n\n\nDeterministic models: uncertainty due to the separation between the “internals” of the system and the “external” environment.\nStochastic models: additional uncertainty from internal stochasticity\n\n\n\n\n\nConceptual Schematic of a Systems Model"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#what-is-uncertainty",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#what-is-uncertainty",
    "title": "Uncertainty and Monte Carlo",
    "section": "What is Uncertainty?",
    "text": "What is Uncertainty?\n\nGlib Answer: A lack of certainty!\n\n\nMore Seriously: Uncertainty refers to an inability to exactly describe current or future values or states."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#types-of-uncertainty",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#types-of-uncertainty",
    "title": "Uncertainty and Monte Carlo",
    "section": "Types of Uncertainty",
    "text": "Types of Uncertainty\nTwo (broad) types of uncertainties:\n\nAleatory uncertainty, or uncertainties resulting from randomness;\nEpistemic uncertainty, or uncertainties resulting from lack of knowledge."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#systems-and-risk",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#systems-and-risk",
    "title": "Uncertainty and Monte Carlo",
    "section": "Systems and Risk",
    "text": "Systems and Risk\nDesigning and managing environmental systems is often about minimizing or managing risk:\n\nMaintaining clean air/water;\nPower grid reliabiliy standards;\nFlooding/other hazards;\nClimate change mitigation/adaptation."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#what-is-risk",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#what-is-risk",
    "title": "Uncertainty and Monte Carlo",
    "section": "What is Risk?",
    "text": "What is Risk?\nThe Society for Risk Analysis definition:\n\n\n“risk” involves uncertainty about the effects/implications of an activity with respect to something that humans value (such as health, well-being, wealth, property or the environment), often focusing on negative, undesirable consequences."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#so-what-is-risk",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#so-what-is-risk",
    "title": "Uncertainty and Monte Carlo",
    "section": "So What is Risk?",
    "text": "So What is Risk?\nImportant: “Risk” is not just another words for probability, but:\n\nInvolves uncertainty;\nUndesireable outcomes;\nEffects matter, not just the events themselves."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#components-of-risk",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#components-of-risk",
    "title": "Uncertainty and Monte Carlo",
    "section": "Components of Risk",
    "text": "Components of Risk\n\n\nMultiple components which contribute to risk:\n\nProbability of a hazard;\nExposure to that hazard;\nVulnerability to outcomes;\nSocioeconomic responses.\n\n\n\n\n\nOverview of the Components of Risk\n\n\n\nSource: Simpson et al (2021)"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#systems-and-risk-management",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#systems-and-risk-management",
    "title": "Uncertainty and Monte Carlo",
    "section": "Systems and Risk Management",
    "text": "Systems and Risk Management\nRisk management is often a key consideration in systems analysis. For example, consider regulatory standards.\n\nOften a tradeoff between strictness of a regulation and costs of compliance.\nSystems modeling is a key way to understand\n\nthe impacts of changing a regulation\nthe probability of failure to meet standards."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#two-definitions-of-probability",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#two-definitions-of-probability",
    "title": "Uncertainty and Monte Carlo",
    "section": "Two Definitions of Probability",
    "text": "Two Definitions of Probability\nWe often represent uncertainties with probabilities. What is a probability?\n\nLong-run frequency of an event (frequentist)\nDegree of belief that a proposition is true (Bayesian)"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#conditional-probabilities",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#conditional-probabilities",
    "title": "Uncertainty and Monte Carlo",
    "section": "Conditional Probabilities",
    "text": "Conditional Probabilities\nWe often don’t want to just know if a particular event \\(A\\) has a certain probability, but also how other events (call them \\(B\\)) might depend on that outcome.\nIn other words:\nWe want the conditional probability of \\(B\\) given \\(A\\), denoted \\(\\mathbb{P}(B|A)\\)."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#conditional-probabilities-1",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#conditional-probabilities-1",
    "title": "Uncertainty and Monte Carlo",
    "section": "Conditional Probabilities",
    "text": "Conditional Probabilities\nWe can write conditional probabilities in terms of unconditional probabilities:\n\\[\\mathbb{P}(B|A) = \\frac{\\mathbb{P}(BA)}{\\mathbb{P}(A)}.\\]"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#bayes-theorem",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#bayes-theorem",
    "title": "Uncertainty and Monte Carlo",
    "section": "Bayes’ Theorem",
    "text": "Bayes’ Theorem\nConditional probabilities can be inverted according to Bayes’ Theorem:\n\\[\\mathbb{P}(A|B) = \\frac{\\mathbb{P}(B|A) \\times \\mathbb{P}(A)}{\\mathbb{B}}.\\]"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#probability-distributions",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#probability-distributions",
    "title": "Uncertainty and Monte Carlo",
    "section": "Probability Distributions",
    "text": "Probability Distributions\nThe probability of possible values of an unknown quantity are often represented as a probability distribution.\nProbability distributions associate a probability to every event under consideration (the event space) and have to follow certain rules (for example, total probability = 1)."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#selecting-a-distribution",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#selecting-a-distribution",
    "title": "Uncertainty and Monte Carlo",
    "section": "Selecting a Distribution",
    "text": "Selecting a Distribution\n\n\nThe specification of distributions can strongly influence the analysis.\n\n\n\n\nProbabilistic interactions between sea-levels and exposure"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#selecting-a-distribution-1",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#selecting-a-distribution-1",
    "title": "Uncertainty and Monte Carlo",
    "section": "Selecting a Distribution",
    "text": "Selecting a Distribution\nA distribution implicitly answers questions like:\n\nWhat is the most probable event? How much more likely is it than the others?\nAre larger or smaller events more, less, or equally probable?\nHow probable are extreme events?\nAre different events correlated, or are they independent?"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#key-features-of-probability-distributions",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#key-features-of-probability-distributions",
    "title": "Uncertainty and Monte Carlo",
    "section": "Key Features of Probability Distributions",
    "text": "Key Features of Probability Distributions\n\nMean/Mode (what events are “typical”)\nSkew (are larger or smaller events more or equally probable)\nVariance (how spread out is the distribution around the mode)\nTail Probabilities (how probable are extreme events)"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#common-distributions",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#common-distributions",
    "title": "Uncertainty and Monte Carlo",
    "section": "Common Distributions",
    "text": "Common Distributions\n\nGaussian / Normal\nLognormal\nBinomial\nUniform / Discrete Uniform"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#probability-distribution-tails",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#probability-distribution-tails",
    "title": "Uncertainty and Monte Carlo",
    "section": "Probability Distribution Tails",
    "text": "Probability Distribution Tails\n\n\nThe tails of distributions represent the probability of high-impact outcomes.\nKey consideration: Small changes to these (low) probabilities can greatly influence risk."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#stochastic-simulation",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#stochastic-simulation",
    "title": "Uncertainty and Monte Carlo",
    "section": "Stochastic Simulation",
    "text": "Stochastic Simulation\nMonte Carlo simulation: Propagating random samples through a model to estimate a value (usually an expectation or a quantile).\n\n\n\n\n\n\n\nG\n\n\n\na\n\nProbability\n Distribution\n\n\n\nb\n\nRandom\n Samples\n\n\n\na-&gt;b\n\n\nSample\n\n\n\nc\n\nModel\n\n\n\nb-&gt;c\n\n\nInput\n\n\n\nd\n\nOutputs\n\n\n\nc-&gt;d\n\n\nSimulate"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#goals-of-monte-carlo",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#goals-of-monte-carlo",
    "title": "Uncertainty and Monte Carlo",
    "section": "Goals of Monte Carlo",
    "text": "Goals of Monte Carlo\nMonte Carlo is a broad method, which can be used to:\n\nObtain probability distributions of outputs;\nEstimate deterministic quantities (Monte Carlo estimation)."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#monte-carlo-estimation",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#monte-carlo-estimation",
    "title": "Uncertainty and Monte Carlo",
    "section": "Monte Carlo Estimation",
    "text": "Monte Carlo Estimation\nMonte Carlo estimation involves framing the quantity of interest as a summary statistic (such as an expected value)."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#mc-example-finding-pi",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#mc-example-finding-pi",
    "title": "Uncertainty and Monte Carlo",
    "section": "MC Example: Finding \\(\\pi\\)",
    "text": "MC Example: Finding \\(\\pi\\)\n\n\n\nFinding \\(\\pi\\) by sampling random values from the unit square and computing the fraction in the unit circle. This is an example of Monte Carlo integration.\n\n\\[\\frac{\\text{Area of Circle}}{\\text{Area of Square}} = \\frac{\\pi}{4}\\]\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Monte Carlo simualtion for Estimating pi"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#mc-example-dice",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#mc-example-dice",
    "title": "Uncertainty and Monte Carlo",
    "section": "MC Example: Dice",
    "text": "MC Example: Dice\n\n\nWhat is the probability of rolling 4 dice for a total of 19?\n\nCan simulate dice rolls and find the frequency of 19s among the samples.\n\n\n\n\n\n\n\n\n\n\nFigure 2: Monte Carlo simualtion for Dice Rolls"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#monte-carlo-estimation-1",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#monte-carlo-estimation-1",
    "title": "Uncertainty and Monte Carlo",
    "section": "Monte Carlo Estimation",
    "text": "Monte Carlo Estimation\nThis type of estimation can be repeated with any simulation model that has a stochastic component.\nFor example, consider our dissolved oxygen model. Suppose that we have a probability distribution for the inflow DO.\nHow could we compute the probability of DO falling below the regulatory standard somewhere downstream?"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#monte-carlo-and-uncertainty-propagation",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#monte-carlo-and-uncertainty-propagation",
    "title": "Uncertainty and Monte Carlo",
    "section": "Monte Carlo and Uncertainty Propagation",
    "text": "Monte Carlo and Uncertainty Propagation\n\nDraw samples from some distribution;\nEun them through one or more models;\nCompute the (conditional) probability of outcomes of interest (for good or bad)."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#key-takeaways-1",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#key-takeaways-1",
    "title": "Uncertainty and Monte Carlo",
    "section": "Key Takeaways",
    "text": "Key Takeaways\n\nSystems analysis features many uncertainties, which may be neglected with certain methods/model setups.\nChoice of probability distribution can have large impacts on uncertainty and risk estimates: try not to use distributions just because they’re convenient.\nMonte Carlo: Estimate expected values of outcomes using simulation."
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#next-classes",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#next-classes",
    "title": "Uncertainty and Monte Carlo",
    "section": "Next Classes",
    "text": "Next Classes\nWednesday: Monte Carlo Lab (clone before class, maybe instantiate environment too)\nMonday: Why Does Monte Carlo Work?"
  },
  {
    "objectID": "slides/lecture05-1-uncertainty-monte-carlo.html#assessments",
    "href": "slides/lecture05-1-uncertainty-monte-carlo.html#assessments",
    "title": "Uncertainty and Monte Carlo",
    "section": "Assessments",
    "text": "Assessments\nHW3: Released today, due 10/03 at 9pm."
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#lake-eutrophication-model",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#lake-eutrophication-model",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Lake Eutrophication Model",
    "text": "Lake Eutrophication Model\n\nSchematic of processes resulting in lake eutrophication"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#modeling-information-needs",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#modeling-information-needs",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Modeling Information Needs",
    "text": "Modeling Information Needs\n\nWhat will happen to the waste in the environment (fate & transport)?\nWhat are potential impacts and acceptable levels or critical thresholds?\nWhat are options to manage the waste?"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#mass-balance-and-fate-transport",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#mass-balance-and-fate-transport",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Mass-Balance and Fate & Transport",
    "text": "Mass-Balance and Fate & Transport\n\nUsed principles of mass-balance to derive a fate & transport model for the system dynamics.\nAccounted for point and non-point source loading and environmental quality thresholds.\nUse of model depends on prescriptive vs. descriptive purpose."
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#questions",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#questions",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Questions?",
    "text": "Questions?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#limitations-of-our-prior-eutrophication-model",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#limitations-of-our-prior-eutrophication-model",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Limitations Of Our Prior Eutrophication Model",
    "text": "Limitations Of Our Prior Eutrophication Model\n\nSteady-state\nAssumed first-order (linear) decay for lake P"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#shallow-lake-model-1",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#shallow-lake-model-1",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Shallow Lake Model",
    "text": "Shallow Lake Model\n\n\n\nModel introduced by Carpenter et al. (1999).\nThis lecture builds off Quinn et al. (2017).\nTradeoff between economic benefits and the health of the lake.\n\n\n\n\n\nLake Eutrophication Example"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#shallow-lake-model-variables",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#shallow-lake-model-variables",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Shallow Lake Model: Variables",
    "text": "Shallow Lake Model: Variables\n\n\n\nVariable\nMeaning\nUnits\n\n\n\n\n\\(X_t\\)\nP level in lake at time \\(t\\)\ndimensionless\n\n\n\\(a_t\\)\nControllable (point-source) P release\ndimensionless\n\n\n\\(y_t\\)\nRandom (non-point-source) P runoff\ndimensionless"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#shallow-lake-model-runoff",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#shallow-lake-model-runoff",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Shallow Lake Model: Runoff",
    "text": "Shallow Lake Model: Runoff\nRandom runoffs \\(y_t\\) are sampled from a LogNormal distribution.\n\n\nCode\n# this uses StatsPlots.jl's recipe for plotting distributions directly; otherwise use something like plot(-5:0.01:5, pdf.(LogNormal(0.25, 1), -5:0.1:5))\nplot(LogNormal(0.25, 1), linewidth=3, label=\"LogNormal(0.25, 1)\", guidefontsize=18, legendfontsize=16, tickfontsize=16)\nplot!(LogNormal(0.5, 1), linewidth=3, label=\"LogNormal(0.5, 2)\")\nplot!(LogNormal(0.25, 2), linewidth=3, label=\"LogNormal(0.25, 2)\")\nplot!(size=(1000, 400), grid=:false, left_margin=10mm, right_margin=10mm, bottom_margin=10mm)\nxlims!((0, 6))\nylabel!(\"Density\")\nxlabel!(L\"y_t\")\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Lognormal Distributions"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#shallow-lake-model-p-dynamics",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#shallow-lake-model-p-dynamics",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Shallow Lake Model: P Dynamics",
    "text": "Shallow Lake Model: P Dynamics\n\nLake loses P at a linear rate, \\(bX_t\\).\nNutrient cycling reintroduces P from sediment: \\[\\frac{X_t^q}{1 + X_t^q}.\\]"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#shallow-lake-model-2",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#shallow-lake-model-2",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Shallow Lake Model",
    "text": "Shallow Lake Model\nSo the P level (state) \\(X_{t+1}\\) is given by: \\[\\begin{gather*}\nX_{t+1} = X_t + a_t + y_t + \\frac{X_t^q}{1 + X_t^q} - bX_t, \\\\[0.5em]\ny_t \\underset{\\underset{\\Large\\text{\\color{red}sample}}{\\color{red}\\uparrow}}{\\sim} \\text{LogNormal}(\\mu, \\sigma^2).\n\\end{gather*}\n\\]"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#lake-dynamics-without-inflows",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#lake-dynamics-without-inflows",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Lake Dynamics (Without Inflows)",
    "text": "Lake Dynamics (Without Inflows)\n\n\n\n\\(a_t = y_t = 0\\),\n\\(q=2.5\\)\n\\(b=0.4\\)\n\n\n\n\nCode\n# define functions for lake recycling and outflows\nlake_P_cycling(x, q) = x.^q ./ (1 .+ x.^q);\nlake_P_out(x, b) = b .* x;\n\nT = 30\nX_vals = collect(0.0:0.1:2.5)\nfunction simulate_lake_P(X_ic, T, b, q, a, y)\n    X = zeros(T)\n    X[1] = X_ic\n    for t = 2:T\n        X[t] = X[t-1] .+ a[t] .+ y[t].+ lake_P_cycling(X[t-1], q) .- lake_P_out(X[t-1], b)\n    end\n    return X\nend\nX = map(x -&gt; simulate_lake_P(x, T, 0.4, 2.5, zeros(T), zeros(T)), X_vals)\np_noinflow = plot(X, label=false, ylabel=L\"X_t\", xlabel=\"Time\", guidefontsize=18, tickfontsize=16, size=(600, 500), left_margin=5mm, bottom_margin=5mm)\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Dynamics of lake model with different initial conditions"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#lake-dynamics-without-inflows-1",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#lake-dynamics-without-inflows-1",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Lake Dynamics (Without Inflows)",
    "text": "Lake Dynamics (Without Inflows)\n\n\n\n\\(a_t = y_t = 0\\),\n\\(q=2.5\\)\n\\(b=0.4\\)\n\n\n\n\nCode\n# define range of lake states X\nx = 0:0.05:2.5;\n\n# plot recycling and outflows for selected values of b and q\np1 = plot(x, lake_P_cycling(x, 2.5), color=:black, linewidth=5,legend=:topleft, label=\"P Recycling\", ylabel=\"P Flux\", xlabel=L\"$X_t$\", tickfontsize=16, guidefontsize=18, legendfontsize=16, palette=:tol_muted, framestyle=:zerolines, grid=:false)\nplot!(x, lake_P_out(x, 0.4), linewidth=3, linestyle=:dash, label=L\"$b=0.4$\", color=:blue)\nquiver!([1], [0.35], quiver=([1], [0.4]), color=:red, linewidth=2)\nquiver!([0.4], [0.13], quiver=([-0.125], [-0.05]), color=:red, linewidth=2)\nquiver!([2.5], [0.97], quiver=([-0.125], [-0.05]), color=:red, linewidth=2)\nplot!(ylims=(-0.02, 1.1))\nplot!(size=(600, 500))\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: Lake eutrophication dynamics based on the shallow lake modelwithout additional inputs. The black line is the P recycling level (for $q=2.5), which adds P back into the lake, and the dashed lines correspond to differerent rates of P outflow (based on the linear parameter \\(b\\)). The lake P level is in equilibrium when the recycling rate equals the outflows. When the outflow is greater than the recycling flux, the lake’s P level decreases, and when the recycling flux is greater than the outflow, the P level naturally increases. The red lines show the direction of this net flux."
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#where-are-the-equilibria",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#where-are-the-equilibria",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Where Are the Equilibria?",
    "text": "Where Are the Equilibria?\n\n\nEquilibria: Fixed points of the dynamics (no state change).\nEquilibria occur where \\[\\Delta X = X_{t+1} - X_t = 0,\\] so the outflows and sediment recycling are in balance.\n\n\n\nCode\neq1 = [0.0, 0.67, 2.2]\nscatter!(p1, eq1, (y -&gt; lake_P_cycling(y, 2.5)).(eq1), label=\"Equilibria\", markersize=10, markercolor=:blue)\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 4: Lake eutrophication dynamics based on the shallow lake modelwithout additional inputs. The black line is the P recycling level (for \\(q=2.5\\)), which adds P back into the lake, and the dashed lines correspond to differerent rates of P outflow (based on the linear parameter \\(b\\)). The lake P level is in equilibrium when the recycling rate equals the outflows. When the outflow is greater than the recycling flux, the lake’s P level decreases, and when the recycling flux is greater than the outflow, the P level naturally increases. The red lines show the direction of this net flux."
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#implications-of-unstable-equilibria",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#implications-of-unstable-equilibria",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Implications of Unstable Equilibria",
    "text": "Implications of Unstable Equilibria\n\n\n\n\nCode\nplot!(p_noinflow, title=\"Lake P Without Inflows\", titlefontsize=20)\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 5: Dynamics of Lake Model With No Inflows\n\n\n\n\n\n\n\nCode\na = zeros(T)\ny = rand(LogNormal(log(0.08), 0.01), T)\nX = map(x -&gt; simulate_lake_P(x, T, 0.4, 2.5, a, y), X_vals) \nplot(X, label=false, ylabel=L\"$X_t$\", xlabel=\"Time\", title=\"Lake P With Inflows\", guidefontsize=18, tickfontsize=16, size=(600, 500), left_margin=5mm, bottom_margin=5mm, titlefontsize=20)\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 6: Dynamics of Lake Model With No Inflows"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#how-do-equilibria-change",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#how-do-equilibria-change",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "How do Equilibria Change?",
    "text": "How do Equilibria Change?\n\n\nHow do the equilibria change as system parameters vary?\n\n\n\nCode\neq_45 = [0.8, 1.8]\neq_5 = [1.0, 1.4]\nplot!(x, lake_P_out(x, 0.45), linewidth=3, linestyle=:dash, label=L\"$b=0.45$\", color=:orange)\nplot!(x, lake_P_out(x, 0.5), linewidth=3, linestyle=:dash, label=L\"$b=0.5$\", color=:purple)\nplot!(x, lake_P_out(x, 0.6), linewidth=3, linestyle=:dash, label=L\"$b=0.6$\", color=:green)\nscatter!(p1, eq_45, (y -&gt; lake_P_cycling(y, 2.5)).(eq_45), label=false, markersize=10, markercolor=:orange)\nscatter!(p1, eq_5, (y -&gt; lake_P_cycling(y, 2.5)).(eq_5), label=false, markersize=10, markercolor=:purple)\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 7: Lake eutrophication dynamics based on the shallow lake modelwithout additional inputs. The black line is the P recycling level (for \\(q=2.5\\)), which adds P back into the lake, and the dashed lines correspond to differerent rates of P outflow (based on the linear parameter \\(b\\)). The lake P level is in equilibrium when the recycling rate equals the outflows. When the outflow is greater than the recycling flux, the lake’s P level decreases, and when the recycling flux is greater than the outflow, the P level naturally increases. The red lines show the direction of this net flux."
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#equilibria-vs.-b-value",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#equilibria-vs.-b-value",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Equilibria vs. \\(b\\) Value",
    "text": "Equilibria vs. \\(b\\) Value\n\n\nCode\nfunction plot_P_flux(b_vals)\n    p = plot(; xlabel=L\"b\", ylabel=L\"X\", legend=:outerright, tickfontsize=16, legendfontsize=16, guidefontsize=18, left_margin=5mm, bottom_margin=10mm, size=(1200, 500))\n\n    flux_func(x, b) = lake_P_cycling(x, 2.5) - lake_P_out(x, b)\n    X_un = []\n    X_st = []\n    for b in b_vals\n        # try to find the unstable (oligotrophic) equilibrium\n        try\n            x_eq = Roots.find_zero(x -&gt; flux_func(x, b), 0.5)\n            push!(X_un, (b, x_eq))\n        catch err\n            if isa(err, DomainError)\n            end\n        end\n        # try to find the stable (eutrophic) equilibrium\n        try\n            x_eq = Roots.find_zero(x -&gt; flux_func(x, b), 2.0)\n            push!(X_st, (b, x_eq))\n        catch err\n            if isa(err, DomainError)\n            end\n        end\n    end\n    plot!(p, first.(X_un), last.(X_un), label=\"Unstable Equilibrium\", linewidth=3, color=:red, linestyle=:dash)\n    plot!(p, first.(X_st), last.(X_st), label=\"Stable (Eutrophic) Equilibrium\", linewidth=3, color=:red)\n    plot!(p, b_vals, repeat([0.0], length(b_vals)), label=\"Stable (Oligotrophic) Equilibrium\", linewidth=3, color=:blue)\n\n    quiver!(p, [0.01], [0.15], quiver=([0.0], [5.85]), color=:black)\n    quiver!(p, [0.05], [0.2], quiver=([0.0], [5.8]), color=:black)\n    quiver!(p, [0.1], [0.4], quiver=([0.0], [5.6]), color=:black)\n    quiver!(p, [0.15], [0.5], quiver=([0.0], [5.5]), color=:black)\n    quiver!(p, [0.2], [0.5], quiver=([0.0], [4.0]), color=:black)\n    quiver!(p, [0.25], [0.6], quiver=([0.0], [3.0]), color=:black)\n    quiver!(p, [0.3], [0.6], quiver=([0.0], [2.4]), color=:black)\n    quiver!(p, [0.35], [0.7], quiver=([0.0], [1.7]), color=:black)\n    quiver!(p, [0.4], [0.8], quiver=([0.0], [1.3]), color=:black)\n    quiver!(p, [0.45], [0.9], quiver=([0.0], [0.75]), color=:black)\n    quiver!(p, [0.5], [1.1], quiver=([0.0], [0.25]), color=:black)\n\n    quiver!(p, [0.1], [0.15], quiver=([0.0], [-0.15]), color=:black)\n    quiver!(p, [0.15], [0.2], quiver=([0.0], [-0.15]), color=:black)\n    quiver!(p, [0.2], [0.25], quiver=([0.0], [-0.2]), color=:black)\n    quiver!(p, [0.25], [0.35], quiver=([0.0], [-0.3]), color=:black)\n    quiver!(p, [0.3], [0.4], quiver=([0.0], [-0.35]), color=:black)\n    quiver!(p, [0.35], [0.45], quiver=([0.0], [-0.4]), color=:black)\n    quiver!(p, [0.4], [0.55], quiver=([0.0], [-0.45]), color=:black)\n    quiver!(p, [0.45], [0.7], quiver=([0.0], [-0.6]), color=:black)\n    quiver!(p, [0.5], [0.9], quiver=([0.0], [-0.8]), color=:black)\n\n    quiver!(p, [0.2], [6.0], quiver=([0.0], [-0.9]), color=:black)\n    quiver!(p, [0.25], [6.0], quiver=([0.0], [-2.0]), color=:black)\n    quiver!(p, [0.3], [6.0], quiver=([0.0], [-2.7]), color=:black)\n    quiver!(p, [0.35], [6.0], quiver=([0.0], [-3.2]), color=:black)\n    quiver!(p, [0.4], [6.0], quiver=([0.0], [-3.8]), color=:black)\n    quiver!(p, [0.45], [6.0], quiver=([0.0], [-4.0]), color=:black)\n    quiver!(p, [0.5], [6.0], quiver=([0.0], [-4.5]), color=:black)\n    quiver!(p, [0.55], [6.0], quiver=([0.0], [-5.9]), color=:black)\n    quiver!(p, [0.6], [6.0], quiver=([0.0], [-5.9]), color=:black)\n\n    return p\nend\nb_vals = 0.01:0.01:0.6\n\np = plot_P_flux(b_vals)\ndisplay(p)\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 8: Bifurcation diagram for the lake problem with no inputs."
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#implications-of-bifurcations",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#implications-of-bifurcations",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Implications of Bifurcations",
    "text": "Implications of Bifurcations\nBifurcations have the following implications:\n\nUncertainty about system dynamics can dramatically change equilibria locations and behavior;\n“Shocks” (in this case, sedimentation/recycling disturbances or massive non-point source inflows) can irreversibly alter system outcomes."
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#feedback-loops",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#feedback-loops",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Feedback Loops",
    "text": "Feedback Loops\n\n\nUnstable equilibria can result from reinforcing (positive) feedback loops, where a shock to the system state gets amplified.\nFeedback loops can also be dampening (negative), where a shock is weakened (stable equilibria).\n\n\n\n\nIce-Albedo Feedback Loop"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#feedbacks-for-lake-eutrophication",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#feedbacks-for-lake-eutrophication",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Feedbacks for Lake Eutrophication",
    "text": "Feedbacks for Lake Eutrophication\n\nEutrophication Feedback Loop"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#other-environmental-feedbacks",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#other-environmental-feedbacks",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Other Environmental Feedbacks",
    "text": "Other Environmental Feedbacks\nCan we think of other examples of environmental feedback loops?\nAre they reinforcing or dampening?"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#key-takeaways-equilibria",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#key-takeaways-equilibria",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Key Takeaways (Equilibria)",
    "text": "Key Takeaways (Equilibria)\n\nSystem equilibria states can be stable or unstable.\nUnstable equilbria can be responsible for thresholds/tipping points.\nBifurcations: Changes to number/qualitative behavior of equilibria as system properties vary."
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#key-takeaways-feedbacks",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#key-takeaways-feedbacks",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Key Takeaways (Feedbacks)",
    "text": "Key Takeaways (Feedbacks)\n\nFeedback loops can be reinforcing or dampening.\nReinforcing feedbacks: changes to system state are amplified, resulting in instability and evolution away from equilibrium state.\nDampening feedbacks: changes to system state are dampened, system reverts to stable equilibrium state."
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#next-classes",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#next-classes",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Next Classes",
    "text": "Next Classes\nNext Week: Simulation Models"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#assessments",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#assessments",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "Assessments",
    "text": "Assessments\nHomework 2: Due 9/19 at 9pm"
  },
  {
    "objectID": "slides/lecture03-2-dynamics-feedbacks.html#references-1",
    "href": "slides/lecture03-2-dynamics-feedbacks.html#references-1",
    "title": "System Dynamics: Equilibria, Bifurcations, and Feedbacks",
    "section": "References",
    "text": "References\n\n\n\n\n\n\n\n\nCarpenter, S. R., Ludwig, D., & Brock, W. A. (1999). Management of eutrophication for lakes subject to potentially irreversible change. Ecol. Appl., 9(3), 751–771. https://doi.org/10.2307/2641327\n\n\nQuinn, J. D., Reed, P. M., & Keller, K. (2017). Direct policy search for robust multi-objective management of deeply uncertain socio-ecological tipping points. Environmental Modelling & Software, 92, 125–141. https://doi.org/10.1016/j.envsoft.2017.02.017"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#last-class",
    "href": "slides/lecture07-1-linear-programming.html#last-class",
    "title": "Linear Programming",
    "section": "Last Class",
    "text": "Last Class\n\nOptimization for solving decision problems.\nDiscussed trial and error and search algorithms.\nFor unconstrained problems, gradient-based methods can get “stuck” at local optima.\nEvolutionary algorithms can require many iterations and evaluations.\nReviewed Lagrange multipliers for constrained optimization."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#questions",
    "href": "slides/lecture07-1-linear-programming.html#questions",
    "title": "Linear Programming",
    "section": "Questions?",
    "text": "Questions?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#what-is-linear-programming",
    "href": "slides/lecture07-1-linear-programming.html#what-is-linear-programming",
    "title": "Linear Programming",
    "section": "What is Linear Programming?",
    "text": "What is Linear Programming?\nLinear programming refers to optimization for linear models.\nAs we will see over the next few weeks, linear models are:\n\nrelatively simple (which lets us solve and analyze them “easily”);\nsurprisingly applicable to many contexts!"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#sidebar-why-programming",
    "href": "slides/lecture07-1-linear-programming.html#sidebar-why-programming",
    "title": "Linear Programming",
    "section": "Sidebar: Why “Programming”?",
    "text": "Sidebar: Why “Programming”?\n“Program” used to refer to military logistics, which is the origin of this field of research. For this historical reason, “mathematical programming” is often used instead of “mathematical optimization.”\n\nWe typically restrict “program” for optimization problems which are formulated completely mathematically, versus we use a computer model to simulate the relationship between decision variables and outputs."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#linear-functions",
    "href": "slides/lecture07-1-linear-programming.html#linear-functions",
    "title": "Linear Programming",
    "section": "Linear Functions",
    "text": "Linear Functions\nRecall that a function \\(f(x_1, \\ldots, x_n)\\) is linear if \\[f(x_1, \\ldots, x_n) = a_1x_1 + a_2x_2 + \\ldots + a_n x_n.\\]\n\nThe key is that linear models are very simple geometrically:\n\nDefine hyperplanes;\nConstant derivatives/gradients."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#linear-programs",
    "href": "slides/lecture07-1-linear-programming.html#linear-programs",
    "title": "Linear Programming",
    "section": "Linear Programs",
    "text": "Linear Programs\nA linear program (LP), or a linear optimization model, has the following characteristics:\n\nLinearity: The objective function and constraints are all linear;\nDivisibility: The decision variables are continuous (they can be fractional levels);\nCertainty: The problem is deterministic."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#why-is-solving-lps-straightforward",
    "href": "slides/lecture07-1-linear-programming.html#why-is-solving-lps-straightforward",
    "title": "Linear Programming",
    "section": "Why Is Solving LPs Straightforward?",
    "text": "Why Is Solving LPs Straightforward?\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAll solutions must exist on the boundary of the feasible region (which must be a polytope)."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#why-is-solving-lps-straightforward-1",
    "href": "slides/lecture07-1-linear-programming.html#why-is-solving-lps-straightforward-1",
    "title": "Linear Programming",
    "section": "Why Is Solving LPs Straightforward?",
    "text": "Why Is Solving LPs Straightforward?\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMore specifically:\n\n\nan optimum solution must occur at the intersection of constraints;\ncan focus on finding and analyzing the corners."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#why-is-solving-lps-straightforward-2",
    "href": "slides/lecture07-1-linear-programming.html#why-is-solving-lps-straightforward-2",
    "title": "Linear Programming",
    "section": "Why Is Solving LPs Straightforward?",
    "text": "Why Is Solving LPs Straightforward?\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThis is the basis of all simplex methods for solving LPs.\nThese methods go back to George Dantzig in the 1940s and are still widely used today."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#why-do-lps-have-a-corner-solution",
    "href": "slides/lecture07-1-linear-programming.html#why-do-lps-have-a-corner-solution",
    "title": "Linear Programming",
    "section": "Why Do LPs Have A Corner Solution?",
    "text": "Why Do LPs Have A Corner Solution?\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCan a solution be in the interior?"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#why-do-lps-have-a-corner-solution-1",
    "href": "slides/lecture07-1-linear-programming.html#why-do-lps-have-a-corner-solution-1",
    "title": "Linear Programming",
    "section": "Why Do LPs Have A Corner Solution?",
    "text": "Why Do LPs Have A Corner Solution?\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhat about along an edge but not a corner?"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#example-solving-an-lp",
    "href": "slides/lecture07-1-linear-programming.html#example-solving-an-lp",
    "title": "Linear Programming",
    "section": "Example: Solving an LP",
    "text": "Example: Solving an LP\n\n\n\\[\\begin{alignedat}{3}\n& \\max_{x_1, x_2} &  230x_1 + 120x_2 &  \\\\\\\\\n& \\text{subject to:} & &\\\\\n& & 0.9x_1 + 0.5x_2 &\\leq 600 \\\\\n& & x_1 + x_2 &\\leq 1000 \\\\\n& & x_1, x_2 &\\geq 0\n\\end{alignedat}\\]\n\n\n\nCode\nx1 = 0:1200\nx2 = 0:1400\nf1(x) = (600 .- 0.9 .* x) ./ 0.5\nf2(x) = 1000 .- x\n\np = plot(0:667, min.(f1(0:667), f2(0:667)), fillrange=0, color=:lightblue, grid=true, label=\"Feasible Region\", xlabel=L\"x_1\", ylabel=L\"x_2\", xlims=(-50, 1200), ylims=(-50, 1400), framestyle=:origin, minorticks=4, right_margin=4mm, left_margin=4mm)\nplot!(0:667, f1.(0:667), color=:brown, linewidth=3, label=false)\nplot!(0:1000, f2.(0:1000), color=:red, linewidth=3, label=false)\nannotate!(400, 1100, text(L\"0.9x_1 + 0.5x_2 = 600\", color=:purple, pointsize=18))\nannotate!(1000, 300, text(L\"x_1 + x_2 = 1000\", color=:red, pointsize=18))\nplot!(size=(600, 500))"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#example-solving-an-lp-1",
    "href": "slides/lecture07-1-linear-programming.html#example-solving-an-lp-1",
    "title": "Linear Programming",
    "section": "Example: Solving an LP",
    "text": "Example: Solving an LP\n\n\n\\[\\begin{alignedat}{3}\n& \\max_{x_1, x_2} &  230x_1 + 120x_2 &  \\\\\\\\\n& \\text{subject to:} & &\\\\\n& & 0.9x_1 + 0.5x_2 &\\leq 600 \\\\\n& & x_1 + x_2 &\\leq 1000 \\\\\n& & x_1, x_2 &\\geq 0\n\\end{alignedat}\\]\n\n\n\nCode\nZ(x1,x2) = 230 * x1 + 120 * x2\ncontour!(0:660,0:1000,(x1,x2)-&gt;Z(x1,x2), levels=5, c=:devon, linewidth=2, colorbar = false, clabels = true)"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#examining-corner-points",
    "href": "slides/lecture07-1-linear-programming.html#examining-corner-points",
    "title": "Linear Programming",
    "section": "Examining Corner Points",
    "text": "Examining Corner Points\n\n\n\n\n\nCorner \\((x_1, x_2)\\)\nObjective\n\n\n\n\n\\((0,0)\\)\n\\(0\\)\n\n\n\\((0, 1000)\\)\n\\(12000\\)\n\n\n\\((667, 0)\\)\n\\(153410\\)\n\n\n\\((250, 750)\\)\n\\(147500\\)\n\n\n\n\n\n\nCode\nscatter!(p, [0, 0, 667, 250], [0, 1000, 0, 750], markersize=10, z=2, label=\"Corner Point\", markercolor=:orange)"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#solving-an-lp",
    "href": "slides/lecture07-1-linear-programming.html#solving-an-lp",
    "title": "Linear Programming",
    "section": "Solving an LP",
    "text": "Solving an LP\nManually checking the corner points is all well and good for this simple example, but does it scale well?\n\nLP solvers (often based off the simplex method) automate this process."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#linearization",
    "href": "slides/lecture07-1-linear-programming.html#linearization",
    "title": "Linear Programming",
    "section": "Linearization",
    "text": "Linearization\n\n\nLinear models come up frequently because we can linearize nonlinear functions.\nWhen we linearize components of an mathematical program, this is called the linear relaxation of the original problem.\n\n\n\nCode\nE = 0:0.01:1\nplot(E, E.^2, legend=false, grid=false, xlabel=\"Efficiency\", ylabel=\"Cost\", color=:black, yticks=false, xlims=(0, 1), ylims=(0, 1), left_margin=8mm, linewidth=3)\nxticks!([0.65, 0.95])\nxlims!((0, 1.05))\nscatter!([0.65, 0.95], [0.65, 0.95].^2, markersize=10, color=:blue)\nplot!(E, 1.6 .* E  .- 0.6175, color=:blue, linestyle=:dash, linewidth=3)\nplot!(size=(600, 500))"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#sensitivity-of-linearization",
    "href": "slides/lecture07-1-linear-programming.html#sensitivity-of-linearization",
    "title": "Linear Programming",
    "section": "Sensitivity of Linearization",
    "text": "Sensitivity of Linearization\n\n\nThe quality of linear approximations can depend on the range of values used and the curvature of the original objective/constraint.\n\n\n\nCode\nscatter!([0.32, 0.98], [0.32, 0.98].^2, markersize=10, color=:red)\nplot!(E, 1.3 .* E  .- 0.31, color=:red, linestyle=:dot, linewidth=3)"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#binding-constraints",
    "href": "slides/lecture07-1-linear-programming.html#binding-constraints",
    "title": "Linear Programming",
    "section": "Binding Constraints",
    "text": "Binding Constraints\nA solution will be found at one of the corner points of the feasible polytope.\nThis means that at this solution, one or more constraints are binding: if we relaxed the constraint by weakening it, we could improve the solution."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#binding-constraints-1",
    "href": "slides/lecture07-1-linear-programming.html#binding-constraints-1",
    "title": "Linear Programming",
    "section": "Binding Constraints",
    "text": "Binding Constraints\n\n\n\n\nCode\np\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe binding constraints are\n\n\\(x_1 \\geq 0\\)\n\\(0.9 x_1 + 0.5 x_2 \\leq 600\\),\n\nbut not\n\n\\(x_1 + x_2 \\leq 1000\\)."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#shadow-prices-1",
    "href": "slides/lecture07-1-linear-programming.html#shadow-prices-1",
    "title": "Linear Programming",
    "section": "Shadow Prices",
    "text": "Shadow Prices\nThe marginal cost of a constraint is the amount by which the solution would improve if the constraint capacity was relaxed by one unit.\nThis is also referred to as the shadow price (these are also called the dual variables of the constraint).\nNon-zero shadow prices tell us that the constraint is binding, and their values rank which constraints are most influential."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#shadow-prices-are-lagrange-multipliers",
    "href": "slides/lecture07-1-linear-programming.html#shadow-prices-are-lagrange-multipliers",
    "title": "Linear Programming",
    "section": "Shadow Prices are Lagrange Multipliers",
    "text": "Shadow Prices are Lagrange Multipliers\nThe shadow prices are the Lagrange Multipliers of the optimization problem.\nIf our inequality constraints \\(X \\geq A\\) and \\(X \\leq B\\) are written as \\(X - S_1^2 = A\\) and \\(X + S_2^2 = B\\):\n\\[H(X, S_1 S_2, \\lambda_1, \\lambda_2) = Z(X) - \\lambda_1(X - S_1^2 - A) - \\lambda_2(X + S_2^2 - B),\\]\n\\[\\Rightarrow \\qquad \\frac{\\partial H}{\\partial A} = \\lambda_1, \\qquad \\frac{\\partial H}{\\partial B} = \\lambda_2.\\]"
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#key-takeaways-1",
    "href": "slides/lecture07-1-linear-programming.html#key-takeaways-1",
    "title": "Linear Programming",
    "section": "Key Takeaways",
    "text": "Key Takeaways\n\nLinear Programs: straightforward to solve!\nFor an LP, an optimum must occur at a corner of the feasible polytope.\nShadow prices (dual variables) of the constraints are the rate by which the solution would improve if the constraints were relaxed."
  },
  {
    "objectID": "slides/lecture07-1-linear-programming.html#next-classes",
    "href": "slides/lecture07-1-linear-programming.html#next-classes",
    "title": "Linear Programming",
    "section": "Next Classes",
    "text": "Next Classes\nWednesday: Prelim 1!\nNext Monday: Fall Break, no class\nNext Wednesday: Optimization Lab (come prepared, link will be posted on Ed)"
  },
  {
    "objectID": "policies/groups.html",
    "href": "policies/groups.html",
    "title": "Group Expectations",
    "section": "",
    "text": "We expect that members of groups will contribute to the group effort as equal participants. This means:\n\nSetting and fulfilling expectations that are fairly agreed upon by the group;\nContributing to discussions and the generation of ideas (note: these contributions don’t have to be good, necessarily; brainstorming will necessarily involve throwing out half-baked ideas, but this is still a contribution);\nContributing to the analysis and writing efforts (at minimum, reading, understanding, and agreeing to everything submitted);\nCommunicating actively and proactively about statuses and challenges.\n\nEvery member of a group will be evaluated on these bases at the end of the semester by their groupmates, which could influence their grade.",
    "crumbs": [
      "Policies",
      "Group Expectations"
    ]
  },
  {
    "objectID": "policies/groups.html#expectations",
    "href": "policies/groups.html#expectations",
    "title": "Group Expectations",
    "section": "",
    "text": "We expect that members of groups will contribute to the group effort as equal participants. This means:\n\nSetting and fulfilling expectations that are fairly agreed upon by the group;\nContributing to discussions and the generation of ideas (note: these contributions don’t have to be good, necessarily; brainstorming will necessarily involve throwing out half-baked ideas, but this is still a contribution);\nContributing to the analysis and writing efforts (at minimum, reading, understanding, and agreeing to everything submitted);\nCommunicating actively and proactively about statuses and challenges.\n\nEvery member of a group will be evaluated on these bases at the end of the semester by their groupmates, which could influence their grade.",
    "crumbs": [
      "Policies",
      "Group Expectations"
    ]
  },
  {
    "objectID": "policies/groups.html#recommended-practices",
    "href": "policies/groups.html#recommended-practices",
    "title": "Group Expectations",
    "section": "Recommended Practices",
    "text": "Recommended Practices\nTo facilitate these contributions, we recommend the following practices (though specifics may vary depending on the group):\n\nClearly set expectations and timelines for each group members’ contributions (for example, create a schedule or a Gantt chart), including backup plans if unexpected challenges or circumstances arise during the semester;\nUse collaborative writing and coding/code-sharing platforms (e.g. Google Docs, Overleaf, and GitHub) to update work frequently and solicit feedback from group members;\nSchedule regular meetings for updates on status and progress;\nSeek advice from the course staff proactively if challenges emerge that might compromise your plan or timeline.",
    "crumbs": [
      "Policies",
      "Group Expectations"
    ]
  },
  {
    "objectID": "policies/homework.html",
    "href": "policies/homework.html",
    "title": "Homework Policies",
    "section": "",
    "text": "This page includes some information on the homework assignments for BEE 4750/5750, including policies and logistics. The goal is to help you get as many points on your homework as possible and to return them as soon as possible.\nThis document is long, but please do read the whole thing (particularly What Homework Is For and the Logistics). Hopefully most of this is obvious, but some of it may not be.",
    "crumbs": [
      "Policies",
      "Homework Policies"
    ]
  },
  {
    "objectID": "policies/homework.html#what-homework-is-for",
    "href": "policies/homework.html#what-homework-is-for",
    "title": "Homework Policies",
    "section": "What Homework Is For",
    "text": "What Homework Is For\nThis class involves two components which are somewhat in tension pedagogically:\n\nConceptual what are systems, how do they behave, what are methods for their analysis and why do we use them;\nComputational how to implement systems analysis methods.\n\nOut of these, we are more interested in the conceptual: the computational methods are a means to an end. What matters more is the act of translating an environmental system into an appropriate mathematical model and interpreting the results of that model to provide insights into the design and management of the system. Getting better at that act requires practice: this is what homework is for! It’s easy to nod and follow along in lecture, or read a derivation, but that’s a trap. You can only learn by doing, and often, failing.\nHomework is the opportunity to practice doing. The practice is more important than the solution, which is why the solution is the least “rewarded” part of the homework rubrics. You can only learn by trying to solve the problem, and, often, getting stuck, because these are new skills that you are developing. And that’s ok — we encourage you to collaborate so you can share ideas and suggestions and give feedback, not to get solutions (and that’s also true for office hours, TA sessions, etc).\nYou also may not even be able to tell what parts of your homework solution are correct. And that’s also ok! We grade your homework and give you homework solutions so you can identify what, if anything, went wrong, and how to do better next time. We always aim for improvement, not perfection, and every homework problem is an opportunity to practice doing that type of problem.\nBut this emphasis on homework as practice also means that you should start the homework early. If you start early, and get stuck, you have the opportunity to get yourself unstuck, either by banging your head against the problem or by talking to others, and that’s how you learn. If you start late and get stuck, you either have to not finish (not great) or cheat (unacceptable under any circumstances).",
    "crumbs": [
      "Policies",
      "Homework Policies"
    ]
  },
  {
    "objectID": "policies/homework.html#homework-logistics",
    "href": "policies/homework.html#homework-logistics",
    "title": "Homework Policies",
    "section": "Homework Logistics",
    "text": "Homework Logistics\n\nAccepting Assignments\n\nHomework assignments will be distributed through GitHub Classroom. When an assignment is released, a link to accept the assignment will be posted on Ed Discussion. You must click this link or subsequent steps will not work properly. Clicking this link will create your own repository with the files for the assignment. The first time you do this, you will be prompted to connect your GitHub username with your entry in the class roster.\nClone your repository to your computer.\n\n\n\n\n\n\nIt is important that you clone the repository created in the previous step, not the “original” repository. Make sure that the URL looks like https://www.github.com/BEE4750-FA24/&lt;username&gt;-hwxx.git, not https://www.github.com/BEE4750/hwxx.git.\n\n\n\n\n\n\nWorking On Assignments\n\nOpen the local repository folder you created when you cloned the remote repository.\n\n\n\n\n\n\nUse File -&gt; Open Folder rather than File -&gt; Open to open the folder; this will make sure that all paths point to the right location and you can use the “Explorer” to see the different files.\n\n\n\nAfter the notebook loads, if prompted to, select the julia-1.10 kernel.\nMake sure that you run the initial notebook cell (starting with Pkg.activate()) to load the Julia environment and install any needed packages.\nYou don’t need to work in the notebook, per se, but if you choose to write your own code files, make sure to add them to the repository with git add. Make sure that you copy the initial notebook cell into your new script(s) to use the appropriate environment.\nAs you work on assignments, make sure to save and frequently push and commit back to GitHub.\nYou can toggle line numbers in a notebook cell with the L key.\n\n\n\nAsking for Assistance\n\nIf you need to share code to ask for help or to provide help, provide a link to the relevant file in your GitHub repository, along with an idea of the relevant cell and line number(s).\nMinimal code snippets can also be copied and pasted into Ed, but these should be self-contained, not chunks copied from your homework. These snippets should illustrate what you think the correct concept and/or syntax should be with a self-contained example; it’s unlikely you will receive useful help if the snippet can’t be evaluated.\nMake sure you document what you’ve tried (including any searches) so we can focus on new solutions, not repeating things that haven’t already worked. If you haven’t looked for help (e.g. searching for an error message), start there.\n\n\n\nSubmitting Assignments\n\nYour final submission must be in a PDF. You can generate this in several ways:\n\nIf you have set up LaTeX on your system, you can convert a notebook directly to PDF in VS Code or Jupyter Lab (this will automatically work on BioHPC without any additional setup);\n\n\n\n\n\n\nIf you are submitting a PDF from a notebook, make sure that you evaluate all cells in order with Run Cells before converting.\n\n\n\nIf you have not set up LaTeX, you can export a notebook to HTML and save it from your browser as a PDF;\nIf you have written a report outside of a notebook (e.g. in Word), save this to a PDF.\n\nYou do not need to include code in a written submission, but make sure your final notebook and/or scripts are on your GitHub repository in case there’s an issue.\nPDFs must be submitted by the due date and time to Gradescope with pages tagged. Failure to tag pages will receive a 10% deduction.\nIf you did not receive credit for your group’s submission, please have someone in your group use a regrade request to bring this to our attention, and we will use the list of names at the top of the page to confirm that you contributed to the assignment.\nLate submissions are accepted within 24 hours with a 50% penalty unless an extension was arranged ahead of the original deadline.",
    "crumbs": [
      "Policies",
      "Homework Policies"
    ]
  },
  {
    "objectID": "policies/homework.html#how-to-write-assignments",
    "href": "policies/homework.html#how-to-write-assignments",
    "title": "Homework Policies",
    "section": "How To Write Assignments",
    "text": "How To Write Assignments\nHere are some tips for how to make the grader (the TA or Prof. Srikrishnan) understand what you mean in the time they’re looking at your problem: as noted in the rubrics, if your solution isn’t clear enough for us to follow, you will not receive the points even if your answer is technically correct, because part of demonstrating understanding is the ability to organize and communicate.\n\nBe Honest\n\nWrite everything in your own words. It’s perfectly ok to work with others; in fact, we encourage it! But you should write up and implement everything yourself; it’s very easy to convince yourself that you understand something when you’re mimicking someone else’s solution, and often we realize we don’t actually understand something when we try to write it ourselves.\nCite every outside source you use. You are allowed, in fact encouraged, to use any outside source1 Getting an idea from an outside source is not a problem, and will not lower your grade; if you’re critically evaluating the idea and implementing and writing your solution yourself (see above), then you’re demonstrating understanding even if the idea originated with someone else. But you must give appropriate credit to that source. Taking credit for someone else’s ideas and failing to properly cite an outside source, including your classmates, is plagiarism, and will be treated accordingly.\nThe only sources you do not have to cite are official class materials. If you use the lectures, lecture notes, website materials, homework solutions, etc, you do not have to cite these.\nList everyone that you worked with. Give your classmates proper credit for their assistance. If you get an idea from Ed Discussion, credit the poster. If you’re not sure if you should list someone as a collaborator, err on the side of including them. For discussions in class or in office hours, you don’t have to list everyone who participated in the discussion (though you should if you worked one on one with them), but mention that the class discussion or the office hour was useful.\n\n1 Yes, including ChatGPT, though you should ask and describe how you used it.\n\nBe Clear\n\nWrite legibly. This doesn’t refer to handwriting (since you’ll be submitting PDFs of Jupyter notebooks), but the text itself should be clearly written and well organized, so that it’s easy for the grader to follow your reasoning or explanation. Structuring your solution, and not writing in a stream of consciousness, helps you think more clearly. To reiterate: You will be given no points if the grader cannot easily follow your answer, and the graders have complete discretion to determine this.\nWrite clearly. Use proper spelling, grammar, logic, etc. We will try not to penalize people for not having complete mastery of English, but again, we need to be able to follow your reasoning.\nWrite carefully and completely. We can only grade what you write; nobody can read your mind, and we will not try. The solution that you submit must stand on its own. If your answer is ambiguous, the TA has been instructed to interpret it the wrong way. Regrade requests also cannot be used to add more information to a solution.\nDon’t submit your first draft. For most people, first drafts are terrible. They are often poorly organized, unclear, and contain gaps or jumps in reasoning. You will likely need to revise, possibly several times, for your answer to be clear, careful, and complete. This is another reason to start the assignment early — if you start late, you may be stuck with your first draft, and your grade is likely to suffer for it.\nState your assumptions. If you think a problem statement is ambiguous and your solution depends on a particular interpretation, or you need to make some assumptions to solve the problem, make it explicit (though do also ask for clarification in class or on Ed Discussion).\nDon’t rely on your code. The TA will not try to scrutinize your code, which is a waste of time (again, the code is a means to an end — it works or it doesn’t). If you make it clear what your code is supposed to do with a description, then the TA can tell if this logic is correct and any mistake must be something minor in the code. If you just provide code (even if commented), the TA can’t do this without running your code and debugging, which is not a valuable use of time. We want to focus on your ideas.",
    "crumbs": [
      "Policies",
      "Homework Policies"
    ]
  },
  {
    "objectID": "policies/homework.html#be-concise",
    "href": "policies/homework.html#be-concise",
    "title": "Homework Policies",
    "section": "Be Concise",
    "text": "Be Concise\n\nKeep solutions short. Organized answers should not be long. There’s a fine balance between conciseness and completeness: find it!\nDon’t regurgitate. You can reference concepts, models, etc from class without repeating them. Just make it clear what you’re modifying and how you’re using those concepts for that particular problem.\nDon’t bullshit. You will get no points for word salad, even if you accidentally hit on the right answer.",
    "crumbs": [
      "Policies",
      "Homework Policies"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "BEE 4750/5750: Environmental Systems Analysis",
    "section": "",
    "text": "This is the course website for the Fall 2024 edition of BEE 4750/5750, Environmental Systems Analysis, taught at Cornell University by Vivek Srikrishnan.",
    "crumbs": [
      "Course Information",
      "Overview"
    ]
  },
  {
    "objectID": "index.html#course-information",
    "href": "index.html#course-information",
    "title": "BEE 4750/5750: Environmental Systems Analysis",
    "section": "Course Information",
    "text": "Course Information\n\nDetails on the class and course policies are provided in the syllabus.\nTopics and weekly materials can be found in the schedule.\nMake sure you familiarize yourself with the FAQ.",
    "crumbs": [
      "Course Information",
      "Overview"
    ]
  },
  {
    "objectID": "index.html#software-tools",
    "href": "index.html#software-tools",
    "title": "BEE 4750/5750: Environmental Systems Analysis",
    "section": "Software Tools",
    "text": "Software Tools\n\nThis course will use the Julia programming language. Julia is a modern, free, open source language which is designed for scientific computing. No prior knowledge of Julia is required. My recommendation is to use Visual Studio Code with the official Julia extension for coding.\nAssignments will be distributed using GitHub Classroom. You should create a GitHub account, but we will walk through how to use it.",
    "crumbs": [
      "Course Information",
      "Overview"
    ]
  },
  {
    "objectID": "solutions/hw02/hw02.html",
    "href": "solutions/hw02/hw02.html",
    "title": "Homework 2 Solutions",
    "section": "",
    "text": "Due Date\n\n\n\nThursday, 09/19/24, 9:00pm"
  },
  {
    "objectID": "solutions/hw02/hw02.html#overview",
    "href": "solutions/hw02/hw02.html#overview",
    "title": "Homework 2 Solutions",
    "section": "Overview",
    "text": "Overview\n\nLoad Environment\nThe following code loads the environment and makes sure all needed packages are installed. This should be at the start of most Julia scripts.\n\nimport Pkg\nPkg.activate(@__DIR__)\nPkg.instantiate()\n\n\nusing Plots\nusing LaTeXStrings\nusing CSV\nusing DataFrames\nusing Roots"
  },
  {
    "objectID": "solutions/hw02/hw02.html#problems-total-5060-points",
    "href": "solutions/hw02/hw02.html#problems-total-5060-points",
    "title": "Homework 2 Solutions",
    "section": "Problems (Total: 50/60 Points)",
    "text": "Problems (Total: 50/60 Points)\n\nProblem 1 (25 points)\nCRUD decays exponentially at a rate of \\(0.36\\ \\mathrm{d}^{-1}\\), so the differential equation for its mass \\(M\\) is \\[\\frac{dM}{dt} = -0.36M.\\] By separating variables, the solution to this equation is \\[M(t) = M_0 \\exp(-0.36t).\\] However, we need to convert time \\(t\\) (d) to distance \\(x\\) (km) as the river is in steady-state. As the velocity of the river is \\(10\\ \\mathrm{km/d}\\), \\[t = \\frac{x}{10},\\] so \\[M(x) = M_0 \\exp(-0.36x/10).\\]\nTo find the initial condition(s), we have to split the river into two different segments. The first segment goes from \\(x=0\\) (the first wastewater discharge) to \\(x=15\\) (the second discharge), and the initial condition satisfies \\(M_0 = M(0)\\). To calculate this mass, we have to compute the total mass of CRUD in the combined inflow and wastewater discharge, which is\n\\[\\begin{align*}\nM_0 = M(0) &= \\left(250,000 \\mathrm{m}^3/\\mathrm{d}\\right)\\left(0.5\\mathrm{kg}/(1000 \\mathrm{m}^3)\\right) + \\left(40,000 \\mathrm{m}^3/\\mathrm{d}\\right)\\left(9\\mathrm{kg}/(1000 \\mathrm{m}^3)\\right) \\\\\n&= 485 \\mathrm{kg}/\\mathrm{d}.\n\\end{align*}\\]\nThe second segment starts at \\(x=15\\) and follows the equation \\[M(x) = M_1 \\exp(-0.36(x-15)/10), \\qquad x \\leq 15,\\] where the initial condition satisfies\n\\[\\begin{align*}\nM_1 = M(15) &= \\left(M_0 \\exp\\left((-0.36)(15)/10\\right) \\mathrm{kg}/\\mathrm{d}\\right) + \\left(60,000 \\mathrm{m}^3/\\mathrm{d}\\right)\\left(7\\mathrm{kg}/(1000 \\mathrm{m}^3)\\right) \\\\\n&= 485\\exp(-0.54) \\mathrm{kg}/\\mathrm{d} + 420 \\mathrm{kg}/\\mathrm{d} \\\\\n&\\approx 703 \\mathrm{kg}/\\mathrm{d}.\n\\end{align*}\\]\nConverting to concentration for the regulatory standard, we combine the inflow and discharge volumes to get a volume in the first segment of \\(290,000 \\mathrm{m}^3\\) and \\(350,000 \\mathrm{m}^3\\) in the second segment. This means that the concentration initial conditions1 are \\[C_0 \\approx 1.7 \\mathrm{kg}/(1000 \\mathrm{m}^3)\\] and \\[C_1 \\approx 2.0 \\mathrm{kg}/(1000 \\mathrm{m}^3).\\]\n1 You might get some variations in the specifics due to the number of significant figures you select.Denoting concentration (in \\(\\mathrm{kg}/(1000 \\mathrm{m}^3)\\)) as \\(C(t)\\), this means the model for concentration is \\[\nC(t) = \\begin{cases}1.7 \\exp(-0.36x/10), &\\text{if}\\ 0 \\leq x &lt; 15 \\\\\n                    2.0 \\exp(-0.36(x-15)/10), & \\text{if}\\ x &gt; 15.\n\\end{cases}\n\\]\nTo determine if the system is in compliance with the regulatory standard of \\(2.5 \\mathrm{kg}/(1000 \\mathrm{m}^3\\)), notice that, as there are no sources of CRUD inbetween discharges, the maximum value in each segment occurs at the discharge locations \\(x=0\\) and \\(x=15\\)2. The maximum CRUD concentration occurs at \\(x=15\\), where \\(C(15) = 2.0\\). As a result, the river is in compliance with the standard.\n2 We could also have written some code to simulate this model, but using this observation makes the solution simpler.\n\nProblem 2 (25 points)\nFirst, let’s write a function to simulate the model from \\(t=0, \\ldots, 30\\).\n\n# define functions for lake recycling and outflows\nlake_P_cycling(x, q) = x.^q ./ (1 .+ x.^q);\nlake_P_out(x, b) = b .* x;\n\nT = 30\nX_vals = collect(0.0:0.1:2.5)\nfunction simulate_lake_P(X_ic, T, b, q, a, y)\n    X = zeros(T)\n    X[1] = X_ic\n    for t = 2:T\n        X[t] = X[t-1] .+ a[t] .+ y[t].+ lake_P_cycling(X[t-1], q) .- lake_P_out(X[t-1], b)\n    end\n    return X\nend\n\nsimulate_lake_P (generic function with 1 method)\n\n\nWe can then make the initial conditions plot by evaluating this function across a range of values of X_ic (Figure 1)\n\nX_vals = 0.0:0.05:2.5\n# set parameters\nT = 30\nb = 0.5\nq = 1.5\ny = zeros(T)\na = zeros(T)\n\n# evaluate model for initial values\n1X = map(x -&gt; simulate_lake_P(x, T, b, q, a, y), X_vals)\nplot(X, label=false, ylabel=L\"$X_t$\", xlabel=\"Time\")\n\n\n1\n\nThe map() function evaluates the function in the first argument (which is here an anonymous function) over all values in an array and returns an array of the same size; in this case, we get back an array of the same size as X_vals, where each element in that array is a vector of length T with the model outputs. We could also have used broadcasting, but map() and its variants (such as mapslices()) can be more versatile when applying a function over more complex structures, such as rows and columns of matrices.\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Initial conditions plot for the lake problem for values of \\(X_0\\) between 0 and 2 with no inflows.\n\n\n\n\nTo find the equilibria, we use Roots.find_zero() for a function giving us the difference \\(X_{t+1} - X_t\\), namely lake_P_cycling(x, q) - lake_P_out(x, b) (since we have no inflows). This function is versatile, and lets us either choose an initial point to start the search for a zero or a bounding interval. We can use Figure 1 to make guesses at initial values for the search.\n\n1eq_ic = [0.0, 0.5, 2.0]\n2eq_noinflows = [find_zero(x -&gt; lake_P_cycling(x, q) - lake_P_out(x, b), eq) for eq in eq_ic]\n\n\n1\n\nThese are rough guesses from a visual scan of Figure 1; they just need to be closer to the “true” zeroes of interest than any others.\n\n2\n\nWe could also have used map() (as above) or broadcasting, but this illustrates the use of a comprehension to achieve the same goal, evaluating the function over the values in the array eq_ic. You can decide what you prefer to use in the future!\n\n\n\n\n3-element Vector{Float64}:\n 0.0\n 0.3819660112501051\n 1.0\n\n\nSo we end up with equilibria [0.0, 0.38, 1.0]. Of these, 0.0 and 1.0 are stable and 0.38 are unstable, based on Figure 1 (we could make this more rigorous by calculating the derivatives of lake_P_cycling(x, q) and lake_P_out(x, b) at the equilibrium values to see how the difference is changing, but that is not required here).\nNow, let’s repeat that analysis when \\(a_t=0.05\\) for all \\(t\\).\n\n1a = 0.02 .+ zeros(T)\n\n# evaluate model for initial values\nX = map(x -&gt; simulate_lake_P(x, T, b, q, a, y), X_vals)\nplot(X, label=false, ylabel=L\"$X_t$\", xlabel=\"Time\")\n\n\n1\n\nThis creates a vector of constant values by adding them to a zero vector; we could also do this by multiplying against a vector of ones, such as a = 0.02 * ones(T).\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Initial conditions plot for the lake problem for values of \\(X_0\\) between 0 and 2 with constant inflow \\(a_t=0.05\\).\n\n\n\n\n\neq_ic = [0.0, 0.5, 1.0]\neq_inflows = [find_zero(x -&gt; lake_P_cycling(x, q) - lake_P_out(x, b) .+ a, eq) for eq in eq_ic]\n\n3-element Vector{Float64}:\n 0.11624441966074756\n 0.15442860418310414\n 1.1341008852434813\n\n\nWith \\(a_t = 0.02\\), the equilibria are [0.12, 0.15, 1.13], where 0.12 and 1.13 are stable and 0.38 are unstable, based on Figure 2.\nHow has the stability of the system changed? The unstable equilibrium has dropped from 0.38 to 0.15, which means a smaller disturbance to the system (such as a non-point source inflow or a change in the outflow rate) could trigger eutrophication. This is particularly true as the distance between the stable (oligotrophic) equilibrium and the unstable equilibrium has been reduced, which means moving past the unstable equilibrium is easier. Moreover, the eutrophic equilibrium is increased (by more than the 0.02 units of P that we are adding to the lake each time period), meaning that, upon eutrophication, the lake is likely to suffer from more intense consequences of higher nutrient levels, such as greater hypoxia.\n\n\nProblem 3 (10 points)\nDenote by \\(\\beta\\) the rate of atmospheric deposition in \\(\\mathrm{kg}/(\\mathrm{yr} \\cdot \\mathrm{m}^2)\\). The atmospheric deposition input is then \\(\\beta A\\), where \\(A\\) is the area of the lake. The steady-state mass-balance equation becomes:\n\\[\\begin{align}\n\\frac{\\partial \\text{Mass}}{\\partial t} &= Inputs - Outputs - Decay = 0 \\nonumber \\\\\n\\frac{\\partial (CV)}{\\partial t} &= \\sum_j PS_j + \\sum_i NPS_i + \\beta A - CQ_{out} - \\alpha CV = 0. \\label{eq:lake-mb}\n\\end{align}\\]\nSolving \\(\\eqref{eq:lake-mb}\\) for \\(C\\): \\[C = \\frac{\\sum_j PS_j + \\sum_i NPS_i + \\beta A}{Q_\\text{out} + \\alpha V}.\\]\nWith a constraint of \\(C \\leq 0.02 \\mathrm{mg}/\\mathrm{L} = 2 \\times 10^{-5} \\text{kg}/\\text{m}^3\\), this means \\[\\sum_j PS_j + \\sum_i NPS_i = \\left(2 \\times 10^{-5}\\right)\\left(Q_\\text{out} + \\alpha V\\right) - \\beta A,\\]\nand using the Vollenweider model for sedimentation (\\(\\alpha \\approx 10A/V\\)),\n\\[\\begin{align*}\n\\sum_j PS_j + \\sum_i NPS_i &= \\left(2 \\times 10^{-5}\\right)\\left(Q_\\text{out} + 10A\\right) - \\beta A \\\\\n&= \\left(2 \\times 10^{-5}\\right)Q_\\text{out} + \\left(\\left(2 \\times 10^{-4}\\right) - \\beta\\right) A.\n\\end{align*}\\]\nSubbing in the parameters from class and the problem statement (\\(Q_\\text{out} = 400 \\times 10^6 \\text{m}^3/\\text{yr}, A = 30 \\times 10^6 \\text{m}^2\\), \\(\\beta = 1.6 \\times 10^{-4} \\text{kg}/(\\text{yr} \\cdot \\text{m}^2), \\sum_i NPS_i = 9000 \\text{kg}/\\text{yr}\\)) yields \\[\\sum_j PS_j \\leq 200 \\text{kg}/\\text{yr},\\] which is the maximum allowable annual rate."
  },
  {
    "objectID": "solutions/hw02/hw02.html#references",
    "href": "solutions/hw02/hw02.html#references",
    "title": "Homework 2 Solutions",
    "section": "References",
    "text": "References\nList any external references consulted, including classmates."
  },
  {
    "objectID": "solutions/lab02/lab02.html",
    "href": "solutions/lab02/lab02.html",
    "title": "Lab 2 Solutions",
    "section": "",
    "text": "Due Date\n\n\n\nWednesday, 9/25/24, 9:00pm"
  },
  {
    "objectID": "solutions/lab02/lab02.html#setup",
    "href": "solutions/lab02/lab02.html#setup",
    "title": "Lab 2 Solutions",
    "section": "Setup",
    "text": "Setup\nThe following code should go at the top of most Julia scripts; it will load the local package environment and install any needed packages. You will see this often and shouldn’t need to touch it.\n\nimport Pkg\nPkg.activate(\".\")\nPkg.instantiate()\n\n\nusing Random # random number generation\nusing Distributions # probability distributions and interface\nusing Statistics # basic statistical functions, including mean\nusing Plots # plotting"
  },
  {
    "objectID": "solutions/lab02/lab02.html#exercise-3-points",
    "href": "solutions/lab02/lab02.html#exercise-3-points",
    "title": "Lab 2 Solutions",
    "section": "Exercise (3 Points)",
    "text": "Exercise (3 Points)\nFirst, let’s write a function which compares our bid to (random) showcase value and returns the reward. The only slight complication is calculating the probability of winning if we don’t automatically win both showcases and don’t overbid. Our assumption is that this is linear, with a win probability of zero when we bid $0 and a win probability of one if we bid exactly. So, using the equation of a line between these two points, if our bid is \\(b\\) and the true value is \\(v\\), the probability becomes\n\\[\n\\mathbb{P}(v - b) = 1 - \\frac{v - b}{v}\n\\]\nand the expected value of our winnings in this case is \\(\\mathbb{P}(v - b) \\times v = b\\).\n\n1function showcase_play(value; bid=35_000)\n    if bid &gt; value # overbird, win nothing\n        return 0\n    elseif value - bid &lt; 250 # win both showcases\n        return 2 * value\n    else\n        win_prob = (1 + (bid - value) / value)\n        return bid\n    end\nend\n\n\n1\n\nThe semi-colon and assigned value makes bid an optional parameter: if we don’t explicitly pass it, it will take on that assumed value, but we can change it by calling showcase_play(value; bid=x).\n\n\n\n\nshowcase_play (generic function with 1 method)\n\n\nNow we can conduct our Monte Carlo experiment. Let’s write another function which takes in a vector of showcase values and computes the running average of winnings.\n\nfunction showcase_mc(values)\n1    exp_winnings = zeros(length(values))\n2    for (i, value) in pairs(values)\n        if i == 1\n            exp_winnings[i] = showcase_play(value)\n        else\n3            exp_winnings[i] = ((i - 1) * exp_winnings[i - 1] + showcase_play(value)) / i\n        end\n    end\n    return exp_winnings\nend\n\n\n1\n\nThis initializes the storage for a vector which will store the running average for every iteration.\n\n2\n\npairs(v) returns an iterator over tuples containing both the index and the value of each element of v. This is safer than for i = 1:length(v) for a larger variety of data structures and avoids having to explicitly look up value = v[i]. If we didn’t need the index, we could have used for value in values, but we want to be to write to the right index in exp_winnings.\n\n3\n\nWe could just compute the average each time over the entire chunk of the vector, but this is a little faster for cases where the evaluation is more expensive as we avoid re-computing.\n\n\n\n\nshowcase_mc (generic function with 1 method)\n\n\nNow if we draw 20,000 samples (this is large for illustrative purposes), we can compute how the Monte Carlo estimates change (visualized in Figure 1).\n\n1Random.seed!(1)\nshowcase_dist = truncated(Normal(31000, 4500), lower=5000, upper=42000)\nshowcase_samples = rand(showcase_dist, 20_000)\n\nwinnings_mc = showcase_mc(showcase_samples)\nplot(winnings_mc, xlabel=\"Monte Carlo Iteration\", ylabel=\"Expected Winnings (\\$)\", label=false)\n\n\n1\n\nSetting a seed ensures we’ll get the same samples regardless of when we re-run this notebook.\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Monte Carlo estimates of expected winnings for a $35,000 bid over 20,000 showcase samples.\n\n\n\n\nBased on this, the estimated value is $6999.\nHow could we decide how many samples to use? Later, we’ll see in class how we can compute a more formal analysis of the error in the Monte Carlo estimate, but for the purposes of this lab, we would like to ensure that the estimate has stabilized. If we had only used the first 1,000 samples, we would see Figure 2.\n\nplot(winnings_mc[1:1000], xlabel=\"Monte Carlo Iteration\", ylabel=\"Expected Winnings (\\$)\", label=false)\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Monte Carlo estimates of expected winnings for a $35,000 bid over 1,000 showcase samples.\n\n\n\n\nWe can see that there is still some variability as of the last iteration, so we might want to use more samples.1 If we use 5,000 samples, we can see the results in Figure 3.\n1 Note that this variability might be ok depending on the outcomes of the error analysis and our desire for precision, but more on that soon.\nplot(winnings_mc[1:5000], xlabel=\"Monte Carlo Iteration\", ylabel=\"Expected Winnings (\\$)\", label=false)\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: Monte Carlo estimates of expected winnings for a $35,000 bid over 5,000 showcase samples.\n\n\n\n\nThis looks much better! So we could have used 5,000, but it will turn out that more will always be “safer”."
  },
  {
    "objectID": "solutions/lab02/lab02.html#references",
    "href": "solutions/lab02/lab02.html#references",
    "title": "Lab 2 Solutions",
    "section": "References",
    "text": "References\nPut any consulted sources here, including classmates you worked with/who helped you."
  },
  {
    "objectID": "labs.html",
    "href": "labs.html",
    "title": "Labs",
    "section": "",
    "text": "This page contains information about and a schedule of the lab assignments for the semester.",
    "crumbs": [
      "Labs"
    ]
  },
  {
    "objectID": "labs.html#general-information",
    "href": "labs.html#general-information",
    "title": "Labs",
    "section": "General Information",
    "text": "General Information\n\nYou can download each lab notebook through the link below..\nSubmit assignments by 9:00pm Eastern Time on the due date on Gradescope.\nSubmissions must be PDFs. Make sure that you tag the pages corresponding to each question; points will be deducted otherwise.\nTo convert the assignment notebook to PDF, you can use VS Code to render the notebook to HTML, and then use your browser to print to PDF. If you have set up LaTeX with VS Code, you can convert directly to a PDF.",
    "crumbs": [
      "Labs"
    ]
  },
  {
    "objectID": "labs.html#grading",
    "href": "labs.html#grading",
    "title": "Labs",
    "section": "Grading",
    "text": "Grading\nLabs will be graded on a scale of 0-3:\n\nMissing (0/3): Lab solution is missing or is not responsive to the lab prompt(s);\nNeeds Improvement (1/3): Lab is largely incomplete or is missing key concepts;\nDeveloping (2/3): Lab is mostly complete but may contain major conceptual or implementation errors;\nAcceptable (3/3): Lab is mostly or fully complete without any major errors.",
    "crumbs": [
      "Labs"
    ]
  },
  {
    "objectID": "labs.html#schedule",
    "href": "labs.html#schedule",
    "title": "Labs",
    "section": "Schedule",
    "text": "Schedule\n\n\n\n\n\n\n\n\n\nLab\nInstructions\nSolutions\nDue Date\n\n\n\n\nLab 1\n\n\nAug 28, 2024\n\n\nLab 2\n\n\n\n\n\nLab 3\n\n\nOct 16, 2023\n\n\nLab 4\n\n\nNov 06, 2023\n\n\nLab 5\n\n\nNov 20, 2023",
    "crumbs": [
      "Labs"
    ]
  },
  {
    "objectID": "resources/optimization.html",
    "href": "resources/optimization.html",
    "title": "Optimization Resources",
    "section": "",
    "text": "Decision Modeling e-Book: this uses Excel Solver, but may have useful information on problem setup and optimization methods.\nAlgorithms for Decision-Making: open-access book based on Julia with more depth on optimization and decision-making algorithms than we will cover in this class."
  },
  {
    "objectID": "resources/github.html",
    "href": "resources/github.html",
    "title": "GitHub Resources",
    "section": "",
    "text": "Git Basics from The Odin Project.\nLearn Git Branching: An interactive, visual tutorial to how git works.\nVersion Control from MIT’s “CS: Your Missing Semester” course.\nGit and GitHub for Poets: YouTube playlist covering the basics of git and GitHub."
  },
  {
    "objectID": "hw/hw02/hw02.html",
    "href": "hw/hw02/hw02.html",
    "title": "BEE 4750 Homework 2: Systems Modeling and Simulation",
    "section": "",
    "text": "Due Date\n\n\n\nThursday, 09/19/24, 9:00pm",
    "crumbs": [
      "Homework",
      "HW 2"
    ]
  },
  {
    "objectID": "hw/hw02/hw02.html#overview",
    "href": "hw/hw02/hw02.html#overview",
    "title": "BEE 4750 Homework 2: Systems Modeling and Simulation",
    "section": "Overview",
    "text": "Overview\n\nInstructions\n\nProblem 1 asks you to derive a model for water quality in a river system and use this model to check for regulatory compliance.\nProblem 2 asks you to explore the dynamics and equilibrium stability of the shallow lake model under a particular set of parameter values.\nProblem 3 (5750 only) asks you to modify the lake eutrophication example from Lecture 04 to account for atmospheric deposition.\n\n\n\nLoad Environment\nThe following code loads the environment and makes sure all needed packages are installed. This should be at the start of most Julia scripts.\n\nimport Pkg\nPkg.activate(@__DIR__)\nPkg.instantiate()\n\n\nusing Plots\nusing LaTeXStrings\nusing CSV\nusing DataFrames\nusing Roots",
    "crumbs": [
      "Homework",
      "HW 2"
    ]
  },
  {
    "objectID": "hw/hw02/hw02.html#problems-total-5060-points",
    "href": "hw/hw02/hw02.html#problems-total-5060-points",
    "title": "BEE 4750 Homework 2: Systems Modeling and Simulation",
    "section": "Problems (Total: 50/60 Points)",
    "text": "Problems (Total: 50/60 Points)\n\nProblem 1 (25 points)\nA river which flows at 10 km/d is receiving discharges of wastewater contaminated with CRUD from two sources which are 15 km apart, as shown in the Figure below. CRUD decays exponentially in the river at a rate of 0.36 \\(\\mathrm{d}^{-1}\\).\n\n\n\n\nSchematic of the river system in Problem 1\n\n\n\nIn this problem:\n\nAssuming steady-state conditions, derive a model for the concentration of CRUD downriver by solving the appropriate differential equation(s) analytically.\nDetermine if the system in compliance with a regulatory limit of 2.5 kg/(1000 m\\(^3\\)).\n\n\n\n\n\n\n\n\nFormulate your model in terms of distance downriver, rather than leaving it in terms of time from discharge.\n\n\n\n\nProblem 2 (25 points)\nConsider the shallow lake model from class:\n\\[\n\\begin{aligned}\nX_{t+1} &= X_t + a_t + y_t + \\frac{X_t^q}{1 + X_t^q} - bX_t, \\\\\ny_t &\\sim \\text{LogNormal}(\\mu, \\sigma^2),\n\\end{aligned}\n\\]\nwhere:\n\n\\(X_t\\) is the lake phosphorous (P) concentration at time \\(t\\);\n\\(a_t\\) is the point-source P release at time \\(t\\);\n\\(y_t\\) is the non-point-source P release at time \\(t\\), which is treated as random from a LogNormal distribution with mean \\(\\mu\\) and standard deviation \\(\\sigma\\);\n\\(b\\) is the linear rate of P outflow;\n\\(q\\) is a parameter influencing the rate of P recycling from the sediment.\n\nIn this problem:\n\nMake an initial conditions plot for the model dynamics for \\(b=0.5\\), \\(q=1.5\\), \\(y_t=0\\), and \\(a_t=0\\) for \\(t=0, \\ldots, 30\\). What are the equilibria? What can you say about the resilience of the system?\n\n\n\n\n\n\nFinding equilibria\n\n\n\nUse Roots.jl to find the equilibria by solving for values where \\(X_{t+1} = X_t\\). For example, if you have functions X_outflow(X,b) and X_recycling(X,q), you could create a function X_delta(x, a) = a + X_recycling(x) - X_outflow(x) and call Roots.find_zero(x -&gt; X_delta(x, a), x₀), where x₀ is an initial value for the search (you might need to use your plot to find values for x₀ near each of the “true” equilibria).\n\n\nRepeat the analysis with \\(a_t=0.02\\) for all \\(t\\). What are the new equilibria? How have the dynamics and resilience of the system changed?\n\n\n\nProblem 3 (10 points)\nThis problem is only required for students in BEE 5750.\nConsider the lake eutrophication example from Lecture 04. Suppose that phosphorous is also atmospherically deposited onto the lake surface at a rate of \\(1.6 \\times 10^{-4} \\mathrm{kg/(yr} \\cdot \\mathrm{m}^2)\\), which is then instantly mixed into the lake. Derive a model for the lake phosphorous concentration and find the maximum allowable point source phosphorous loading if the goal is to keep lake concentrations below 0.02 mg/L.",
    "crumbs": [
      "Homework",
      "HW 2"
    ]
  },
  {
    "objectID": "hw/hw02/hw02.html#references",
    "href": "hw/hw02/hw02.html#references",
    "title": "BEE 4750 Homework 2: Systems Modeling and Simulation",
    "section": "References",
    "text": "References\nList any external references consulted, including classmates.",
    "crumbs": [
      "Homework",
      "HW 2"
    ]
  },
  {
    "objectID": "hw/hw04/hw04.html",
    "href": "hw/hw04/hw04.html",
    "title": "BEE 4750 Homework 4: Linear Programming and Capacity Expansion",
    "section": "",
    "text": "Due Date\n\n\n\nThursday, 11/07/23, 9:00pm",
    "crumbs": [
      "Homework",
      "HW 4"
    ]
  },
  {
    "objectID": "hw/hw04/hw04.html#overview",
    "href": "hw/hw04/hw04.html#overview",
    "title": "BEE 4750 Homework 4: Linear Programming and Capacity Expansion",
    "section": "Overview",
    "text": "Overview\n\nInstructions\n\nProblem 1 asks you to formulate and solve a resource allocation problem using linear programming.\nProblem 2 asks you to formulate, solve, and analyze a standard generating capacity expansion problem.\nProblem 3 (5750 only) asks you to add a CO2 constraint to the capacity expansion problem and identify changes in the resulting solution.\n\n\n\nLoad Environment\nThe following code loads the environment and makes sure all needed packages are installed. This should be at the start of most Julia scripts.\n\nimport Pkg\nPkg.activate(@__DIR__)\nPkg.instantiate()\n\n\nusing JuMP\nusing HiGHS\nusing DataFrames\nusing Plots\nusing Measures\nusing CSV\nusing MarkdownTables",
    "crumbs": [
      "Homework",
      "HW 4"
    ]
  },
  {
    "objectID": "hw/hw04/hw04.html#problems-total-5060-points",
    "href": "hw/hw04/hw04.html#problems-total-5060-points",
    "title": "BEE 4750 Homework 4: Linear Programming and Capacity Expansion",
    "section": "Problems (Total: 50/60 Points)",
    "text": "Problems (Total: 50/60 Points)\n\nProblem 1 (20 points)\nA farmer has access to a pesticide which can be used on corn, soybeans, and wheat fields, and costs $70/ha-yr to apply. The crop yields the farmer can obtain following crop yields by applying varying rates of pesticides to the field are shown in Table 1.\n\n\n\nTable 1: Crop yields from applying varying pesticide rates for Problem 1.\n\n\n\n\n\n\n\n\n\n\n\nApplication Rate (kg/ha)\nSoybean (kg/ha)\nWheat (kg/ha)\nCorn (kg/ha)\n\n\n\n\n0\n2900\n3500\n5900\n\n\n1\n3800\n4100\n6700\n\n\n2\n4400\n4200\n7900\n\n\n\n\n\n\nThe costs of production, excluding pesticides, for each crop, and selling prices, are shown in Table 2.\n\n\n\nTable 2: Costs of crop production, excluding pesticides, and selling prices for each crop.\n\n\n\n\n\nCrop\nProduction Cost ($/ha-yr)\nSelling Price ($/kg)\n\n\n\n\nSoybeans\n350\n0.36\n\n\nWheat\n280\n0.27\n\n\nCorn\n390\n0.22\n\n\n\n\n\n\nRecently, environmental authorities have declared that farms cannot have an average application rate on soybeans, wheat, and corn which exceeds 0.8, 0.7, and 0.6 kg/ha, respectively. The farmer has asked you for advice on how they should plant crops and apply pesticides to maximize profits over 130 total ha while remaining in regulatory compliance if demand for each crop (which is the maximum the market would buy) this year is 250,000 kg?\nIn this problem:\n\nFormulate a linear program for this resource allocation problem, including clear definitions of decision variable(s) (including units), objective function(s), and constraint(s) (make sure to explain functions and constraints with any needed derivations and explanations). Tip: Make sure that all of your constraints are linear.\nImplement the program in JuMP.jl and find the solution. How many ha should the farmer dedicate to each crop and with what pesticide application rate(s)? How much profit will the farmer expect to make?\nThe farmer has an opportunity to buy an extra 10 ha of land. How much extra profit would this land be worth to the farmer? Discuss why this value makes sense and whether you would recommend the farmer should make the purchase.\n\n\n\nProblem 2 (30 points)\nFor this problem, we will use hourly load (demand) data from 2013 in New York’s Zone C (which includes Ithaca). The load data is loaded and plotted below in Figure 1.\n\n# load the data, pull Zone C, and reformat the DataFrame\nNY_demand = DataFrame(CSV.File(\"data/2013_hourly_load_NY.csv\"))\nrename!(NY_demand, :\"Time Stamp\" =&gt; :Date)\ndemand = NY_demand[:, [:Date, :C]]\nrename!(demand, :C =&gt; :Demand)\ndemand[:, :Hour] = 1:nrow(demand)\n\n# plot demand\nplot(demand.Hour, demand.Demand, xlabel=\"Hour of Year\", ylabel=\"Demand (MWh)\", label=:false)\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Hourly load data for New York’s Zone C in 2013.\n\n\n\n\nNext, we load the generator data, shown in Table 3. This data includes fixed costs ($/MW installed), variable costs ($/MWh generated), and CO2 emissions intensity (tCO2/MWh generated).\n\ngens = DataFrame(CSV.File(\"data/generators.csv\"))\n\n\n\nTable 3: Generator type data, including fixed costs (\\(/MW installed), variable costs (\\)/MWh generated), and CO2 emissions intensity (tCO2/MWh generated).\n\n\n\n6×4 DataFrame\n\n\n\nRow\nPlant\nFixedCost\nVarCost\nEmissions\n\n\n\nString15\nInt64\nInt64\nFloat64\n\n\n\n\n1\nGeothermal\n450000\n0\n0.0\n\n\n2\nCoal\n220000\n24\n1.0\n\n\n3\nNG CCGT\n82000\n30\n0.43\n\n\n4\nNG CT\n65000\n40\n0.55\n\n\n5\nWind\n91000\n0\n0.0\n\n\n6\nSolar\n70000\n0\n0.0\n\n\n\n\n\n\n\n\n\nFinally, we load the hourly solar and wind capacity factors, which are plotted in Figure 2. These tell us the fraction of installed capacity which is expected to be available in a given hour for generation (typically based on the average meteorology).\n\n# load capacify factors into a DataFrame\ncap_factor = DataFrame(CSV.File(\"data/wind_solar_capacity_factors.csv\"))\n\n# plot January capacity factors\np1 = plot(cap_factor.Wind[1:(24*31)], label=\"Wind\")\nplot!(cap_factor.Solar[1:(24*31)], label=\"Solar\")\nxaxis!(\"Hour of the Month\")\nyaxis!(\"Capacity Factor\")\n\np2 = plot(cap_factor.Wind[4344:4344+(24*31)], label=\"Wind\")\nplot!(cap_factor.Solar[4344:4344+(24*31)], label=\"Solar\")\nxaxis!(\"Hour of the Month\")\nyaxis!(\"Capacity Factor\")\n\ndisplay(p1)\ndisplay(p2)\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(a) January\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(b) July\n\n\n\n\n\n\n\nFigure 2: Hourly solar and wind capacity factors.\n\n\n\n\nYou have been asked to develop a generating capacity expansion plan for the utility in Riley County, NY, which currently has no existing electrical generation infrastructure. The utility can build any of the following plant types: geothermal, coal, natural gas combined cycle gas turbine (CCGT), natural gas combustion turbine (CT), solar, and wind.\nWhile coal, CCGT, and CT plants can generate at their full installed capacity, geothermal plants operate at maximum 85% capacity, and solar and wind available capacities vary by the hour depend on the expected meteorology. The utility will also penalize any non-served demand at a rate of $5,000/MWh.\nIn this problem:\n\nFormulate a linear program for this capacity expansion problem, including clear definitions of decision variable(s) (including units), objective function(s), and constraint(s) (make sure to explain functions and constraints with any needed derivations and explanations).\nImplement your linear program in JuMP.jl. Find the optimal solution. How much should the utility build of each type of generating plant? What will the total cost be? How much energy will be non-served?\nWhat fraction of annual generation does each plant type produce? How does this compare to the breakdown of built capacity that you found in Problem 1.5? Do these results make sense given the generator data?\nMake a plot of the electricity price in each hour. Discuss any trends that you see.\n\n\n\n\n\n\n\nSignificant Digits\n\n\n\nUse round(x; digits=n) to report values to the appropriate precision!\n\n\n\n\n\n\n\n\nGetting Variable Output Values\n\n\n\nvalue.(x) will report the values of a JuMP variable x, but it will return a special container which holds other information about x that is useful for JuMP. This means that you can’t use this output directly for further calculations. To just extract the values, use value.(x).data.\n\n\n\n\n\n\n\n\nSuppressing Model Command Output\n\n\n\nThe output of specifying model components (variable or constraints) can be quite large for this problem because of the number of time periods. If you end a cell with an @variable or @constraint command, I highly recommend suppressing output by adding a semi-colon after the last command, or you might find that your notebook crashes.\n\n\n\n\nProblem 3 (10 points)\nThis problem is only required for students in BEE 5750.\nThe NY state legislature is considering enacting an annual CO2 limit, which for the utility would limit the emissions in its footprint to 1.5 MtCO2/yr.\nIn this problem:\n\nReformulate your linear program from Problem 2 with any necessary changes to capture the CO2 limit.\nImplement the new optimization problem and find the optimal solution. How much should the utility build of each type of generating plant? What is different from your plan from Problem 1? Do these changes make sense?\nWhat would the value to the utility be of allowing it to emit an additional 1000 tCO2/yr? An additional 5000?",
    "crumbs": [
      "Homework",
      "HW 4"
    ]
  },
  {
    "objectID": "hw/hw04/hw04.html#references",
    "href": "hw/hw04/hw04.html#references",
    "title": "BEE 4750 Homework 4: Linear Programming and Capacity Expansion",
    "section": "References",
    "text": "References\nList any external references consulted, including classmates.",
    "crumbs": [
      "Homework",
      "HW 4"
    ]
  },
  {
    "objectID": "labs/lab01/lab01.html",
    "href": "labs/lab01/lab01.html",
    "title": "BEE 4750 Lab 1: Julia and GitHub Basics",
    "section": "",
    "text": "Due Date\n\n\n\nWednesday, 8/28/24, 9:00pm",
    "crumbs": [
      "Labs",
      "Lab 1"
    ]
  },
  {
    "objectID": "labs/lab01/lab01.html#setup",
    "href": "labs/lab01/lab01.html#setup",
    "title": "BEE 4750 Lab 1: Julia and GitHub Basics",
    "section": "Setup",
    "text": "Setup\nThe following code should go at the top of most Julia scripts; it will load the local package environment and install any needed packages. You will see this often and shouldn’t need to touch it.\n\nimport Pkg\nPkg.activate(\".\")\nPkg.instantiate()\n\nThis next cell loads packages which are required for the rest of the code evaluation. In this case, we only need to load the Plots.jl plotting package, but you will see others over the course of the semester (and can add more if desired; just make sure that you’ve added the new packages to the environment). Standard Julia practice is to load all of the needed packages at the top of the file.\n\n\n\n\n\n\nLoading packages can take a while, especially the first time! Julia tries to precompile all of the packages you’re using so repeat use is faster, but this can be quite slow at first.\n\n\n\n\nusing Plots",
    "crumbs": [
      "Labs",
      "Lab 1"
    ]
  },
  {
    "objectID": "labs/lab01/lab01.html#introduction",
    "href": "labs/lab01/lab01.html#introduction",
    "title": "BEE 4750 Lab 1: Julia and GitHub Basics",
    "section": "Introduction",
    "text": "Introduction\n\nJulia\nJulia is an up-and-coming language, originally developed for scientific programming. While learning a new programming language always has its hiccups, the good news is that if you’ve programmed in a high-level language such as Python or MATLAB, most Julia concepts should look familiar.\nIf you have not successfully set up Julia, follow the instructions in Tools Setup and/or ask for help.\nYou can use other editors for this course, but our recommendation is Visual Studio Code with the Julia extension, which will make life a lot simpler! You should have set this up by following the Tools Setup instructions, but if not, do so now and/or ask for help.\n\n\nJupyter Notebooks\nJupyter notebooks integrate text and equations in Markdown with Julia (or Python, or R) code. To do this, Jupyter notebooks consist of two types of “cells”: code cells and Markdown (text) cells.\nClick once on this section of text. A box will appear around this text (and some areas above/below it) - all of that is within this cell.\nMarkdown is a text markup framework for formatting language that makes things look pretty when viewed across different platforms: web browsers, notebooks, and so forth. Text written in Markdown can also include hyperlinks, LaTeX equations, section headers, and images, among other features (most of the course website and the lecture notes were all written in Markdown!). Here is a basic Markdown cheat sheet.\nWhat you are looking at right now is the formatted text after the Markdown is processed. To see the raw Markdown, do one of:\n\npress Enter while that cell is selected, or\ndouble-click on that cell.\n\n\nA couple of the features you will see in this Markdown cell:\n\nThe --- command creates a horizontal line. This is also nice for separating sections.\nBackticks (`...`) can be used to format and highlight code, keystrokes, etc.\nThe # sign is used to create a new section header; two # signs (##) is used to create a new subsection header; ### creates a subsubsection, and so on.\nYou can create a bulleted list by using the asterisk * or a dash - and a space.\nYou can create regular text by just typing as usual.\nYou can create bold-faced text by wrapping it with two asterisks on both sides.\nYou can create italicized text by wrapping it with a single asterisk on both sides.\nTo create a new paragraph, you must include a blank line between the old and new paragraphs.\n\nAt this point you might be wondering how to turn this cell back into the fully formatted Markdown text instead of the raw Markdown you’re probably still looking at. You have a couple of options, depending on your platform, but the most consistent is to type Shift + Enter to execute the cell (this is also how to run code, but more on that later).\nAdditionally, you will frequently need to create new cells in your Jupyter notebooks. How you do this will depend on how you interact with the notebook, but try to figure this out now.\nOne tip is to think carefully about what bits of code should be in the same cell, as you typically only see output from the last command in a cell. For example, compare the following:\n\nx = 5\nsin(x)\n\n-0.9589242746631385\n\n\nwith\n\nx = 5\n\n5\n\n\n\nsin(x)\n\n-0.9589242746631385\n\n\nIn Julia, you can also suppress the output of a command with a semi-colon:\n\nsin(x);\n\nwhich can help if you want to split some code out for clarity or to insert some text prior to it, but don’t want to clutter the notebook with its output.\nFor code cells, to execute the commands within the cell, we also press Shift+Enter.\nFinally, make sure that you evaluate all of the code cells in order before submitting. One bad outcome with notebooks occurs when cells are evaluated out of order, so fixed bugs and edits in previous cells do not get a chance to propagate down. You can do this with the Run All command in whichever interface you’re using to edit your notebook.\n\n\nJulia Basics\nThere are many tutorials and references for Julia, including a basics overview on the class website. Please feel free to reference these as you work through any part of the course.\n\n\nFormatting Math\nIt will often be helpful to include nicely-formatted mathematics in a notebook. Markdown accomodates this using LaTeX syntax. A LaTeX cheatsheet is available on the class website, and many other guides exist online.\nBelow is an example of a formatted equation: \\[x = 5.\\]\n\n\nLooking For Help\nThere is no shame in using Google, or other resources, for help when programming. There are many, many times when you can’t quite get the syntax to work, can’t quite figure out the right package or command to use, or are feeling too lazy or overwhelmed (I’m not judging either of those!) to dig through the documentation. Some good resources include:\n\nStack Overflow is a treasure trove of answers;\nThe official Julia forum and the Julia Subreddit are also very useful.\n\nYou are also highly encouraged to post on Ed Discussion, though getting a response might be less immediate. Just be mindful that to get good answers, you have to help people help you, and make sure to give credit to any resources that were helpful!",
    "crumbs": [
      "Labs",
      "Lab 1"
    ]
  },
  {
    "objectID": "labs/lab01/lab01.html#exercises-3-points",
    "href": "labs/lab01/lab01.html#exercises-3-points",
    "title": "BEE 4750 Lab 1: Julia and GitHub Basics",
    "section": "Exercises (3 points)",
    "text": "Exercises (3 points)\nUse your understanding of Julia syntax and the GitHub workflow to complete the following (hopefully short) exercises. Convert your completed lab assignment to a PDF and submit it to the Gradescope Assignment “Lab 1”.\nRemember to:\n\nInclude a (succint but clear) writeup of the core idea underlying your code, through some combination of equations, text, and algorithms. As you are not required to submit your code, we will not be looking at it in detail, and instead will rely on those writeups to assess whether your approach is correct.\nIf using the notebook, evaluate all of your code cells, in order (using a Run All command). This will make sure all output is visible and that the code cells were evaluated in the correct order.\nTag each of the problems when you submit to Gradescope; a 10% penalty will be deducted if this is not done.\n\n\nComputing a Dot Product\nGiven two numeric arrays x and y, write a function to compute their dot product if they have equal length, and return an error if not (this is useful for debugging!). Use the following code as a starting point.\n\nfunction dot_product(x, y)\n    if ... # insert test condition for equal lengths\n        # compute and return dot product\n    else\n        throw(DimensionMismatch(\"length of x not equal to length of y\"))\n    end\nend\n\nHere are some tests to make sure your code works as intended. Tests like these are useful to make sure everything works as intended. One reason to split your code up into functions is that it makes it straightforward to write tests to make sure each piece of your code works, which makes it easier to identify where errors are occuring.\n\ndot_product([1 2 3], [4 5 6])\n\nIf you know the value you should get, you can write a more formal test using the @assert macro, which is a good way to “automate” checking (since you get an obvious error if the code doesn’t work as desired):\n\n@assert dot_product([1 2 3], [4 5 6]) == 32\n\nLet’s also make sure we get an error when the dimensions of the two vectors don’t match:\n\ndot_product([1 2 3], [4 5])\n\n\n\nMaking a Plot\nWrite a function to compute the square of an integer x. Evaluate this function for integers between \\(x=-5\\) and \\(x=5\\) and make a plot of the squared values (you can find a quick guide to making various types of plots here). Make sure to label your axes.\n\n# insert your code here",
    "crumbs": [
      "Labs",
      "Lab 1"
    ]
  },
  {
    "objectID": "labs/lab01/lab01.html#commit-and-push-your-changes-to-github",
    "href": "labs/lab01/lab01.html#commit-and-push-your-changes-to-github",
    "title": "BEE 4750 Lab 1: Julia and GitHub Basics",
    "section": "Commit and Push Your Changes to GitHub",
    "text": "Commit and Push Your Changes to GitHub\nAfter completing the previous two exercises, commit your solution file (notebook or otherwise) and push to GitHub. Use an informative commit message which makes it clear what changes you’ve made. The specific workflow for this will vary depending on how you’re writing up your solutions; please search for specifics and ask for help as needed!\n\n\n\n\n\n\nUseful Commit Sizes\n\n\n\nIdeally, you’d commit whenever you make a “substantial” enough change that you want to lock in, such as writing the core code for a problem or completing a problem, if you’re preparing code to be used elsewhere (by yourself or others), or if you want to ask for help. git lets you revert changes back to a previous commit, so it’s easy to undo changes or updates which broke something that was previously working, so changing too many things at once can make it hard to keep track of what worked when.\nBut in this case, go ahead and just commit after finishing the problems.\n\n\nPush the repository with these commits to GitHub and take a screenshot of the repository page (https://github.com/BEE4750-FA24/&lt;username&gt;/lab01) which shows the updated repository. Include that screenshot in your submission as the solution to this problem.",
    "crumbs": [
      "Labs",
      "Lab 1"
    ]
  },
  {
    "objectID": "labs/lab01/lab01.html#submitting-pdf",
    "href": "labs/lab01/lab01.html#submitting-pdf",
    "title": "BEE 4750 Lab 1: Julia and GitHub Basics",
    "section": "Submitting PDF",
    "text": "Submitting PDF\n\n\n\n\n\n\nThese submission instructions will not be repeated on future assignments!\n\n\n\nExport your writeup as a PDF and submit it to the “Lab 1” assignment on Gradescope. Make sure that you tag pages corresponding to relevant problems to avoid a 10% penalty.\n\n\n\n\n\n\nPrinting Code to PDF\n\n\n\nYou are not required to submit your code when submitting assignments. However, when printing a notebook to PDF, long lines will run off the edge of code cells, which may result in comments or code being hidden. If you see this, go back to the notebook and break up long lines into shorter onces (for example, see the comment in the above code cell) to ensure key parts of your results aren’t missing.",
    "crumbs": [
      "Labs",
      "Lab 1"
    ]
  },
  {
    "objectID": "labs/lab03/lab03.html",
    "href": "labs/lab03/lab03.html",
    "title": "BEE 4750 Lab 3: Linear Programming with JuMP",
    "section": "",
    "text": "Due Date\n\n\n\nWednesday, 10/16/24, 9:00pm",
    "crumbs": [
      "Labs",
      "Lab 3"
    ]
  },
  {
    "objectID": "labs/lab03/lab03.html#setup",
    "href": "labs/lab03/lab03.html#setup",
    "title": "BEE 4750 Lab 3: Linear Programming with JuMP",
    "section": "Setup",
    "text": "Setup\nThe following code should go at the top of most Julia scripts; it will load the local package environment and install any needed packages. You will see this often and shouldn’t need to touch it.\n\nimport Pkg\nPkg.activate(\".\")\nPkg.instantiate()\n\n\nusing JuMP # optimization modeling syntax\nusing HiGHS # optimization solver\nusing Plots # plotting",
    "crumbs": [
      "Labs",
      "Lab 3"
    ]
  },
  {
    "objectID": "labs/lab03/lab03.html#overview",
    "href": "labs/lab03/lab03.html#overview",
    "title": "BEE 4750 Lab 3: Linear Programming with JuMP",
    "section": "Overview",
    "text": "Overview\nIn this lab, you will write and solve a resource allocation example using JuMP.jl. JuMP.jl provides an intuitive syntax for writing, solving, and querying optimization problems.\nFor an example of using JuMP.jl to solve linear programs, see the relevant tutorial on the class website.\nFree free to delete some of the illustrative cells and code blocks in your notebook as you go through and solve the lab problems…this might help reduce some potential confusion while grading about what your answer is.\n\nJuMP.jl Syntax\nFeel free to consult the website’s JuMP tutorial for syntax help. The keys:\n\nInitialize your model with a solver; in this case, we’ll use the HiGHS solver, but there are other solvers listed here for different types of problems, some of which are open and some of which require a commercial license: https://jump.dev/JuMP.jl/stable/installation/#Supported-solvers:\n\n\nexample_model = Model(HiGHS.Optimizer)\n\n\nDefine variables with syntax like\n#| output: false\n@variable(example_model, 1 &gt;= example_x &gt;= 0)\nThis will create a variable example_x which is constrained to be between 0 and 1; you can leave off any of the bounds if a variable is unbounded in a particular direction. You can also add a vector of variables:\n#| output: false\nT = 1:3 # define set to index variables\n@variable(example_model, 1 &gt;= example_z[t in T] &gt;= 0)\nwhich will create a vector of 3 variables example_z[1], …, example_z[3], all of which are bounded between 0 and 1.\nAdd an objective with\n#| output: false\n@objective(example_model, Max, example_x + sum(example_z))\nwhich will add an objective to maximize (replace with Min to minimize).\nAdd constraints:\n#| output: false\n@constraint(example_model, constraint1, 2example_x + 3*sum(example_z) &lt;= 10)\n@constraint(example_model, constraint2, 5example_x - example_z[1] &lt;= 2)\nwhich will name the constraints constraint1 and constraint2 (you should make yours more descriptive about what the constraint actually is). The value of adding a name is to facilitate later querying of shadow prices, which we will discuss later. You can also add a vector of constraints which have similar structure or rely on different elements of a data vector:\n#| output: false\nA = [2; 4]\nb = [8; 12]\nI = 1:2 # set indices for constraint\n@constraint(example_model, vector_constraint[i in I], A[i] * sum(example_z) .&lt;= b[i])\nYou can also define matrices of constraints which depend on two index sets by generalizing this syntax, e.g.\n@constraint(example_model, matrix_constraint[i in I, j in J, ...])\n\n\n\n\n\n\nSpecifying higher-dimensional vectors and matrices of variables and constraints will be important when we start looking at more complex applications, so don’t skip over this! You don’t want to manually enter thousands of constraints to ensure hourly electricity demand is met…\n\n\n\nFinally, you can (and probably should) print your model to make sure that you get something that looks like the equations that you wrote down (in a notebook, this will be nicely rendered):\nprint(example_model)\n\n\n\n\n\n\n\nDefine your entire model in one cell\n\n\n\nJuMP has great and intuitive syntax (this is one of the reasons we’re using Julia in this course!), but it doesn’t like re-defining variables or constraints once they’ve been set. I recommend putting all of your model-definition code (starting from model = Model(...)) for a particular optimization problem in a single notebook cell, so you can re-set up the entire problem with a single click when you want to make a change.",
    "crumbs": [
      "Labs",
      "Lab 3"
    ]
  },
  {
    "objectID": "labs/lab03/lab03.html#instructions",
    "href": "labs/lab03/lab03.html#instructions",
    "title": "BEE 4750 Lab 3: Linear Programming with JuMP",
    "section": "Instructions",
    "text": "Instructions\nRemember to:\n\nEvaluate all of your code cells, in order (using a Run All command). This will make sure all output is visible and that the code cells were evaluated in the correct order.\nTag each of the problems when you submit to Gradescope; a 10% penalty will be deducted if this is not done.",
    "crumbs": [
      "Labs",
      "Lab 3"
    ]
  },
  {
    "objectID": "labs/lab03/lab03.html#exercise-3-points",
    "href": "labs/lab03/lab03.html#exercise-3-points",
    "title": "BEE 4750 Lab 3: Linear Programming with JuMP",
    "section": "Exercise (3 points)",
    "text": "Exercise (3 points)\nYour task is to decide how much lumber to produce to maximize profit from wood sales. You can purchase wood from a managed forest, which consists of spruce (320,000 bf) and fir (720,000 bf). Spruce costs $0.12 per bf to purchase and fir costs $0.08 per bf.\nAt the lumber mill, wood can be turned into plywood of various grades (see Table 1 for how much wood of each type is required for and the revenue from each grade). Any excess wood is sent to be recycled into particle board, which yields no revenue for the mill.\n\n\n\nTable 1: Wood inputs and revenue by plywood grade. S refers to spruce inputs, F fir inputs.\n\n\n\n\n\nPlywood Grade\nInputs (bf/bf plywood)\nRevenue ($/1000 bf)\n\n\n\n\n1\n0.5 (S) + 1.5 (F)\n400\n\n\n2\n1.0 (S) + 2.0 (F)\n520\n\n\n3\n1.5 (S) + 2.0 (F)\n700\n\n\n\n\n\n\nYou will go through the steps of formulating and solving a linear program for this problem.\nMake sure to:\n\nClearly define your decision variables notation, including what variables you are using, what they mean, and what their units are.\n\n\n\n\n\n\nSelecting Decision Variables\n\n\n\nThere isn’t always a single obvious choice for your decision variables, but some make the rest of your problem formulation easier than others. You can always go back and re-assess if you struggle with defining your objective function and constraints with a particular choice!\n\n\nDerive your objective function. Support your function with justifications and/or equations as necessary.\nDerive any needed constraints. Support your function with justifications and/or equations as necessary.\nPut this optimization problem in mathematical programming form. For an example of the syntax for this in a notebook (or other LaTeX-based formatting), see lines 82–91 here.\n\nExtra:\nYou may not have time to complete this part of the lab before submitting, but since the problem is relatively simple, these steps might be worth returning to as you work on the linear programming homework.\n\nCode your linear program using JuMP.\nFind the solution to your program and find the optimal values of the decision variables. Once you’ve defined your model, you can find the solution with optimize!():\noptimize!(example_model)\n\n\n\n\n\n\nWhat if I Get An Error?\n\n\n\nIf optimize!() throws an error, that’s usually a sign that something is wrong with the formulation (for example, a variable might not be bounded or a constraint might not be specified correctly) or a typo in the model definition. Linear programs should be well behaved!\n\n\nTo find the values of variables after optimizing, use value.() (the broadcasting ensures this will work for vector-valued variables as well):\nvalue.(example_x)\nvalue.(example_z)\nFind the shadow price of the spruce constraint; remember that this is the change to profit from every additional unit of spruce that becomes available. You can get the shadow price of a constraint with the following syntax:\nshadow_price(constraint1) # this is why we named the constraints when we defined them",
    "crumbs": [
      "Labs",
      "Lab 3"
    ]
  },
  {
    "objectID": "labs/lab03/lab03.html#references",
    "href": "labs/lab03/lab03.html#references",
    "title": "BEE 4750 Lab 3: Linear Programming with JuMP",
    "section": "References",
    "text": "References\nPut any consulted sources here, including classmates you worked with/who helped you.",
    "crumbs": [
      "Labs",
      "Lab 3"
    ]
  },
  {
    "objectID": "labs/lab02/lab02.html",
    "href": "labs/lab02/lab02.html",
    "title": "BEE 4750 Lab 2: Uncertainty and Monte Carlo",
    "section": "",
    "text": "Due Date\n\n\n\nWednesday, 9/25/24, 9:00pm",
    "crumbs": [
      "Labs",
      "Lab 2"
    ]
  },
  {
    "objectID": "labs/lab02/lab02.html#setup",
    "href": "labs/lab02/lab02.html#setup",
    "title": "BEE 4750 Lab 2: Uncertainty and Monte Carlo",
    "section": "Setup",
    "text": "Setup\nThe following code should go at the top of most Julia scripts; it will load the local package environment and install any needed packages. You will see this often and shouldn’t need to touch it.\n\nimport Pkg\nPkg.activate(\".\")\nPkg.instantiate()\n\n\nusing Random # random number generation\nusing Distributions # probability distributions and interface\nusing Statistics # basic statistical functions, including mean\nusing Plots # plotting",
    "crumbs": [
      "Labs",
      "Lab 2"
    ]
  },
  {
    "objectID": "labs/lab02/lab02.html#overview",
    "href": "labs/lab02/lab02.html#overview",
    "title": "BEE 4750 Lab 2: Uncertainty and Monte Carlo",
    "section": "Overview",
    "text": "Overview\nIn this lab, we will use Monte Carlo analysis to analyze a version of the culmination of every episode of the long-running game show The Price Is Right: the Showcase.\nMonte Carlo methods involve the simulation of random numbers from probability distributions. In an environmental context, we often propagate these random numbers through some more complicated model and then compute a resulting statistic which is relevant for assessing performance or risk, such as an average outcome or a particular quantile.\nYou should always start any computing with random numbers by setting a “seed,” which controls the sequence of numbers which are generated (since these are not really random, just “pseudorandom”). In Julia, we do this with the Random.seed!() function.\n\nRandom.seed!(1)\n\nTaskLocalRNG()\n\n\nIt doesn’t matter what seed you set, though different seeds might result in slightly different values. But setting a seed means every time your notebook is run, the answer will be the same.\n\n\n\n\n\n\nSeeds and Reproducing Solutions\n\n\n\nIf you don’t re-run your code in the same order or if you re-run the same cell repeatedly, you will not get the same solution. If you’re working on a specific problem, you might want to re-use Random.seed() near any block of code you want to re-evaluate repeatedly.\n\n\n\nProbability Distributions and Julia\nJulia provides a common interface for probability distributions with the Distributions.jl package. The basic workflow for sampling from a distribution is:\n\nSet up the distribution. The specific syntax depends on the distribution and what parameters are required, but the general call is the similar. For a normal distribution or a uniform distribution, the syntax is\n# you don't have to name this \"normal_distribution\"\n# μ is the mean and σ is the standard deviation\nnormal_distribution = Normal(μ, σ)\n# a is the upper bound and b is the lower bound; these can be set to +Inf or -Inf for an unbounded distribution in one or both directions.\nuniform_distribution = Uniform(a, b)\nThere are lots of both univariate and multivariate distributions, as well as the ability to create your own, but we won’t do anything too exotic here.\nDraw samples. This uses the rand() command (which, when used without a distribution, just samples uniformly from the interval \\([0, 1]\\).) For example, to sample from our normal distribution above:\n# draw n samples\nrand(normal_distribution, n)\n\nPutting this together, let’s say that we wanted to simulate 100 six-sided dice rolls. We could use a Discrete Uniform distribution.\n\ndice_dist = DiscreteUniform(1, 6) # can generate any integer between 1 and 6\ndice_rolls = rand(dice_dist, 100) # simulate rolls\n\n100-element Vector{Int64}:\n 2\n 2\n 1\n 5\n 1\n 6\n 6\n 2\n 6\n 3\n ⋮\n 5\n 1\n 6\n 5\n 1\n 6\n 4\n 4\n 3\n\n\nAnd then we can plot a histogram of these rolls:\n\nhistogram(dice_rolls, legend=:false, bins=6)\nylabel!(\"Count\")\nxlabel!(\"Dice Value\")\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nInstructions\nRemember to:\n\nEvaluate all of your code cells, in order (using a Run All command). This will make sure all output is visible and that the code cells were evaluated in the correct order.\nTag each of the problems when you submit to Gradescope; a 10% penalty will be deducted if this is not done.",
    "crumbs": [
      "Labs",
      "Lab 2"
    ]
  },
  {
    "objectID": "labs/lab02/lab02.html#exercise-3-points",
    "href": "labs/lab02/lab02.html#exercise-3-points",
    "title": "BEE 4750 Lab 2: Uncertainty and Monte Carlo",
    "section": "Exercise (3 Points)",
    "text": "Exercise (3 Points)\nThe Showcase is the final round of every episode of The Price is Right, matching the two big winners from the episode. Each contestant is shown a “showcase” of prizes, which are usually some combination of a trip, a motor vehicle, some furniture, and maybe some other stuff. They then each have to make a bid on the retail price of the showcase. The rules are:\n\nan overbid is an automatic loss;\nthe contest who gets closest to the retail price wins their showcase;\nif a contestant gets within $250 of the retail price and is closer than their opponent, they win both showcases.\n\nYour goal is to find a wager which maximizes your expected winnings, which we may as well call utility, based on your assessment of the probability of your showcase retail price. Make the following assumptions about your expected winnings if you don’t overbid:\n\nIf you win both showcases, the value is the double of the single showcase value.\nIf you did not win both showcases but bid under the showcase value, the probability of being outbid increases linearly as the distance between your bid and the value increases (in other words, if you bid the exact value, you win with probability 1, and if you bid $0, you win with probability 0).\n\nWe’ll assume that the distribution of all showcases offered by the show is given as truncated normal distribution, which means a normal distribution which has an upper and/or lower bound. Distributions.jl makes it easy to specify truncations on any distribution, not just normal distributions. For example, we’ll use the distribution shown in Figure 1 for the showcase values (you can just directly use the showcase_dist distribution in your lab code).\n\nshowcase_dist = truncated(Normal(31000, 4500), lower=5000, upper=42000)\nshowcase_samples = rand(showcase_dist, 10_000)\nhistogram(showcase_samples)\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Distribution of Showcase values for this lab, given as a truncated normal distribution.\n\n\n\n\nFind your expected winnings if you bid $35,000. Plot the outcomes of your Monte Carlo experiment (iterations vs. running estimate). How did you decide how many samples to use?",
    "crumbs": [
      "Labs",
      "Lab 2"
    ]
  },
  {
    "objectID": "labs/lab02/lab02.html#references",
    "href": "labs/lab02/lab02.html#references",
    "title": "BEE 4750 Lab 2: Uncertainty and Monte Carlo",
    "section": "References",
    "text": "References\nPut any consulted sources here, including classmates you worked with/who helped you.",
    "crumbs": [
      "Labs",
      "Lab 2"
    ]
  },
  {
    "objectID": "hw/hw01/hw01.html",
    "href": "hw/hw01/hw01.html",
    "title": "BEE 4750 Homework 1: Introduction to Using Julia",
    "section": "",
    "text": "Due Date\n\n\n\nThursday, 9/5/24, 9:00pm",
    "crumbs": [
      "Homework",
      "HW 1"
    ]
  },
  {
    "objectID": "hw/hw01/hw01.html#overview",
    "href": "hw/hw01/hw01.html#overview",
    "title": "BEE 4750 Homework 1: Introduction to Using Julia",
    "section": "Overview",
    "text": "Overview\n\nInstructions\n\nProblem 1 consist of a series of code snippets for you to interpret and debug. You will be asked to identify relevant error(s) and fix the code.\nProblem 2 gives you some code that works as intended; your goal is to identify the code’s purpose by following its logic.\nProblem 3 asks you to write code to generate a random vector and subtract off its mean, using a Julia syntax called broadcasting.\nProblem 4 asks you to convert a verbal description of a wastewater treatment system into a Julia function, and then to use that function to explore the impact of different wastewater allocation strategies.\nProblem 5 (5750 only) asks you to use more advanced Julia techniques.\n\n\n\nLoad Environment\nThe following code loads the environment and makes sure all needed packages are installed. This should be at the start of most Julia scripts.\n\nimport Pkg\nPkg.activate(@__DIR__)\nPkg.instantiate()\n\nStandard Julia practice is to load all needed packages at the top of a file. If you need to load any additional packages in any assignments beyond those which are loaded by default, feel free to add a using statement, though you may need to install the package.\n\nusing Random\nusing Plots\nusing GraphRecipes\nusing LaTeXStrings\n\n\n# this sets a random seed, which ensures reproducibility of random number generation. You should always set a seed when working with random numbers.\nRandom.seed!(1)\n\nTaskLocalRNG()",
    "crumbs": [
      "Homework",
      "HW 1"
    ]
  },
  {
    "objectID": "hw/hw01/hw01.html#problems-total-5060-points",
    "href": "hw/hw01/hw01.html#problems-total-5060-points",
    "title": "BEE 4750 Homework 1: Introduction to Using Julia",
    "section": "Problems (Total: 50/60 Points)",
    "text": "Problems (Total: 50/60 Points)\n\nProblem 1 (15 points)\nThe following subproblems all involve code snippets that require debugging.\nFor each of them:\n\nidentify and describe the logic and/or syntax error;\nwrite a fixed version of the function;\nuse your fixed function to solve the problem.\n\n\nProblem 1.1\nYou’ve been tasked with writing code to identify the minimum value in an array. You cannot use a predefined function. Your colleague suggested the function below, but it does not return the minimum value.\n\nfunction minimum(array)\n    min_value = 0\n    for i in 1:length(array)\n        if array[i] &lt; min_value\n            min_value = array[i]\n        end\n    end\n    return min_value\nend\n\narray_values = [89, 90, 95, 100, 100, 78, 99, 98, 100, 95]\n@show minimum(array_values);\n\nminimum(array_values) = 0\n\n\n\n\nProblem 1.2\nYour team is trying to compute the average grade for your class, but the following code produces an error.\n\nstudent_grades = [89, 90, 95, 100, 100, 78, 99, 98, 100, 95]\nfunction class_average(grades)\n  average_grade = mean(student_grades)\n  return average_grade\nend\n\n@show average_grade;\n\nUndefVarError: \nUndefVarError: `average_grade` not defined\nStacktrace:\n [1] macro expansion\n   @ show.jl:1181 [inlined]\n [2] top-level scope\n   @ ~/Teaching/BEE4750/website/hw/hw01/hw01.qmd:184\n\n\n\n\nProblem 1.3\nYour team wants to know the expected payout of an old Italian dice game called passadieci (which was analyzed by Galileo as one of the first examples of a rigorous study of probability). The goal of passadieci is to get at least an 11 from rolling three fair, six-sided dice. Your strategy is to compute the average wins from 1,000 trials, but the code you’ve written below produces an error.\n\nfunction passadieci()\n    # this rand() call samples 3 values from the vector [1, 6]\n    roll = rand(1:6, 3) \n    return roll\nend\nn_trials = 1_000\noutcomes = zero(n_trials)\nfor i = 1:n_trials\n    outcomes[i] = (sum(passadieci()) &gt; 11)\nend\nwin_prob = sum(outcomes) / n_trials # compute average number of wins\n@show win_prob;\n\nMethodError: \nMethodError: no method matching setindex!(::Int64, ::Bool, ::Int64)\nStacktrace:\n [1] top-level scope\n   @ ~/Teaching/BEE4750/website/hw/hw01/hw01.qmd:215\n\n\n\n\n\nProblem 2 (5 points)\nYou’ve been handed some code to analyze. The original coder was not very considerate of other potential users: the function is called mystery_function and there are no comments explaining the purpose of the code. It appears to take in an array and return some numbers, and you’ve been assured that the code works as intended.\n\nfunction mystery_function(values)\n    y = []\n    for v in values\n        if !(v in y)\n            append!(y, v)\n        end\n    end\n    return y\nend\n\nlist_of_values = [1, 2, 3, 4, 3, 4, 2, 1]\n@show mystery_function(list_of_values);\n\nmystery_function(list_of_values) = Any[1, 2, 3, 4]\n\n\nIn this problem:\n\nExplain the purpose of mystery_function.\nAdd comments to the code, explaining why and how it works. Refer to “Best Practices for Writing Code Comments”, and remember that bad comments can be just as bad as no comments at all. You do not need to add comments to every line (in fact, this is very bad practice), but you should note the purpose of every “section” of code, and add comments explaining any code sequences that you don’t immediately understand.\nIs there a built-in Julia function that does the same thing as mystery_function? If so, what is it? Use it to do the same thing as the code above.\n\n\n\nProblem 3 (10 points)\nYou’re interested in writing some code to remove the mean of a vector.\nIn this problem:\n\nWrite a function compute_mean(v) which sums all of the elements of a vector v using a for loop and computes the mean.\nMake a random vector random_vect of length 10 using Julia’s rand() function. Use your compute_mean() function to calculate its mean and subtract it from random_vect without a loop (using a Julia technique called broadcasting; feel free to consult the Julia documentation and search as necessary). Check that the new vector has mean zero.\n\n\n\nProblem 4 (20 points)\nCheap Plastic Products, Inc. is operating a plant that produces \\(100 \\text{m}^3\\text{/day}\\) of wastewater that is discharged into Pristine Brook. The wastewater contains \\(1 \\text{kg/m}^3\\) of YUK, a toxic substance. The US Environmental Protection Agency has imposed an effluent standard on the plant prohibiting discharge of more than \\(20 \\text{kg/day}\\) of YUK into Pristine Brook.\nCheap Plastic Products has analyzed two methods for reducing its discharges of YUK. Method 1 is land disposal, which costs \\(X_1^2/20\\) dollars per day, where \\(X_1\\) is the amount of wastewater disposed of on the land (\\(\\text{m}^3\\text{/day}\\)). With this method, 20% of the YUK applied to the land will eventually drain into the stream (i.e., 80% of the YUK is removed by the soil).\nMethod 2 is a chemical treatment procedure which costs $1.50 per \\(\\text{m}^3\\) of wastewater treated. The chemical treatment has an efficiency of \\(e= 1 - 0.005X_2\\), where \\(X_2\\) is the quantity of wastewater (\\(\\text{m}^3\\text{/day}\\)) treated. For example, if \\(X_2 = 50 \\text{m}^3\\text{/day}\\), then \\(e = 1 - 0.005(50) = 0.75\\), so that 75% of the YUK is removed.\nCheap Plastic Products is wondering how to allocate their wastewater between these three disposal and treatment methods (land disposal, chemical treatment, and direct disposal) to meet the effluent standard while keeping costs manageable.\nThe flow of wastewater through this treatment system is shown in Figure 1. Modify the edge labels (by editing the edge_labels dictionary in the code producing Figure 1) to show how the wastewater allocations result in the final YUK discharge into Pristine Brook. For the edge_label dictionary, the tuple \\((i, j)\\) corresponds to the arrow going from node \\(i\\) to node \\(j\\). The syntax for any entry is (i, j) =&gt; \"label text\", and the label text can include mathematical notation if the string is prefaced with an L, as in L\"x_1\" will produce \\(x_1\\).\n\nA = [0 1 1 1;\n    0 0 0 1;\n    0 0 0 1;\n    0 0 0 0]\n\nnames = [\"Plant\", \"Land Treatment\", \"Chem Treatment\", \"Pristine Brook\"]\n# modify this dictionary to add labels\nedge_labels = Dict((1, 2) =&gt; \"\", (1,3) =&gt; \"\", (1, 4) =&gt; \"\",(2, 4) =&gt; \"\",(3, 4) =&gt; \"\")\nshapes=[:hexagon, :rect, :rect, :hexagon]\nxpos = [0, -1.5, -0.25, 1]\nypos = [1, 0, 0, -1]\n\np = graphplot(A, names=names,edgelabel=edge_labels, markersize=0.15, markershapes=shapes, markercolor=:white, x=xpos, y=ypos)\ndisplay(p)\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: System diagram of the wastewater treatment options in Problem 4.\n\n\n\n\nIn this problem:\n\nFormulate a mathematical model for the treatment cost and the amount of YUK that will be discharged into Pristine Brook based on the wastewater allocations. This is best done with some equations and supporting text explaining the derivation. Make sure you include, as additional equations in the model, any needed constraints on relevant values. You can find some basics on writing mathematical equations using the LaTeX typesetting syntax here, and a cheatsheet with LaTeX commands can be found on the course website’s Resources page.\nImplement your systems model as a Julia function which computes the resulting YUK concentration and cost for a particular treatment plan. You can return multiple values from a function with a tuple, as in:\nfunction multiple_return_values(x, y)\n    return (x+y, x*y)\nend\n\na, b = multiple_return_values(2, 5)\n@show a;\n@show b;\nTo evalute the function over vectors of inputs, you can broadcast the function by adding a decimal . before the function arguments and accessing the resulting values by writing a comprehension to loop over the individual outputs in the vector:\nx = [1, 2, 3, 4, 5]\ny = [6, 7, 8, 9, 10]\n\noutput = multiple_return_values.(x, y)\na = [out[1] for out in output]\nb = [out[2] for out in output]\n@show a;\n@show b;\nMake sure you comment your code appropriately to make it clear what is going on and why.\nUse your function to experiment with some different combinations of wastewater discharge and treatment and plot the results of these experiments. Can you find one that satisfies the YUK effluent standard (plot this as well as a dashed red line)? What was the cost? What can you say about the tradeoff between treatment cost and YUK concentration? You don’t have to find an “optimal” solution to this problem, but what do you think would be needed to find a better solution?\n\n\n\nProblem 5 (10 points)\nThis problem is only required for students in BEE 5750.\n\nProblem 5.1\nUsing a comprehension, count the number of odd numbers between 0 and 149.\n\n\n\n\n\n\n\nHint\n\n\n\niseven() returns true for even numbers and false for odd numbers.\n\n\n\nProblem 5.2\nWrite a function polynomial(x, a) which calculates the polynomial \\[p(x) = \\sum_{i=1}^n a_i x^i\\]\nbased on a point x and a coefficient vector a of length n using a loop. Test your function by computing \\[p(x) = 2x^3 - x^2 + 1\\] at \\(x=2\\).",
    "crumbs": [
      "Homework",
      "HW 1"
    ]
  },
  {
    "objectID": "hw/hw01/hw01.html#references",
    "href": "hw/hw01/hw01.html#references",
    "title": "BEE 4750 Homework 1: Introduction to Using Julia",
    "section": "References",
    "text": "References\nList any external references consulted, including classmates.",
    "crumbs": [
      "Homework",
      "HW 1"
    ]
  },
  {
    "objectID": "hw/hw03/hw03.html",
    "href": "hw/hw03/hw03.html",
    "title": "BEE 4750 Homework 3: Dissolved Oxygen and Monte Carlo",
    "section": "",
    "text": "Due Date\n\n\n\nThursday, 10/03/23, 9:00pm",
    "crumbs": [
      "Homework",
      "HW 3"
    ]
  },
  {
    "objectID": "hw/hw03/hw03.html#overview",
    "href": "hw/hw03/hw03.html#overview",
    "title": "BEE 4750 Homework 3: Dissolved Oxygen and Monte Carlo",
    "section": "Overview",
    "text": "Overview\n\nInstructions\n\nProblem 1 asks you to implement a model for dissolved oxygen in a river with multiple waste releases and use this to develop a strategy to ensure regulatory compliance.\nProblem 2 asks you to use Monte Carlo simulation to assess how well your strategy from Problem 1 performs under uncertainty.\nProblem 3 (5750 only) asks you to identify where a third discharge should be placed to maintain regulatory compliance.\n\n\n\nLoad Environment\nThe following code loads the environment and makes sure all needed packages are installed. This should be at the start of most Julia scripts.\n\nimport Pkg\nPkg.activate(@__DIR__)\nPkg.instantiate()\n\n\nusing Random\nusing Plots\nusing LaTeXStrings\nusing Distributions\nusing CSV\nusing DataFrames",
    "crumbs": [
      "Homework",
      "HW 3"
    ]
  },
  {
    "objectID": "hw/hw03/hw03.html#problems-total-5060-points",
    "href": "hw/hw03/hw03.html#problems-total-5060-points",
    "title": "BEE 4750 Homework 3: Dissolved Oxygen and Monte Carlo",
    "section": "Problems (Total: 50/60 Points)",
    "text": "Problems (Total: 50/60 Points)\n\nProblem 1 (30 points)\nA river which flows at 6 km/d is receiving waste discharges from two sources which are 15 km apart. The oxygen reaeration rate is 0.55 day-1, and the decay rates of CBOD and NBOD are are 0.35 and 0.25 day-1, respectively. The river’s saturated dissolved oxygen concentration is 10m g/L.\nIf the characteristics of the river inflow and waste discharges are given in Table 1, write a Julia model to compute the dissolved oxygen concentration from the first wastewater discharge to an arbitrary distance d km downstream. Use your model to compute the minimum dissolved oxygen concentration up to 50 km downstream and how far downriver this maximum occurs.\n\n\n\nTable 1: River inflow and waste stream characteristics for Problem 1.\n\n\n\n\n\nParameter\nRiver Inflow\nWaste Stream 1\nWaste Stream 2\n\n\n\n\nInflow\n100,000 m3/d\n10,000 m3/d\n15,000 m3/d\n\n\nDO Concentration\n7.5 mg/L\n5 mg/L\n5 mg/L\n\n\nCBOD\n5 mg/L\n50 mg/L\n45 mg/L\n\n\nNBOD\n5 mg/L\n35 mg/L\n35 mg/L\n\n\n\n\n\n\nIn this problem:\n\nPlot the dissolved oxygen concentration from the first waste stream to 50 km downriver. What is the minimum value in mg/L?\nWhat is the minimum level of treatment (% removal of organic waste) for waste stream 1 that will ensure that the dissolved oxygen concentration never drops below 4 mg/L, assuming that waste stream 2 remains untreated? How about if only waste stream 2 is treated?\nSuppose you are responsible for designing a waste treatment plan for discharges into the river, with a regulatory mandate to keep the dissolved oxygen concentration above 4 mg/L. Discuss whether you’d opt to treat waste stream 2 alone or both waste streams equally. What other information might you need to make a conclusion, if any?\n\n\n\nProblem 2 (20 points)\nThe simplest climate model involves capturing changes to the Earth’s energy budget (it is commonly called the energy balance model, or EBM). These changes are also called radiative forcings (RF), and can result from several causes, including greenhouse gas emissions, volcanic eruptions, and changes to the solar cycle. The EBM treats the Earth as a 0-dimensional sphere covered with water, which absorbs heat in response to radiative forcings. Chanwith global temperature changes resulting from imbalances in the average (over the entire surface area) heat flux.\nThe EBM equations are:\n\\[\n\\begin{aligned}\n\\overbrace{\\frac{dH}{dt}}^{\\text{change in heat}} &= \\overbrace{F}^{\\substack{\\text{radiative} \\\\ \\text{forcing}}} - \\overbrace{\\lambda T}^{\\substack{\\text{change in} \\\\ \\text{temperature}}} \\\\\n\\underbrace{C}_{\\substack{\\text{ocean heat} \\\\ \\text{capacity}}} \\frac{dT}{dt} &= F - \\lambda T \\\\\nc\\underbrace{d}_{\\substack{\\text{ocean} \\\\ \\text{mixing depth}}} \\frac{dT}{dt} &= F - \\lambda T,\n\\end{aligned}\n\\]\nwhere \\(c = 4.184\\times 10^6 \\mathrm{J/K/m}^2\\) is the specific heat of water per area, \\(d\\) is the depth of the ocean mixed layer (we’ll assume \\(d = 86 \\mathrm{m}\\)), and \\(\\lambda\\) is the climate feedback factor and controls how much the Earth warms in response to increased radiative forcing (assume \\(\\lambda = 2.1^\\circ \\mathrm{C}/(\\mathrm{W}/\\mathrm{m}^2\\))). The total radiative forcing \\(F = F_\\text{non-aerosol} + \\alpha F_\\text{aerosol}\\), where \\(\\alpha\\) is an uncertain scaling factor reflecting aerosol-cloud feedbacks (we’ll assume \\(\\alpha = 0.8\\)).\nThe code below loads historical and projected radiative forcings (under the SSP5-8.5 future emissions scenario, which is the most extreme of the scenarios used to project climate change impacts) from data/ERF_ssp585_1750-2500.csv into a DataFrame object and calculates the non-aerosol and aerosol components of those forcings.\n\n\n\n\n\n\n\nLook closely at and experiment with the code below: DataFrames are a common Julia datatype for tabular data, and you may work more with them later in the semester or beyond! They are broadly similar to DataFrames from pandas in Python.\n\n\n\n\n# Dataset from https://zenodo.org/record/3973015\n# The CSV is read into a DataFrame object, and we specify that it is comma delimited\nforcings_all = CSV.read(\"data/ERF_ssp585_1750-2500.csv\", DataFrame, delim=\",\")\n\n# Separate out the individual components\n# Get total aerosol forcings\nforcing_aerosol_rad = forcings_all[!,\"aerosol-radiation_interactions\"]\nforcing_aerosol_cloud = forcings_all[!,\"aerosol-cloud_interactions\"]\nforcing_aerosol = forcing_aerosol_rad + forcing_aerosol_cloud\n# Calculate non-aerosol forcings from the total.\nforcing_total = forcings_all[!,\"total\"]\nforcing_non_aerosol = forcing_total - forcing_aerosol\n\nWe can plot the aerosol and non-aerosol forcings below.\n\nt = Int64.(forcings_all[!,\"year\"]) # Ensure that years are interpreted as integers\np_forcing = plot(; xlabel=\"Year\", ylabel=\"Radiative Forcing (W/m²)\")\nplot!(p_forcing, t, forcing_aerosol, label=\"Aerosol Forcing\", color=:blue, linewidth=2)\nplot!(p_forcing, t, forcing_non_aerosol, label=\"Non-Aerosol Forcing\", color=:red, linewidth=2)\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIn this problem:\n\nDiscretize the EBM to produce a simulation model of global mean temperatures \\(T\\) over time as a result of total radiative forcings \\(F\\).\nSimulate global mean temperature anomalies (in \\(^\\circ C\\) relative to 1750) from your model using the historical and SSP5-8.5 radiative forcing data. Use an annual time step for the simulation (in seconds: \\(\\Delta t = 31,558,152 \\mathrm{s}\\)). You can assume \\(T(0) = 0^\\circ C\\). Plot the resulting temperature simulation.\nThe climate feedback factor \\(\\lambda\\) is one of the key uncertainties in projecting future temperatures, even assuming a particular scenario of future radiative forcing. Suppose we use the following distribution for \\(\\lambda\\), \\[\\lambda \\sim \\text{LogNormal}(\\log(2.1), \\log(2)/4).\\]\nUse Monte Carlo simulation to estimate the expected temperature in 2100 assuming SSP5-RCP 8.5 radiative forcings (with 95% confidence intervals). How does this estimate compare to the value you got from your simulation using the expected value of \\(\\lambda=2.1^\\circ \\mathrm{C}/(\\mathrm{W}/\\mathrm{m}^2)\\)? How did you decide your sample set was sufficient?\n\n\nProblem 3 (10 points)\nThis problem is only required for students in BEE 5750.\nA factory is planning a third wastewater discharge into the river downstream of the second plant. This discharge would consist of 5 m3/day of wastewater with a dissolved oxygen content of 4.5 mg/L and CBOD and NBOD levels of 50 and 45 mg/L, respectively.\nIn this problem:\n\nAssume that the treatment plan you identified in Problem 1 is still in place for the existing discharges. If the third discharge will not be treated, under the original inflow conditions (7.5 mg/L DO), how far downstream from the second discharge does this third discharge need to be placed to keep the river concentration from dropping below 4 mg/L?",
    "crumbs": [
      "Homework",
      "HW 3"
    ]
  },
  {
    "objectID": "hw/hw03/hw03.html#references",
    "href": "hw/hw03/hw03.html#references",
    "title": "BEE 4750 Homework 3: Dissolved Oxygen and Monte Carlo",
    "section": "References",
    "text": "References\nList any external references consulted, including classmates.",
    "crumbs": [
      "Homework",
      "HW 3"
    ]
  },
  {
    "objectID": "resources/markdown.html",
    "href": "resources/markdown.html",
    "title": "Markdown Resources",
    "section": "",
    "text": "Markdown Cheatsheet\nGitHub Markdown Cheatsheet (note that not all of these commands may work in Jupyter notebooks, as GitHub Markdown is an expanded syntax\nLaTeX Cheatsheet"
  },
  {
    "objectID": "resources/julia.html",
    "href": "resources/julia.html",
    "title": "Julia Resources",
    "section": "",
    "text": "Setting up VS Code and Julia (Youtube)\nJulia Documentation\nJuliaAcademy: Check out the “Introduction to Julia (for programmers)” or “Julia Programming for Nervous Beginners” courses\nQuantEcon MATLAB-Python-Julia cheatsheet\nFastTrack to Julia cheatsheet\nPlotting cheatsheet\nIntroduction to Computational Thinking: a great Julia based course at MIT!\nComprehensive Julia Tutorials: YouTube playlist covering a variety of Julia topics, starting with an introduciton to the language."
  },
  {
    "objectID": "solutions/hw01/hw01.html",
    "href": "solutions/hw01/hw01.html",
    "title": "Homework 1 Solutions",
    "section": "",
    "text": "import Pkg\nPkg.activate(@__DIR__)\nPkg.instantiate()\n\n\nusing Random\nusing Plots\nusing GraphRecipes\nusing LaTeXStrings\n\n\n# this sets a random seed, which ensures reproducibility of random number generation. You should always set a seed when working with random numbers.\nRandom.seed!(1)\n\nTaskLocalRNG()"
  },
  {
    "objectID": "solutions/hw01/hw01.html#overview",
    "href": "solutions/hw01/hw01.html#overview",
    "title": "Homework 1 Solutions",
    "section": "",
    "text": "import Pkg\nPkg.activate(@__DIR__)\nPkg.instantiate()\n\n\nusing Random\nusing Plots\nusing GraphRecipes\nusing LaTeXStrings\n\n\n# this sets a random seed, which ensures reproducibility of random number generation. You should always set a seed when working with random numbers.\nRandom.seed!(1)\n\nTaskLocalRNG()"
  },
  {
    "objectID": "solutions/hw01/hw01.html#problems-total-5060-points",
    "href": "solutions/hw01/hw01.html#problems-total-5060-points",
    "title": "Homework 1 Solutions",
    "section": "Problems (Total: 50/60 Points)",
    "text": "Problems (Total: 50/60 Points)\n\nProblem 1 (15 points)\nThe following subproblems all involve code snippets that require debugging. For each of them:\n\nidentify and describe the logic and/or syntax error;\nwrite a fixed version of the function;\nuse your fixed function to solve the problem.\n\n\nProblem 1.1\nThe problem is with the initialization min_value = 0, which means no other values can be below it. Instead, we can initialize min_value to be array[1] and start looping at index i=2:\n\nfunction minimum(array)\n1    min_value = array[1]\n    for i in 2:length(array)\n        if array[i] &lt; min_value\n            min_value = array[i]\n        end\n    end\n    return min_value\nend\n\narray_values = [89, 90, 95, 100, 100, 78, 99, 98, 100, 95]\n@show minimum(array_values);\n\n\n1\n\nInitializing min_value at array[1] ensures that we start with a candidate value; then we can loop beginning with index 2.\n\n\n\n\nminimum(array_values) = 78\n\n\n\n\nProblem 1.2\nThere are two issues here.\n\nThe first error is trying to access average_grades, which is only defined inside the class_average() function. This is an issue of scope: the variable average_grades doesn’t exist globally.\nThe second error is that mean() is not part of the Base Julia library, but rather the Statistics package (part of the usual Julia installation, but needs to be explicitly imported). We could import it with using Statistics and use mean(), but in this case let’s just take the sum and divide by the length.\n\n\nstudent_grades = [89, 90, 95, 100, 100, 78, 99, 98, 100, 95]\nfunction class_average(grades)\n  average_grade = sum(grades) / length(grades)\n  return average_grade\nend\n\n1avg_grade = class_average(student_grades)\n@show avg_grade;\n\n\n1\n\nNow avg_grade exists after being assigned the output of class_average(). Note that we didn’t reuse the name average_grade as that could result in strange outcomes if notebook cells were run out of order.\n\n\n\n\navg_grade = 94.4\n\n\n\n\nProblem 1.3\nThe setindex error comes from the use of zero() instead of zeros():\n\nzero(n) creates a zero variable of the same type of the argument n (e.g. zero(1) is 0 and zero(1.5) is 0.0).\nzeros(n) creates an array of zeroes of dimension n, where n can be an integer or a tuple (for a matrix or higher-dimensional array).\n\nAs a result, the original call outcomes = zero(n_trials) sets outcomes=0, but then when we try to set outcomes[1] in the loop, this is undefined as a scalar does not have an index, resulting in the error.\n\nfunction passadieci()\n    # this rand() call samples 3 values from the vector [1, 6]\n    roll = rand(1:6, 3) \n    return roll\nend\nn_trials = 1_000\n1outcomes = zeros(n_trials)\nfor i = 1:n_trials\n2    outcomes[i] = (sum(passadieci()) &gt; 11)\nend\nwin_prob = sum(outcomes) / n_trials # compute average number of wins\n@show win_prob;\n\n\n1\n\nChanged zero to zeroes; note that it’s generally preferable to initialize an array of the desired size instead of creating an empty vector and using append, as that approach can get quite slow as the number of append calls increases.\n\n2\n\nNow that outcomes is a vector, we can access its indexed values.\n\n\n\n\nwin_prob = 0.385\n\n\nWe could also use comprehensions and broadcasting (applying a function across each element of an array) instead of initializing outcomes as a zero vector and looping to fill it:\n\n1rolls = [passadieci() for i in 1:n_trials]\n2outcomes = sum.(rolls) .&gt; 11\n\nwin_prob = sum(outcomes) / n_trials # compute average number of wins\n@show win_prob;\n\n\n1\n\nThis is an example of a comprehension, which is an inline loop that produces an array; the advantage is that this is sometimes more readable than an explicit loop when the in-loop commands are short.\n\n2\n\nThis is an example of broadcasting (actually twice), indicated by the use of the decimal . in function calls. sum.(v) applies the function sum to every element of v, so that adds each of the individual roll vectors to get the sum of those three dice, and .&gt; does an element-wise comparison of each of those sums to 11. You would get an error if you tried sum.(rolls) &gt; 11 because Julia does not want to make assumptions about your intent in comparing a vector with a scalar.\n\n\n\n\nwin_prob = 0.391\n\n\n\n\n\nProblem 2 (5 points)\nLet’s outline the steps in mystery_function:\n\nInitialize an empty vector.\nIf a value v is not already in y, add v to y.\nReturn after looking at all values.\n\nThis means that mystery_function selects and returns the unique values in values, which is confirmed by the test case.\nThere are many ways to add comments, but we could comment as follows:\n\n# mystery_function: \n#    Inputs: \n#       - values: vector of numeric values\n#    Outputs: \n#       - vector of unique values from the input \nfunction mystery_function(values)\n    y = [] # initialize as an empty vector because we don't know how many values we will end up with\n    for v in values\n        if !(v in y) # if a value is not already in y\n            append!(y, v) # append to y\n        end\n    end\n    return y\nend\n\nlist_of_values = [1, 2, 3, 4, 3, 4, 2, 1]\n@show mystery_function(list_of_values);\n\nmystery_function(list_of_values) = Any[1, 2, 3, 4]\n\n\nThe built-in Julia function which does the same thing is unique() (found using a Google search for “unique Julia vector function”).\n\n@show unique(list_of_values);\n\nunique(list_of_values) = [1, 2, 3, 4]\n\n\n\n\nProblem 3 (10 points)\nYou’re interested in writing some code to remove the mean of a vector.\n\nWrite a function compute_mean(v) which sums all of the elements of a vector v using a for loop and computes the mean.\nMake a random vector random_vect of length 10 using Julia’s rand() function. Use your compute_mean() function to calculate its mean and subtract it from random_vect without a loop (using a Julia technique called broadcasting; feel free to consult the Julia documentation and search as necessary). Check that the new vector has mean zero.\n\nOur compute_mean function should:\n\nInitialize a running sum at 0;\nLoop over all elements of v;\nAdd each element in turn to the running sum;\nDivide the running sum by the number of elements and return.\n\n\nfunction compute_mean(v)\n    v_sum = 0\n    for val in v\n        v_sum += val\n    end\n    return v_sum / length(v)\nend\n\nrandom_vect = rand(10)\nrand_mean = compute_mean(random_vect)\n@show rand_mean;\n\nrand_mean = 0.5033094119039657\n\n\nTo subtract off the mean from random_vect, we can broadcast the subtraction operator by putting a decimal in front: .-.1\n1 As a reminder, broadcasting involves applying a function element-wise. If we just tried to subtract random_vect - rand_mean, Julia would throw an error because it doesn’t know if it should try element-wise subtraction or if we made a mistake in trying to subtract a scalar from a vector, and Julia’s design is to err on the side of throwing an error unless we specifically say that we want an element-wise operation through broadcasting.\nrandom_vect_demean = random_vect .- rand_mean\n@show compute_mean(random_vect_demean);\n\ncompute_mean(random_vect_demean) = 2.2204460492503132e-17\n\n\nWe have produced a mean-zero random vector! But this isn’t exactly zero due to numerical precision. This doesn’t really matter, as the non-zero entries are insignificant digits, which we can see if we round (which we should do anyway):\n\n1@show round(compute_mean(random_vect_demean); digits=1);\n\n\n1\n\nThe round(y; digits=n) function rounds y to n digits after the decimal place, defaulting to n=0 (which rounds to the nearest integer, though printing a decimal due to the type of the variable).\n\n\n\n\nround(compute_mean(random_vect_demean); digits = 1) = 0.0\n\n\n\n\nProblem 4 (20 points)\nThese equations will be derived in terms of \\(X_1\\) (the land disposal amount, in kg/day) and \\(X_2\\) (the chemically treated amount, in kg/day), where \\(X_1 + X_2 \\leq 100\\ \\mathrm{kg/day}\\). Note that we don’t need to explicitly represent the amount of directly disposed YUK, as this is \\(100 - X_1 - X_2\\) and so is not a free variable.\n\nA = [0 1 1 1;\n    0 0 0 1;\n    0 0 0 1;\n    0 0 0 0]\n\nnames = [\"Plant\", \"Land Treatment\", \"Chem Treatment\", \"Pristine Brook\"]\n# modify this dictionary to add labels\nedge_labels = Dict((1, 2) =&gt; L\"X_1\", (1,3) =&gt; L\"X_2\", (1, 4) =&gt; L\"100 - X_1 - X_2\", (2, 4) =&gt; L\"0.2X_1\",(3, 4) =&gt; L\"0.005X_2^2\")\nshapes=[:hexagon, :rect, :rect, :hexagon]\nxpos = [0, -1.5, -0.25, 1]\nypos = [1, 0, 0, -1]\n\np = graphplot(A, names=names,edgelabel=edge_labels, markersize=0.15, markershapes=shapes, markercolor=:white, x=xpos, y=ypos)\ndisplay(p)\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: System diagram of the wastewater treatment options in Problem 4.\n\n\n\n\nThe amount of YUK which will be discharged is\n\\[\\begin{align*}\nD(X_1, X_2) &= 100 - X_1 - X_2 + 0.2 X_1 + 0.005X_2^2 \\\\\n&= 100 - 0.8 X_1 + (0.005X_2 - 1)X_2 \\\\\n&= 100 - 0.8 X_1 + 0.005 X_2^2 - X_2\n\\end{align*}\\]\nThe cost is \\[\nC(X_1, X_2) = X_1^2/20 + 1.5 X_2.\n\\]\nA Julia function for this model could look like:\n\n# we will assume that X₁, X₂ are vectors so we can vectorize\n# the function; hence the use of broadcasting. This makes unpacking\n# the different outputs easier as each will be returned as a vector.\n# Note that even though this is vectorized, passing scalar inputs\n# will still work fine.\nfunction yuk_discharge(X₁, X₂)\n    # Make sure X₁ + X₂ &lt;= 100! Throw an error if not.\n1    if any(X₁ .+ X₂ .&gt; 100)\n        error(\"X₁ + X₂ must be less than 200\")\n    end\n2    yuk = 100 .- 0.8X₁ .+ (0.005X₂ .- 1) .* X₂\n    cost = X₁.^2/20 .+ 1.5X₂\n    return (yuk, cost)\nend\n\n\n1\n\nChecking for these kinds of errors is useful when there are hard limits on what arguments can be passed in. This syntax lets you throw an error which says something is going wrong in the code. In general, Julia style is to try to do a computation and throw an error if something goes wrong.\n\n2\n\nWe use broadcasting here to work on vectors of arguments for efficiency. This is in no way required.\n\n\n\n\nyuk_discharge (generic function with 1 method)\n\n\nNow, let’s experiment with different outcomes.2 Some other options include just randomly sampling values (but be careful of not sampling impossible combinations of \\(X_1\\) and \\(X_2\\)), manually searching, or setting up a grid of combinations.\n2 We left this intentionally open for you to conceptualize how to generate combinations and to look into different ways of implementing these in Julia. For a more systematic approach, we can sample combinations from a Dirichlet distribution, which samples combinations which add up to 1. This will require installing and loading the Distributions.jl package (we will spend more time working with Distributions.jl later).\n# Install and load Distributions.jl\n1Pkg.add(\"Distributions\")\nusing Distributions\n\n2yuk_distribution = Dirichlet(3, 1)\n# Need to scale samples from 0 to 200, not 0 to 1\nyuk_samples = 100 * rand(yuk_distribution, 1000)\nD, C = yuk_discharge(yuk_samples[1,:], yuk_samples[2, :])\n\n# Plot the discharge vs. cost and add a line for the regulatory limit\n3p = scatter(D, C, markersize=2, label=\"Treatment Samples\")\n4vline!(p, [20], color=:red, label=\"Regulatory Limit\")\n# Label axes\n5xaxis!(p, \"YUK Discharge (kg/day)\")\n# For the y-axis label, we need to \"escape\" the $ by adding a slash\n# otherwise it interprets that as starting math mode\nyaxis!(p, \"Treatment Cost (\\$/day)\")\n\n\n1\n\nThis is how we add new packages that are not in the existing environment and then load them.\n\n2\n\nThe Dirichlet distribution is over combinations of values which add up to 1, which is what we want for shares of the total YUK discharge. The 3D Dirichlet distribution with parameters equal to 1 is basically uniform over these combinations. See: https://juliastats.org/Distributions.jl/stable/multivariate/#Distributions.Dirichlet.\n\n3\n\nThis is a basic scatter plot with a label for the plot elements. If we wanted to turn the legend off in any plot, use legend=false as an argument.\n\n4\n\nThis is how to add a vertical line to a plot with a label. The syntax for a horizontal line is hline(...). The ! at the end of vline!() is important: this is standard Julia syntax to distinguish commands which mutate (or change) their input (in this case, the first argument p, the plot object), as this is not always desirable behavior.\n\n5\n\nThis is how to change axis labels. Notice that this also mutates the input plot.\n\n\n\n\n   Resolving package versions...\n  No Changes to `~/Teaching/BEE4750/website/solutions/hw01/Project.toml`\n  No Changes to `~/Teaching/BEE4750/website/solutions/hw01/Manifest.toml`\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Sampled solutions for the wastewater allocation problem in Problem 4, showing cost vs. YUK concentration. The red line marks the regulatory discharge limit of 20kg/day.\n\n\n\n\nWe can see that there are a few treatment strategies which comply with the limit, but they are fairly expensive. This is an example of a tradeoff between two objectives3, where one has to make a choice between what objectives to prioritize. But one thing to note is that just choosing an expensive strategy does not guarantee compliance.\n3 More on this later in the semester!\n\nProblem 5 (10 points)\n\nProblem 5.1\nHere is one solution: Julia includes a function iseven() which returns 1 if the argument is even and 0 if it is odd. So we can use a comprehension to evaluate !iseven(x) (the ! is Boolean negation) over the range 0:149, which will return a vector of 1s and 0s, and then add up the vector to get the count of odd numbers. Another approach could be to use the isodd() function directly.\n\nodd_count = sum([!iseven(x) for x in 0:149])\n\n75\n\n\n\n\nProblem 5.2\n\nfunction polynomial(x, a)\n    p = 0 # initialize value of polynomial\n1    for i in eachindex(a)\n2        p += a[i] * x^(i-1)\n    end\n    return p\nend\n\na = [1, 0, -1, 2]\nx = 2\n3@show polynomial(x, a);\n\n\n1\n\nfor i in eachindex(a) is the same thing as for i = 1:length(a) (iterating over the indices of a) but is preferred in Julia to provide more flexibility with how the array a is indexed, such as for multidimensional arrays. There is also for b in a which iterates over the values in a rather than the indices, and for (i, b) in pairs(a) which iterates over both the indices and values without requiring the line b = a[i].\n\n2\n\nJulia indexing starts at 1, so i=1 corresponds to the constant term, or a power of 0.\n\n3\n\nThe @show macro formats the output of the command nicely and prints it; the semi-colon at the end suppresses the normal output of the notebook cell, which is printed by default without the semi-colon.\n\n\n\n\npolynomial(x, a) = 13"
  },
  {
    "objectID": "solutions/hw03/hw03.html",
    "href": "solutions/hw03/hw03.html",
    "title": "Homework 3 Solutions",
    "section": "",
    "text": "Due Date\n\n\n\nThursday, 10/03/23, 9:00pm"
  },
  {
    "objectID": "solutions/hw03/hw03.html#overview",
    "href": "solutions/hw03/hw03.html#overview",
    "title": "Homework 3 Solutions",
    "section": "Overview",
    "text": "Overview\n\nLoad Environment\nThe following code loads the environment and makes sure all needed packages are installed. This should be at the start of most Julia scripts.\n\nimport Pkg\nPkg.activate(@__DIR__)\nPkg.instantiate()\n\n\nusing Random\nusing CSV\nusing DataFrames\nusing Plots\nusing LaTeXStrings\nusing Distributions"
  },
  {
    "objectID": "solutions/hw03/hw03.html#problems-total-5060-points",
    "href": "solutions/hw03/hw03.html#problems-total-5060-points",
    "title": "Homework 3 Solutions",
    "section": "Problems (Total: 50/60 Points)",
    "text": "Problems (Total: 50/60 Points)\n\n\nProblem 1 (30 points)\nThe first step is to write function(s) to implement the dissolved oxygen simulation. With two releases, we can turn this into a two-box model, with the first box from the initial waste release (\\(x=0\\ \\text{km}\\)) to the second release (\\(x=15\\ \\text{km}\\)), and the second from the second release to the end of the domain (\\(x=50\\ \\text{km}\\)). As a result, our lives will be easiest if we write a function to simulate each box with appropriate initial conditions, which we can then call for each river segment. An example of how this might look is below. Note that we need to compute B and N as well to get the appropriate initial conditions at the transition between boxes (and this might also help with debugging).\n\n# mix_concentration: function to compute initial conditions by mixing inflow and new waste stream concentrations\n# inputs:\n#   - arguments ending in \"_in\" are inflow, those ending in \"_st\" are from the stream\n#   - V is the volume (L/d), Q is the relevant concentration (mg/L); these should be Floats\n# outputs:\n#   - mixed concentration (a Float) in mg/L\nfunction mix_concentration(V_in, Q_in, V_st, Q_st)\n    Q_mix = ((V_in * Q_in) + (V_st * Q_st)) / (V_in + V_st)\n    return Q_mix\nend\n\n# dissolved_oxygen: function to simulate dissolved oxygen concentrations for a given segment\n# inputs:\n#   - x: vector or range of downstream distances to simulate over\n#   - C₀, B₀, N₀: initial conditions for DO, CBOD, and NBOD, respectively (mg/L)\n#   - U: velocity of river (km/d)\n#   - Cₛ = saturation oxygen concentration (mg/L)\n#   - ka, kc, kn: reaeration, CBOD decay, and NBOD decay rates, respectively (d^{-1})\nfunction dissolved_oxygen(x, C₀, B₀, N₀, U, Cₛ, ka, kc, kn)\n\n    # initialize vectors for C, B, and N\n    # the zeros function lets us define a vector of the appropriate length with values set to zero\n    C = zeros(length(x))\n    B = zeros(length(x))\n    N = zeros(length(x))\n\n    # compute α values for the simulation\n    α₁ = exp.(-ka * x / U)\n    α₂ = (kc / (ka - kc)) * (exp.(-kc * x / U) .- α₁)\n    α₃ = (kn / (ka - kn)) * (exp.(-kn * x / U) .- α₁)\n\n    # loop over values in x to calculate B, N, and C\n    for (i, d) in pairs(x)\n        B[i] = B₀ * exp(-kb * x[i] / U)\n        N[i] = N₀ * exp(-kc * x[i] / U)\n        C[i] = Cₛ * (1 - α₁[i]) + (C₀ * α₁[i]) - (B₀ * α₂[i]) - (N₀ * α₃[i])\n    end\n\n    return (C, B, N)\nend\n\ndissolved_oxygen (generic function with 1 method)\n\n\n\nThese will be vectors due to the broadcasting of exp and - over the x vector. We could also have computed the α values in the loop below for each value of x.\npairs(x) lets us directly iterate over indices (i) and values (d) in the vector x, rather than only iterating over indices and needing to look up the values d=x[i].\nWhile we don’t need B and N for this solution, returning this tuple can be useful for debugging.\n\nNext, let’s simulate the concentrations. Hopefully this is intuitive, but one critical thing is that we need to compute the initial segment from \\(x=0\\) to \\(15\\ \\text{km}\\), not just to 14, as \\(x=15\\) is the inflow for the initial condition of the segment after the second waste stream.\n\n\n\n\n\n\nI initially wrote this out as a script to debug, but then reformulated it as a function with an optional parameters for treatment of the two waste streams to solve Problems 2 and 3, which means I didn’t have to copy and paste everything, possibly introducing new bugs.\n\n\n\n\n# do_simulate: function to simulate dissolved oxygen concentrations over the entire river\n# inputs:\n#   - inflow: tuple with inflow properties: (Volume, DO, CBOD, NBOD)\n#   - waste1: tuple with waste stream 1 properties: (Volume, DO, CBOD, NBOD)\n#   - waste2: tuple with waste stream 2 properties: (Volume, DO, CBOD, NBOD)\n#   - U: velocity of river (km/d)\n#   - Cₛ = saturation oxygen concentration (mg/L)\n#   - ka, kc, kn: reaeration, CBOD decay, and NBOD decay rates, respectively (d^{-1})\nfunction do_simulate(inflow, waste1, waste2, U, Cₛ, ka, kb, kn)\n    # set up ranges for each box/segment\n    x₁ = 0:1:15\n    x₂ = (15:1:50) .- 15\n\n    V_inflow, C_inflow, B_inflow, N_inflow = inflow\n    V_ws1, C_ws1, B_ws1, N_ws1 = waste1\n    V_ws2, C_ws2, B_ws2, N_ws2 = waste2\n\n    # initialize storage for final C, B, and N\n    # need to store d=1 so the total length should be d+1\n    C = zeros(51)\n    B = zeros(51)\n    N = zeros(51)\n\n    # compute initial conditions for first segment\n    C₀ = mix_concentration(V_inflow, C_inflow, V_ws1, C_ws1)\n    B₀ = mix_concentration(V_inflow, B_inflow, V_ws1, B_ws1)\n    N₀ = mix_concentration(V_inflow, N_inflow, V_ws1, N_ws1)\n\n    # conduct first segment simulation\n    (C₁, B₁, N₁) = dissolved_oxygen(x₁, C₀, B₀, N₀, U, Cₛ, ka, kb, kn)\n    C[1:15] = C₁[1:end-1]\n    B[1:15] = B₁[1:end-1]\n    N[1:15] = N₁[1:end-1]\n\n    # compute initial conditions for second segment\n    C₀₁ = mix_concentration(V_inflow + V_ws1, C₁[end], V_ws2, C_ws2)\n    B₀₁ = mix_concentration(V_inflow + V_ws1, B₁[end], V_ws2, B_ws2)\n    N₀₁ = mix_concentration(V_inflow + V_ws1, N₁[end], V_ws2, N_ws2)\n\n    # conduct second segment simulation\n    (C₂, B₂, N₂) = dissolved_oxygen(x₂, C₀₁, B₀₁, N₀₁, U, Cₛ, ka, kb, kn)\n    C[16:end] = C₂\n    B[16:end] = B₂\n    N[16:end] = N₂\n\n    return (C, B, N)\nend\n\n# set variables for river dynamics\nU = 6\nCₛ = 10\nka = 0.55\nkb = 0.35\nkn = 0.25\n\n# set initial parameters\nC_inflow = 7.5 # DO concentration\nB_inflow = 5.0 # CBOD\nN_inflow = 5.0 # NBOD\nV_inflow = 100 * 1_000 # volume converted to L\ninflow = (V_inflow, C_inflow, B_inflow, N_inflow)\n\n# set waste stream parameters\nC_ws1 = 5.0\nB_ws1 = 50.0\nN_ws1 = 35.0\nV_ws1 = 10 * 1_000\nwaste1 = (V_ws1, C_ws1, B_ws1, N_ws1)\n\nC_ws2 = 4.0\nB_ws2 = 45.0\nN_ws2 = 35.0\nV_ws2 = 15 * 1_000\nwaste2 = (V_ws2, C_ws2, B_ws2, N_ws2)\n\nC, B, N = do_simulate(inflow, waste1, waste2, U, Cₛ, ka, kb, kn)\n\n([7.2727272727272725, 6.718366940001292, 6.252736478441488, 5.865982487427475, 5.549224625451668, 5.294464471079079, 5.094502688374758, 4.942863751725384, 4.8337275512230455, 4.761867260163488  …  6.13037601820527, 6.272760855101071, 6.412340434703638, 6.548872787980461, 6.6821623236453025, 6.812054438906417, 6.938430673374777, 7.061204354693571, 7.1803166891679835, 7.295733254966803], [9.090909090909092, 8.575776817031748, 8.089834281709308, 7.63142746153825, 7.198996057607107, 6.791068184640297, 6.4062553610792135, 6.043247783048131, 5.700809866118693, 5.377776039698319  …  1.916804331604075, 1.8081894764731885, 1.7057292332453498, 1.6090748536058688, 1.5178973509064155, 1.4318863803790853, 1.350749182802631, 1.274209588025372, 1.2020070749530312, 1.1338958848019383], [7.7272727272727275, 7.289410294476985, 6.876359139452911, 6.486713342307512, 6.11914664896604, 5.772407956944252, 5.4453170569173315, 5.136760615590911, 4.845688386200889, 4.571109633743571  …  1.5437012460963393, 1.4562281094565608, 1.3737115987526298, 1.2958708490057462, 1.2224409103247795, 1.1531718460849871, 1.087827882208027, 1.0261866046476376, 0.9680382023494304, 0.9131847531080266])\n\n\n\nThe colon syntax sets up the range using the syntax initial_value:stepsize:end_value. In general a stepsize of 1 is implicit, but I’ve made it explicit here for illustration.\nThis starts at 0 because we care about the distance from the initial condition, not the “absolute” distance.\nTuples (including multiple outputs from functions) can be unpacked into multiple variables this way to make the subsequent code more readable (versus just relying on indexing).\nWe don’t need to store the last value because that occurs at the point of mixing with the next waste stream. We will use it to compute the mixed concentration at that point.\nThis was my mistake; I meant for the inflow/waste stream data to not include the last thousands digits, e.g. to be 100 m3/day. But this should wash out in this problem when you compute the mixed concentrations.\n\nNow we can plot the dissolved oxygen concentration, shown in Figure 1.\n\n# create plot axis with labels, etc\np = plot(; xlabel=\"Distance Downriver (km)\", ylabel=\"Dissolved Oxygen Concentration (mg/L)\", legend=:top)\nplot!(p, 0:50, C, label=\"Simulated DO\")\nhline!([4], label=\"Regulatory Standard\")\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Simulated dissolved oxygen concentration for Problem 1 without treatment.\n\n\n\n\n\nThese lines of code separate the creation of the plot axis (with labels, legend positions, etc) using p = plot(...) from the plotting of the data with plot!(p, ...). You can do this all in a single plot() call, but this may sometimes make things more readable when there are a lot of style arguments for the axes.\n\nWe can see that the DO concentration falls below the regulatory standard of 4 mg/L before 20 km downstream. To find the minimum value, we can use the minimum() function.\n\n@show minimum(C);\n\nminimum(C) = 3.8423213306662958\n\n\nSo the minimum value is 3.8 mg/L.\nTo determine the minimum treatment of the waste streams needed to maintain compliance, we will write a function which will apply treatment levels eff1 and eff2 and evaluate our function above, returning the minimum DO concentration.\n\n# waste_treat: function to simulate DO with treated discharges; treatments apply to CBOD and NBOD released\n# inputs:\n#   - eff1: efficiency of treatment for waste stream 1 (as a decimal)\n#   - eff2: efficiency of treatment for waste stream 2 (as a decimal)\n#   - inflow: tuple with inflow properties: (Volume, DO, CBOD, NBOD)\n#   - waste1: tuple with waste stream 1 properties: (Volume, DO, CBOD, NBOD)\n#   - waste2: tuple with waste stream 2 properties: (Volume, DO, CBOD, NBOD)\n#   - U: velocity of river (km/d)\n#   - Cₛ = saturation oxygen concentration (mg/L)\n#   - ka, kc, kn: reaeration, CBOD decay, and NBOD decay rates, respectively (d^{-1})\nfunction waste_treat(eff1, eff2, inflow, waste1, waste2, U, Cₛ, ka, kb, kn)\n    waste1_treated = (waste1[1], waste1[2], (1 - eff1) * waste1[3], (1 - eff1) * waste1[4])    \n    waste2_treated = (waste2[1], waste2[2], (1 - eff2) * waste2[3], (1 - eff2) * waste2[4])    \n    C, B, N = do_simulate(inflow, waste1_treated, waste2_treated, U, Cₛ, ka, kb, kn)\n    return minimum(C)\nend\n\nwaste_treat (generic function with 1 method)\n\n\nNow we can evaluate this function over a range of treatment efficiencies. There are a number of ways to do this, but we’ll use a trick which Julia makes easy: broadcasting using an anonymous function.\n\n# evaluate treatment efficiencies between 0 and 1\neffs = 0:0.01:1\ntreat1 = (e1 -&gt; waste_treat(e1, 0, inflow, waste1, waste2, U, Cₛ, ka, kb, kn)).(effs)\ntreat2 = (e2 -&gt; waste_treat(0, e2, inflow, waste1, waste2, U, Cₛ, ka, kb, kn)).(effs)\n\n101-element Vector{Float64}:\n 3.8423213306662958\n 3.8631158474631597\n 3.883910364260024\n 3.9047048810568867\n 3.925499397853751\n 3.9460612716757266\n 3.965197323117371\n 3.984333374559016\n 4.0034694260006605\n 4.022605477442305\n ⋮\n 4.711700098308851\n 4.711700098308851\n 4.711700098308851\n 4.711700098308851\n 4.711700098308851\n 4.711700098308851\n 4.711700098308851\n 4.711700098308851\n 4.711700098308851\n\n\nTo find the minimum treatment level which ensures compliance, we can now find the position of the first value where the minimum value is at least 4 mg/L, and look up the associated efficiency. Julia provides the findfirst() function which lets you find the index of the first value satisfying a Boolean condition.\n\n# find indices and treatment values\nidx1 = findfirst(treat1 .&gt;= 4.0)\nidx2 = findfirst(treat2 .&gt;= 4.0)\n@show effs[idx1];\n@show effs[idx2];\n\neffs[idx1] = 0.11\neffs[idx2] = 0.08\n\n\nSo the minimum treatment level for waste stream 1 is 11% and the minimum treatment level for waste stream 2 is 8%.\nThere is no “right” answer to the question of which treatment option you would pick, so long as your solution is thoughtful and justified.\n\nFor example, one could argue that as waste stream 1 on its own does not result in a lack of compliance (which we can see from Figure 1, as the initial “sag” has started to recover prior to waste stream 2), waste stream 2 ought to be treated.\nOn the other hand, waste stream 1 has a much more negative impact on the inflow dissolved oxygen levels, and waste stream 2 might not cause a lack of compliance without that effect, which might suggest that waste stream 1 should be treated.\nAnother consideration might be the relative cost of treating each waste stream, which we have no information on, or whether these waste streams are from municipal, residual, or industrial sources (in other words, non-profit vs. profit).\n\n\n\nProblem 2 (20 points)\nLoading the data:\n\n# Dataset from https://zenodo.org/record/3973015\n# The CSV is read into a DataFrame object, and we specify that it is comma delimited\nforcings_all = CSV.read(\"data/ERF_ssp585_1750-2500.csv\", DataFrame, delim=\",\")\n\n# Separate out the individual components\n# Get total aerosol forcings\nforcing_aerosol_rad = forcings_all[!,\"aerosol-radiation_interactions\"]\nforcing_aerosol_cloud = forcings_all[!,\"aerosol-cloud_interactions\"]\nforcing_aerosol = forcing_aerosol_rad + forcing_aerosol_cloud\n# Calculate non-aerosol forcings from the total.\nforcing_total = forcings_all[!,\"total\"]\nforcing_non_aerosol = forcing_total - forcing_aerosol\nt = Int64.(forcings_all[!,\"year\"])\nidx_2100 = findfirst(t .== 2100) # find the index which corresponds to the year 2100\n\n351\n\n\nThe energy balance model is given by \\[cd \\frac{dT}{dt} = F - \\lambda T.\\] Discretizing with Forward Euler, we get \\[\n\\begin{aligned}\ncd\\frac{T(t + \\Delta t) - T(t)}{\\Delta t} &= F(t) - \\lambda T(t) \\\\\nT(t + \\Delta t) &= T(t) + \\frac{\\Delta t}{cd} \\left(F(t) - \\lambda T(t)\\right).\n\\end{aligned}\n\\]\nIn Julia code (and with the assumed parameter values), this becomes the following function (replacing \\(F(t) = F_\\text{nonaerosol} + \\alpha F_\\text{aerosol}\\)):\n\n# ebm: function to simulate the energy balance model\n# inputs:\n#   - t: vector of time values.\n#   - F_nonaerosol: vector of non-aerosol radiative forcing values\n#   - F_aerosol: vector of aerosol radiative forcing values\n#   - c, d, λ, α, Δt: model parameters, see below.\nfunction ebm(t, F_nonaerosol, F_aerosol, c, d, λ, α, Δt)\n    T = zeros(length(t))\n    F = F_nonaerosol + α * F_aerosol\n    for s in 1:length(t)-1\n        T[s+1] = T[s] + Δt * (F[s] - λ * T[s]) / (c * d)\n    end\n    return T\nend\n\nc = 4.184e6 # specific heat of water, J/K/m^2\nd = 86 # ocean mixing depth, m\nλ = 2.1 # climate feedback factor\nα = 0.8 # aerosol scaling factor\nΔt = 31_558_152 # annual time step, s\n\ntemps = ebm(t, forcing_non_aerosol, forcing_aerosol, c, d, λ, α, Δt)\n\n751-element Vector{Float64}:\n 0.0\n 0.022731483349329427\n 0.040278289494741326\n 0.05240826578450054\n 0.05895069636157351\n 0.06063584224928685\n 0.058278631700672184\n 0.036311110702349894\n 0.03060499874837628\n 0.03778068117354878\n ⋮\n 6.0349064449781515\n 6.033928949865114\n 6.032952263810847\n 6.031978595303466\n 6.0310066214578395\n 6.030034177683138\n 6.029061472805756\n 6.028090703835366\n 6.027123866872981\n\n\n\nThe zeros function initializes a vector with zero values of the given length. This is a good way to initialize storage when you aren’t worried about distinguishing non-set values from “true” zeroes.\nWhile normally eachindex(t) is preferred instead of 1:length(t), in this case we need to iterate only until the second-to-last index of t as we set the next value T[s+1] in the loop.\n\nThe simulated temperatures are plotted in Figure 2:\n\np = plot(; xlabel=\"Year\", ylabel=\"Global Mean Temperature Anomaly (°C)\", legend=false)\nplot!(p, t, temps)\nxlims!(p, (1750, 2100))\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Global mean temperature anomalies (in °C, relative to 1750) from 1750 to 2100 simulated using the energy balance model and RCP 8.5 forcings and parameters given in the problem statement.\n\n\n\n\n\nThis syntax creates an empty plot object with the right axis labels, legend settings, etc; this is not necessary but can make the code more readable.\nplot! is different than plot because it adds elements to an existing plot object (in this case, p) rather than creating a new one. Since p is the last plot object created, we could have just written plot!(t, temps), but adding p explicitly minimizes the chances of accidentally plotting onto the wrong axis.\nSimilarly, xlims! changes the x limits for an existing plot object (analogously, there is also ylims!).\n\nFor the Monte Carlo analysis, we’ll start with 10,000 samples of \\(\\lambda\\) and see how the simulation looks.\n\nn_samples = 10_000\nλ_dist = LogNormal(log(2.1), log(2) / 4)\nλ_samples = rand(λ_dist, n_samples)\nh = histogram(λ_samples; xlabel=\"Climate Feedback Factor (°C/W/m²)\", ylabel=\"Count\", legend=false)\nvline!(h, [2.1], color=:red, linestyle=:dash) # the original value for context\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: Samples of the climate feedback factor \\(\\lambda\\). The red line is the deterministic value we used in the original simulation above.\n\n\n\n\n\nCreating a variable for the number of samples which can then be used later makes it easier to change the number of samples down the road without possibly creating bugs (if e.g. we forget to change the value everywhere).\n\nNow, simulate:\n\ntemp_samples = [ebm(t, forcing_non_aerosol, forcing_aerosol, c, d, λ, α, Δt)[idx_2100] for λ in λ_samples]\n\n10000-element Vector{Float64}:\n 4.983522436575652\n 5.972582533048816\n 4.01577250258938\n 3.871124993782888\n 4.15274046707661\n 3.9069965946454035\n 4.6851475013569015\n 5.408886772433168\n 5.00377672311013\n 4.396302280759176\n ⋮\n 3.9732877396243795\n 3.984753501085487\n 3.100547238557517\n 3.806395757865392\n 4.326451502444867\n 5.135986291185809\n 4.570497875941113\n 4.618058089190262\n 4.557995647303437\n\n\n\nWe directly get the values of λ from λ_samples instead of looping over the indices (which is slightly slower and makes the line longer).\n\nThe expected value after this many simulations is the mean, or 4.7, and the 95% confidence interval is (4.69, 4.72) (using the formula for the standard error). The confidence interval around the expected value is pretty tight, but let’s look at how the estimates of the mean and the confidence interval evolve over the course of the simulations to see what an “efficient” sample size might have been:\n\n# compute running estimate of the expected value and standard deviation\n# first, pre-allocate memory for better efficiency\nT_est = zeros(n_samples)\nT_se = zeros(n_samples)\nfor i = 1:n_samples\n    T_est[i] = mean(temp_samples[1:i])\n    if i &gt; 1\n        T_se[i] = std(temp_samples[1:i]) / sqrt(i)\n    end    \nend\n\np = plot(; xlabel=\"Number of Samples\", ylabel=\"Global Temperature Anomaly (°C)\", legend=false)\nplot!(p, 1:n_samples, T_est, ribbon=1.96 * T_se)\nylims!(p, (4.5, 5.0))\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 4: Monte Carlo mean and 95% confidence interval of the simulated temperature in 2100 as the number of samples increases.\n\n\n\n\n\nHere we can see the benefits of setting the variable n_samples above; if we had hard-coded the value and needed to change it, we would also have needed to change it in all three of these lines.\nThere are more efficient ways to do this updating, for example T_est[i] = (T_est[i-1] * (i-1) + T_est[i]) / i, which avoids re-computing the average for the first i-1 simulations, but in this case it’s fast enough.\nWe can’t compute the standard deviation for a single value, so we just start with i == 2.\n\nIf we wanted tighter confidence intervals, we could run the simulation longer (though recall the \\(1/\\sqrt{n}\\) error law, which means to get an order of magnitude reduction, we’d need approximately 100,000 samples), but it looks from Figure 4 as though the estimate had stabilized around 8,000-9,000 samples, though ultimately it depends on the desired level of precision in both the estimate and the confidence interval. In this case, regardless, we’re looking at an estimated temperature anomaly of around \\(4.7^\\circ C\\) once we exceed 5,000 samples, and it isn’t clear what more precision necessarily would get us.\n\n\nProblem 3 (10 points)\nThis problem is only required for students in BEE 5750.\nA factory is planning a third wastewater discharge into the river downstream of the second plant. This discharge would consist of 5 m3/day of wastewater with a dissolved oxygen content of 4.5 mg/L and CBOD and NBOD levels of 50 and 45 mg/L, respectively.\nIn this problem:\n\nAssume that the treatment plan for waste stream 2 that you identified in Problem 1 is still in place for the existing discharges. If the third discharge will not be treated, under the original inflow conditions (7.5 mg/L DO), how far downstream from the second discharge does this third discharge need to be placed to keep the river concentration from dropping below 4 mg/L?\n\n\n\nSolution\nBased on how we solved Problem 1, we need to modify our solution to include a third discharge with an unknown distance from the second discharge.\n\n\n\n\n\n\nWe could have solved Problem 1 in a more modular way, which included multiple discharges (using a vector of tuples instead of explicitly specifying waste1 and waste2, which would have made this solution simpler).\n\n\n\n\n# do_simulate: function to simulate dissolved oxygen concentrations over the entire river\n# inputs:\n#   - d: distance between waste stream 2 and waste stream 3\n#   - inflow: tuple with inflow properties: (Volume, DO, CBOD, NBOD)\n#   - waste1: tuple with waste stream 1 properties: (Volume, DO, CBOD, NBOD)\n#   - waste2: tuple with waste stream 2 properties: (Volume, DO, CBOD, NBOD)\n#   - waste3: tuple with waste stream 3 properties: (Volume, DO, CBOD, NBOD)\n#   - C₀, B₀, N₀: initial conditions for DO, CBOD, and NBOD, respectively (mg/L)\n#   - U: velocity of river (km/d)\n#   - Cₛ = saturation oxygen concentration (mg/L)\n#   - ka, kc, kn: reaeration, CBOD decay, and NBOD decay rates, respectively (d^{-1})\nfunction do_simulate2(d, inflow, waste1, waste2, waste3, U, Cₛ, ka, kb, kn)\n    # set up ranges for each box/segment\n    x₁ = 0:1:15\n    x₂ = (15:1:15+d) .- 15 \n    x₃ = (15+d:1:50) .- (15 + d)\n\n\n    V_inflow, C_inflow, B_inflow, N_inflow = inflow\n    V_ws1, C_ws1, B_ws1, N_ws1 = waste1\n    V_ws2, C_ws2, B_ws2, N_ws2 = waste2\n    V_ws3, C_ws3, B_ws3, N_ws3 = waste2\n\n    # initialize storage for final C, B, and N\n    # need to store d=1 so the total length should be d+1\n    C = zeros(51)\n    B = zeros(51)\n    N = zeros(51)\n\n    # compute initial conditions for first segment\n    C₀ = mix_concentration(V_inflow, C_inflow, V_ws1, C_ws1)\n    B₀ = mix_concentration(V_inflow, B_inflow, V_ws1, B_ws1)\n    N₀ = mix_concentration(V_inflow, N_inflow, V_ws1, N_ws1)\n\n    # conduct first segment simulation\n    (C₁, B₁, N₁) = dissolved_oxygen(x₁, C₀, B₀, N₀, U, Cₛ, ka, kb, kn)\n    C[1:15] = C₁[1:end-1] \n    B[1:15] = B₁[1:end-1]\n    N[1:15] = N₁[1:end-1]\n\n    # compute initial conditions for second segment\n    C₀₁ = mix_concentration(V_inflow + V_ws1, C₁[end], V_ws2, C_ws2)\n    B₀₁ = mix_concentration(V_inflow + V_ws1, B₁[end], V_ws2, B_ws2)\n    N₀₁ = mix_concentration(V_inflow + V_ws1, N₁[end], V_ws2, N_ws2)\n\n    # conduct second segment simulation\n    (C₂, B₂, N₂) = dissolved_oxygen(x₂, C₀₁, B₀₁, N₀₁, U, Cₛ, ka, kb, kn)\n    C[16:16+d] = C₂ \n    B[16:16+d] = B₂\n    N[16:16+d] = N₂\n\n    # compute initial conditions for third segment\n    C₀₂ = mix_concentration(V_inflow + V_ws1 + V_ws2, C₂[end], V_ws3, C_ws3)\n    B₀₂ = mix_concentration(V_inflow + V_ws1 + V_ws2, B₂[end], V_ws3, B_ws3)\n    N₀₂ = mix_concentration(V_inflow + V_ws1 + V_ws2, N₂[end], V_ws3, N_ws3)\n\n    # conduct second segment simulation\n    (C₃, B₃, N₃) = dissolved_oxygen(x₃, C₀₂, B₀₂, N₀₂, U, Cₛ, ka, kb, kn)\n    C[16+d:end] = C₃ \n    B[16+d:end] = B₃\n    N[16+d:end] = N₃\n\n\n    return (C, B, N)\nend\n\n# set up treatment level for waste stream 2 based on solution for Problem 1\nB_ws2 = (1 - 0.08) * 45.0\nN_ws2 = (1 - 0.08) * 35.0\nwaste2 = (V_ws2, C_ws2, B_ws2, N_ws2)\n\n# set parameters for waste stream 3\nC_ws3 = 4.5\nB_ws3 = 50.0\nN_ws3 = 45.0\nV_ws3 = 5.0 * 1_000 # convert from m^3/day to L/day\nwaste3 = (V_ws3, C_ws3, B_ws3, N_ws3)\n\n(5000.0, 4.5, 50.0, 45.0)\n\n\nNow we can evaluate do_simulate2 over the different values of d to find the minimum value of C.\n\n# three_discharge_minC: function to find the minimum DO concentration based on the three discharge model\n# inputs:\n#   - d: distance between waste stream 2 and waste stream 3\n#   - inflow: tuple with inflow properties: (Volume, DO, CBOD, NBOD)\n#   - waste1: tuple with waste stream 1 properties: (Volume, DO, CBOD, NBOD)\n#   - waste2: tuple with waste stream 2 properties: (Volume, DO, CBOD, NBOD)\n#   - waste3: tuple with waste stream 3 properties: (Volume, DO, CBOD, NBOD)\n#   - C₀, B₀, N₀: initial conditions for DO, CBOD, and NBOD, respectively (mg/L)\n#   - U: velocity of river (km/d)\n#   - Cₛ = saturation oxygen concentration (mg/L)\n#   - ka, kc, kn: reaeration, CBOD decay, and NBOD decay rates, respectively (d^{-1})\nfunction three_discharge_minC(d, inflow, waste1, waste2, waste3, U, Cₛ, ka, kb, kn)\n    C, B, N = do_simulate2(d, inflow, waste1, waste2, waste3, U, Cₛ, ka, kb, kn)\n    return minimum(C)\nend\n\n# evaluate over all distances from 1 to 35 m downstream using broadcasting and anonymous functions\nd = 1:1:35\nminC_d = (dist -&gt; three_discharge_minC(dist, inflow, waste1, waste2, waste3, U, Cₛ, ka, kb, kn)).(d)\nidx = findfirst(minC_d .&gt;= 4.0)\nmin_dist = d[idx]\n@show min_dist;\n\nmin_dist = 14\n\n\nSo, without treatment, the third discharge should be placed 14 m downstream from the second discharge.\n\n\nReferences\nList any external references consulted, including classmates."
  },
  {
    "objectID": "solutions/hw03/hw03.html#references",
    "href": "solutions/hw03/hw03.html#references",
    "title": "Homework 3 Solutions",
    "section": "References",
    "text": "References\nList any external references consulted, including classmates."
  },
  {
    "objectID": "website.html",
    "href": "website.html",
    "title": "website",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "website.html#quarto",
    "href": "website.html#quarto",
    "title": "website",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "policies/grading.html",
    "href": "policies/grading.html",
    "title": "Grading Policies",
    "section": "",
    "text": "Application exercises are auto-graded on Gradescope. These can be submitted as often as you’d like prior to the deadline.\nHomework assignments are graded by the TA on Gradescope based on the rubrics. Homework will be graded as soon as possible, ideally within a couple of weeks.\nExams are graded by Prof. Srikrishnan and the TA using similar rubrics to the homework, though exams will focus less on solving problems. These will be scanned and graded on Gradescope.\nProjects are graded by Prof. Srikrishnan. The proposals will be graded primarily for completeness and for feedback and will be returned ASAP. Presentations will be graded by a combination of peer reviewers and Prof. Srikrishnan.",
    "crumbs": [
      "Policies",
      "Grading Policies"
    ]
  },
  {
    "objectID": "policies/grading.html#how-work-is-graded",
    "href": "policies/grading.html#how-work-is-graded",
    "title": "Grading Policies",
    "section": "",
    "text": "Application exercises are auto-graded on Gradescope. These can be submitted as often as you’d like prior to the deadline.\nHomework assignments are graded by the TA on Gradescope based on the rubrics. Homework will be graded as soon as possible, ideally within a couple of weeks.\nExams are graded by Prof. Srikrishnan and the TA using similar rubrics to the homework, though exams will focus less on solving problems. These will be scanned and graded on Gradescope.\nProjects are graded by Prof. Srikrishnan. The proposals will be graded primarily for completeness and for feedback and will be returned ASAP. Presentations will be graded by a combination of peer reviewers and Prof. Srikrishnan.",
    "crumbs": [
      "Policies",
      "Grading Policies"
    ]
  },
  {
    "objectID": "policies/grading.html#late-policies-and-extension-requests",
    "href": "policies/grading.html#late-policies-and-extension-requests",
    "title": "Grading Policies",
    "section": "Late Policies and Extension requests",
    "text": "Late Policies and Extension requests\n\nAssignments (exercises and homeworks) can be submitted up to 24 hours late for 50% credit. Submissions after 24 hours will not be accepted unless an extension was granted (in which case there is no late penalty until the extension date). This lets us release solutions and return grades ASAP.\nRequest extensions ahead of the deadline. Justified extensions will only be granted for university-approved reasons or emergencies such as illness, injury, learning accomodations, etc and will be limited to 1-2 days, depending on the circumstance. Deadlines in other courses, job interviews, etc. are not reasons for extensions. Ask yourself if the circumstances leading to your extension request only interfered with submission due to poor planning or because they rendered you incapable of work and/or submission. Extensions requested after the deadline will only be considered prior to solution release and for extreme circumstances (e.g. hospitalization during the last day; hence limited communication access).\nUnder extreme circumstances, we will forgive assignments. There are circumstances under which a 24 hour extension is insufficient, such as long-term illness or serious injury. In these cases, we will compute your course grade as if the forgiven assignment never occurred, which will result in your exams and other assignments having more weight.",
    "crumbs": [
      "Policies",
      "Grading Policies"
    ]
  },
  {
    "objectID": "policies/grading.html#regrade-requests",
    "href": "policies/grading.html#regrade-requests",
    "title": "Grading Policies",
    "section": "Regrade Requests",
    "text": "Regrade Requests\n\nSubmit regrade requests on Gradescope within one week of the grade release. We recommend talking to Prof. Srikrishnan or your TA about grading concerns before submitting a regrade request, but no grades will be changed outside of a formal request through Gradescope.\nAll regrade requests must include a brief justification for the request or they will not be considered. Good justifications include (but are not limited to):\n\nMy answer agrees with the posted solution, but I still lost points.\nI lost 4 points for something, but the rubric says it should only be worth 2 points.\nYou took points off for something, but it’s right here.\nMy answer is correct, even though it does not match the posted solution.\nThere is no explanation for my grade.\nI got a perfect score, but my solution has a mistake (you will receive extra credit for this! see below!)\nThere is a major error in the posted solution; here is an explanation (full credit for everyone, but Prof. Srikrishnan will decide what constitutes a “major error”! see below!).\n\nWe will only regrade what you submitted. Any “new” information in the regrade request will not be considered beyond the justification (any explanation may help us identify where to look if your solution is different than the official solution but correct, but the submitted answer must be interpretable as a correct solution on its own merits.\nThe first regrade request will be handled by the member of the course staff who graded the problem. If Prof. Srikrishnan did not review the first request, he will handle any subsequent regrade requests for the same submission. Once Prof. Srikrishnan issues a response to a regrade request, further requests for that submission will be ignored.\nIf you submit a regrade request correctly reporting that your problem was graded too leniently, your score will be increased by the difference (we want to reward this type of honesty and self-awareness!). For example, if your score was 8/10, and you point out that you should have gotten a 3/10, your score will be a 13/10.\nIf a significant error is found in the official solutions, everyone in the class will receive full credit for the relevant (sub)problem. Prof. Srikrishnan has discretion as to what errors are “significant.”",
    "crumbs": [
      "Policies",
      "Grading Policies"
    ]
  },
  {
    "objectID": "policies/exam.html",
    "href": "policies/exam.html",
    "title": "Exam Policies",
    "section": "",
    "text": "This page includes some information on the exams for BEE 4750/5750, including policies and logistics.",
    "crumbs": [
      "Policies",
      "Exam Policies"
    ]
  },
  {
    "objectID": "policies/exam.html#exam-logistics",
    "href": "policies/exam.html#exam-logistics",
    "title": "Exam Policies",
    "section": "Exam Logistics",
    "text": "Exam Logistics\nThis class has two prelims, both in class:\n\nPrelim 1: Wednesday, October 09;\nPrelim 2: Monday, November 11.\n\nEach is worth 10% of your grade. Exams will be hand-written and then will be scanned into Gradescope (by course staff) for grading and feedback; the physical copy of your exam will not be returned.\n\nExam Topics and Structure\nThe emphasis is on concepts; there will be no major formulas that you will need to use, and no programming. You will be potentially be asked to derive mathematical versions of models, apply concepts from class, and interpret model outputs. The problems are largely short- or medium-answer.\nIn general, the same homework grading rubric applies to exam problems, as appropriate (.e.g. nothing about code). The deadly sins will still be penalized, and your solutions should be clear with transparent and well-communicated reasoning.\n\n\nAcademic Integrity\nThe exams are closed-book and closed-note, and closed everything else. No medically unnecessary electronic devices are allowed to be used during the exam, including headphones and smart watches.\nExams are also strictly confidential until the conflict and accomodation exams have been taken. Do not discuss your exam with anyone in person or online. Once all exams are taken, we will discuss the exams in class.\n\n\nDifficulty\nWhile we will not hand out sample exams, exam problems will be closer in difficulty to lab or exercise problems than the homework, since you have two full weeks to solve the problem and have full acccess to external resources, course staff, and classmates. The goal is to assess your ability to set up problems, determine appropriateness of methods, and interpret the output, rather than on doing computations. We cannot, and do not, expect you to solve problems with homework-level difficulty in the restricted exam setting.",
    "crumbs": [
      "Policies",
      "Exam Policies"
    ]
  },
  {
    "objectID": "policies/exam.html#accomodations-conflicts-and-makeup-exams",
    "href": "policies/exam.html#accomodations-conflicts-and-makeup-exams",
    "title": "Exam Policies",
    "section": "Accomodations, Conflicts, and Makeup Exams",
    "text": "Accomodations, Conflicts, and Makeup Exams\n\nSDS Accomodations\nPlease make sure that any exam-related accomodations have been provided to the course staff ahead of the first exam. All exams requiring accomodations will be scheduled and delivered through the Alternative Testing Program.\n\n\nConflict and Makeup Exams\nIf you have an academic conflict or a university-approved reason why you cannot take the exam in class, you should schedule your conflict exam through the Alternative Testing Program.\nIn extreme circumstances, such as long-term illnesses or injuries, that prevent taking both the regular and the conflict exam, we may forgive the prelim and compute your grade without it. This will dramatically increase the weight given to other assessments.",
    "crumbs": [
      "Policies",
      "Exam Policies"
    ]
  },
  {
    "objectID": "policies/integrity.html",
    "href": "policies/integrity.html",
    "title": "Academic Integrity",
    "section": "",
    "text": "While we don’t expect academic integrity to be a problem (we trust you, which is why the course is designed to be open and collaborative!), these policy statements are unfortunately necessary due to a very small minority of students. If you are worried about whether something you are doing is in danger of violating this course’s academic integrity policy, please don’t hesitate to ask during lecture, in office hours, by email, or on Ed Discussion.",
    "crumbs": [
      "Policies",
      "Academic Integrity"
    ]
  },
  {
    "objectID": "policies/integrity.html#expectations",
    "href": "policies/integrity.html#expectations",
    "title": "Academic Integrity",
    "section": "Expectations",
    "text": "Expectations\n\n\n\n\n\n\nOur Expectations\n\n\n\nEach student or group must write their own solutions in their own words and submit work that reflects their understanding. All external sources, including classmates, must be properly credited and referenced.**\n\n\nIf something is submitted with your name on it, you should be able to explain and defend its choices and outcomes. This is true in the workplace as well as in academia.\nFor example, see:\n\nThe Cornell University Code of Academic Integrity;\nThe American Society for Civil Engineers’ Code of Ethics.\n\nThis issue is particularly important in engineering, as lives and well-being depend on the honesty and integrity of engineers. While the stakes are obviously lower in our class, the habits you develop now are related to your practices in the future.\n\nCite Your Sources and Collaborators\nThis course is designed to be highly collaborative: you are free to work with classmates, seek out their advice and insights when you are stuck, and provide help to them when they are stuck. You are also highly encouraged to take advantage of external resources to help you solve problems. But you must cite your sources, with only three exceptions:\n\nHelp from the instructor or course staff;\nCourse materials from this semester;\nSources used in prerequisite courses.\n\nSubmitting someone else’s work or ideas without proper credit is plagiarism, even if you have their permission. Plagiarism, and facilitating plagiarism, are academic integrity violations and will be treated accordingly. Conversely, citing your sources will never negatively impact your grade, and may help if you relied on poor information which you then used properly.\n\n\nUse Your Own Words\nDuplication of any source, even with proper citation, is plagiarism. Your submissions must reflect your own ideas, understanding, and work. This means:\n\nVerbatim copying of lecture notes (including code samples) is plagiarism;\nCopying from old homework or exam solutions is plagiarism;\nSubmitting work in your name done by another student is plagiarism;\nAllowing another student is submit your work in their name is an academic integrity violation.\nMinor wordsmithing to change individual words while preserving a duplicated text’s flow of ideas is also an academic integrity violation. For example, taking ChatGPT output and copying it is clearly an academic integrity violation; changing a few words here or there to avoid “duplication” is still a violation.\n\nThis also goes for any code that you submit. While you are welcome to draw on sources such as ChatGPT or Stack Overflow for debugging, syntax help, or programming patterns, you should independently incorporate these ideas into your independently written problem solutions and code (and credit them in the comments!). If the instructor or TA ask you to explain what is going on in your code, and you cannot, there’s a problem.",
    "crumbs": [
      "Policies",
      "Academic Integrity"
    ]
  },
  {
    "objectID": "policies/integrity.html#dont-cheat-or-lie",
    "href": "policies/integrity.html#dont-cheat-or-lie",
    "title": "Academic Integrity",
    "section": "Don’t Cheat or Lie",
    "text": "Don’t Cheat or Lie\nThe usual no-nos from other classes apply: don’t do anything like\n\nCollaborate on or copy exam answers;\nModify or destroy another students’ work;\nHave an imposter complete work on your behalf;\nChange answers before asking for a regrade;\nFalsely claim to have submitted an assignment or have taken an exam.",
    "crumbs": [
      "Policies",
      "Academic Integrity"
    ]
  },
  {
    "objectID": "policies/integrity.html#penalties",
    "href": "policies/integrity.html#penalties",
    "title": "Academic Integrity",
    "section": "Penalties",
    "text": "Penalties\n\nIf you commit an academic integrity violation on a homework assignment, you will be given a zero for that entire homework assignment, which will not be dropped under any circumstances.\nIf you commit an academic integrity violation on an exam, you will be given a zero for the entire exam, which will not be dropped under any circumstances.\nIf you commit a second academic integrity violation, you will be given an F for the course.\nIf your first violation is particularly egregious, you will be given an F for the course.\n\nAll academic integrity violations will also be reported to the students’ college and department.",
    "crumbs": [
      "Policies",
      "Academic Integrity"
    ]
  },
  {
    "objectID": "policies/integrity.html#group-work",
    "href": "policies/integrity.html#group-work",
    "title": "Academic Integrity",
    "section": "Group Work",
    "text": "Group Work\nYour term project involves the submission of work jointly as a group. This means that every member of the group is responsible for the entire project. At a minimum, every person whose name is on a submission must read, understand, and approve the entirety of the submission (this is the same standard used for authorship on academic publications). Allowing someone else to add your name to something you did not contribute to is an academic integrity violation and will result in a zero for the entire submission.",
    "crumbs": [
      "Policies",
      "Academic Integrity"
    ]
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#last-class",
    "href": "slides/lecture04-2-dissolved-oxygen.html#last-class",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Last Class",
    "text": "Last Class\n\nModel-based simulation as a way to understand system dynamics and response.\nBox models: mass-balance in some region of the domain\nCan generalize single box models by:\n\nAdding more complexity;\ncombining multiple boxes."
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#why-simulate",
    "href": "slides/lecture04-2-dissolved-oxygen.html#why-simulate",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Why Simulate?",
    "text": "Why Simulate?\n\nSystem involves complex, nonlinear dynamics that may not be analytically tractable.\nSetting up and running a real-world experiment is not possible.\nState depends on prior states or states of nearby locations, so need to iterate over multiple spatial or temporal steps.\nNeed to understand range of system performance across rarely-seen conditions."
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#questions",
    "href": "slides/lecture04-2-dissolved-oxygen.html#questions",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Questions",
    "text": "Questions\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#fate-transport-modeling",
    "href": "slides/lecture04-2-dissolved-oxygen.html#fate-transport-modeling",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Fate & Transport Modeling",
    "text": "Fate & Transport Modeling\nHow do nutrients and other quantities move through environmental mediums?\nWhat can make fate & transport modeling more complex?\n\n\nMultiple points of inflow;\nMore complex growth/decay dynamics.\nStochasticity/randomness."
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#dissolved-oxygen",
    "href": "slides/lecture04-2-dissolved-oxygen.html#dissolved-oxygen",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Dissolved Oxygen",
    "text": "Dissolved Oxygen\n\n\nDissolved oxygen (DO) is the free, non-compound oxygen present in water or other liquids.\nFreshwater can only hold small amounts, and this capacity is regulated by temperature.\n\n\n\n\nDissolved Oxygen by temperature\n\n\n\nSource: fondriest.com"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#temperature-impact-on-do",
    "href": "slides/lecture04-2-dissolved-oxygen.html#temperature-impact-on-do",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Temperature Impact on DO",
    "text": "Temperature Impact on DO\n\n\n\nDissolved Oxygen and Temperature Plot\n\n\n\nSource: usgs.gov"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#dissolved-oxygen-and-life",
    "href": "slides/lecture04-2-dissolved-oxygen.html#dissolved-oxygen-and-life",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Dissolved Oxygen and Life",
    "text": "Dissolved Oxygen and Life\n\n\nDissolved oxygen is an important nutrient for aquatic life.\nHypoxia occurs when DO levels are \\(&lt; 2\\) mg/L.\n\n\n\n\nMinimum DO requirements for freshwater fish\n\n\n\n\nSource: fondriest.com"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#factors-influencing-do",
    "href": "slides/lecture04-2-dissolved-oxygen.html#factors-influencing-do",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Factors Influencing DO",
    "text": "Factors Influencing DO\n\nTemperature, Pressure, Depth\nSalinity\nMixing\nPlant and Microbial Life\nOrganic Matter"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#impact-of-paris-on-seine-do-1874",
    "href": "slides/lecture04-2-dissolved-oxygen.html#impact-of-paris-on-seine-do-1874",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Impact of Paris On Seine DO, 1874",
    "text": "Impact of Paris On Seine DO, 1874\n\n\n\nDissolved Oxygen Downstream of Paris, 1874\n\n\n\nSource: Dmitrieva, T., et al. (2018). https://doi.org/10.1007/s12685-018-0216-7"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#do-regulatory-standards",
    "href": "slides/lecture04-2-dissolved-oxygen.html#do-regulatory-standards",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "DO Regulatory Standards",
    "text": "DO Regulatory Standards\nObjective: Keep DO above the regulatory standard.\nIn NY (via Westlaw):\n\nDO levels may not fall below 3 mg/L\nDO may not be below 4.8 mg/L for an extended period"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#oxygen-balance-in-rivers-and-streams",
    "href": "slides/lecture04-2-dissolved-oxygen.html#oxygen-balance-in-rivers-and-streams",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Oxygen Balance in Rivers and Streams",
    "text": "Oxygen Balance in Rivers and Streams\n\n\n\nProcesses influencing oxygen balance in moving freshwater"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#selecting-a-metric-for-do-fluxes",
    "href": "slides/lecture04-2-dissolved-oxygen.html#selecting-a-metric-for-do-fluxes",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Selecting a Metric for DO Fluxes",
    "text": "Selecting a Metric for DO Fluxes\nTypically use oxygen demand (OD):\n\nmeasure of the concentration of oxidizable materials in a water sample\nmetric for organic waste contamination\nreflects how oxygen will be depleted in a given segment\n\nBut there are several different processes affecting total OD!"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#biochemical-oxygen-demand-bod",
    "href": "slides/lecture04-2-dissolved-oxygen.html#biochemical-oxygen-demand-bod",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Biochemical Oxygen Demand (BOD)",
    "text": "Biochemical Oxygen Demand (BOD)\nOxygen used by microbes during aerobic decomposition of organic materials: \\[\\text{Organic Matter} + \\text{O}_2 \\rightarrow \\text{CO}_2 +  \\text{H}_2\\text{O} + \\text{NO}_3 + \\text{SO}_2 + \\text{Residuals}\\]\nBroadly speaking, we care about two types of BOD: Carbonaceous BOD and Nitrogenous BOD."
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#carbonaceous-bod-cbod",
    "href": "slides/lecture04-2-dissolved-oxygen.html#carbonaceous-bod-cbod",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Carbonaceous BOD (CBOD)",
    "text": "Carbonaceous BOD (CBOD)\nOxygen consumed during microbial decomposition of carbon compounds, e.g.: \\[\\text{C}_a\\text{H}_b\\text{O}_c + d\\text{O}_2 \\rightarrow e\\text{H}_2\\text{O} + f\\text{CO}_2\\]"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#nitrogenous-bod-nbod",
    "href": "slides/lecture04-2-dissolved-oxygen.html#nitrogenous-bod-nbod",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Nitrogenous BOD (NBOD)",
    "text": "Nitrogenous BOD (NBOD)\nOxygen consumed during microbial decomposition of nitrogen compounds: \\[2\\text{NH}_2^+ + 4\\text{O}_2 \\rightarrow 2\\text{H}_2\\text{O} + 4\\text{H}^+ + 2\\text{NO}_3^-\\]"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#bod-and-time",
    "href": "slides/lecture04-2-dissolved-oxygen.html#bod-and-time",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "BOD and Time",
    "text": "BOD and Time\nMoreover, BOD is differentiated based on time frame, e.g.:\n\nBOD5: oxygen demand over 5 days\nBOD20: oxygen demand over 20 days"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#do-modeling-needs",
    "href": "slides/lecture04-2-dissolved-oxygen.html#do-modeling-needs",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "DO Modeling Needs",
    "text": "DO Modeling Needs\nNeed a model that will predict DO as a function of CBOD, NBOD.\nUse a fate and transport modeling approach: how are relevant quantities moved downstream?\nNote: Can’t assume homogeneous processes."
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#modeling-do",
    "href": "slides/lecture04-2-dissolved-oxygen.html#modeling-do",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Modeling DO",
    "text": "Modeling DO\n\n\nSo what do we do?\nStart by assuming steady-state waste in each section (or box…).\n\n\n\n\nProcesses influencing oxygen balance in moving freshwater"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#modeling-do-1",
    "href": "slides/lecture04-2-dissolved-oxygen.html#modeling-do-1",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Modeling DO",
    "text": "Modeling DO\n\n\nWe’ll track the mass balance in terms of rates (not absolute mass).\nWhat happens to an element of water as it moves downstream?\n\n\n\n\nProcesses influencing oxygen balance in moving freshwater"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#steady-state-waste-do-mass-balance",
    "href": "slides/lecture04-2-dissolved-oxygen.html#steady-state-waste-do-mass-balance",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Steady-State Waste, DO Mass Balance",
    "text": "Steady-State Waste, DO Mass Balance\nLet \\(U\\) be the river velocity (km/d), \\(x\\) the distance downstream from a waste release site in km, and \\(C(x)\\) the DO concentration at \\(x\\) in mg/L.\n\\[\\begin{align}\nU \\frac{dC}{dx} &= \\text{Change in DO} \\\\[0.5em]\n&= \\text{Reaeration} + \\text{Photosynthesis} - \\text{Respiration}  \\\\[0.5em]\n& \\qquad - \\text{Benthal Uptake} - \\text{CBOD} - \\text{NBOD}\n\n\\end{align}\\]"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#bod-oxygen-uptake",
    "href": "slides/lecture04-2-dissolved-oxygen.html#bod-oxygen-uptake",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "BOD Oxygen Uptake",
    "text": "BOD Oxygen Uptake\nAssume deoxygenation from waste decomposition is first-order (rate \\(k\\)):\n\\[\\begin{aligned}\n\\frac{dM}{dt} &= -kM \\\\\n\\Rightarrow M &= M_0 \\exp(-kt)\n\\end{aligned}\\]\n\nBut our equations are formulated in terms of distance:\n\\[M = M_0 \\exp(-kx/U)\\]"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#bod-oxygen-uptake-1",
    "href": "slides/lecture04-2-dissolved-oxygen.html#bod-oxygen-uptake-1",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "BOD Oxygen Uptake",
    "text": "BOD Oxygen Uptake\nFor biochemical organics, if \\(k_c\\) is the deoxygenation rate (d\\(^{-1}\\));\n\\[B(x) = B_0 \\exp(-k_c x / U);\\]\nFor nitrification, if \\(k_n\\) is the deoxygenation rate (d\\(^{-1}\\)):\n\\[N(x) = N_0 \\exp(-k_n x / U).\\]"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#steady-state-waste-do-mass-balance-1",
    "href": "slides/lecture04-2-dissolved-oxygen.html#steady-state-waste-do-mass-balance-1",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Steady-State Waste, DO Mass Balance",
    "text": "Steady-State Waste, DO Mass Balance\nSo the corresponding oxygen uptake rates are \\[k_c B(x) = k_c B_0 \\exp(-k_c x / U)\\] and\n\\[k_n N(x) = k_n N_0 \\exp(-k_n x / U).\\]"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#steady-state-waste-do-mass-balance-2",
    "href": "slides/lecture04-2-dissolved-oxygen.html#steady-state-waste-do-mass-balance-2",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Steady-State Waste, DO Mass Balance",
    "text": "Steady-State Waste, DO Mass Balance\nOther processes:\n\nReaeration, assume a simple linear model based on difference from saturation level \\(C_s\\): \\(k_a (C_s - C)\\)\nAssume measured, constant values for photosynthesis (\\(P_s\\)), respiration (\\(R\\)), benthal uptake (\\(S_B\\))"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#steady-state-waste-do-mass-balance-3",
    "href": "slides/lecture04-2-dissolved-oxygen.html#steady-state-waste-do-mass-balance-3",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Steady-State Waste, DO Mass Balance",
    "text": "Steady-State Waste, DO Mass Balance\nPutting it all together:\n\\[\n\\begin{aligned}\nU \\frac{dC}{dx} &= k_a (C_s - C) + P - R - S_B \\\\\n&\\quad - k_cB_0\\exp\\left(\\frac{-k_cx}{U}\\right) - k_n N_0\\exp\\left(\\frac{-k_nx}{U}\\right)\n\\end{aligned}\n\\]\n\nNote: Usually models ignore \\(P\\), \\(R\\), and \\(S_B\\).\nWhy do you think that might be?"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#steady-state-solution-streeter-phelps",
    "href": "slides/lecture04-2-dissolved-oxygen.html#steady-state-solution-streeter-phelps",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Steady-State Solution (Streeter-Phelps)",
    "text": "Steady-State Solution (Streeter-Phelps)\n\n\\[\\begin{align}\nC(x) &= C_s(1 - \\alpha_1) + C_0 \\alpha_1 - B_0 \\alpha_2 - N_0 \\alpha_3 + \\left(\\frac{P-R-S_B}{k_a}\\right) (1-\\alpha_1), \\\\[1em]\n\n\\alpha_1 &= \\exp\\left(-\\frac{k_a x}{U}\\right) \\\\[0.25em]\n\\alpha_2 &= \\left(\\frac{k_c}{k_a-k_c}\\right)\\left[\\exp\\left(\\frac{-k_c x}{U}\\right) - \\exp\\left(\\frac{-k_ax}{U}\\right)\\right] \\\\[0.25em]\n\\alpha_3 &= \\left(\\frac{k_n}{k_a-k_n}\\right)\\left[\\exp\\left(\\frac{-k_n x}{U}\\right) - \\exp\\left(\\frac{-k_ax}{U}\\right)\\right]\n\\end{align}\\]"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#single-discharge-example",
    "href": "slides/lecture04-2-dissolved-oxygen.html#single-discharge-example",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Single-Discharge Example",
    "text": "Single-Discharge Example\nConsider a single waste release along a river:\n\n\n\nSingle-Discharge DO Setup"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#single-discharge-example-1",
    "href": "slides/lecture04-2-dissolved-oxygen.html#single-discharge-example-1",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Single-Discharge Example",
    "text": "Single-Discharge Example\n\n\n\n\n\n\n\n\n\nParameter\nRiver\nWaste\nGeneral\n\n\n\n\nVolume (m3/d)\n100,000\n10,000\n—\n\n\nDO (mg/L)\n6.4\n4.2\n—\n\n\nCBOD (mg/L)\n5\n49\n—\n\n\nNBOD (mg/L)\n5\n27\n—\n\n\n\\(C_s\\) (mg/L)\n—\n—\n7\n\n\n\\(k_a\\), \\(k_c\\), \\(k_n\\)\n—\n—\n0.6, 0.4, 0.25"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#single-discharge-example-initial-condition",
    "href": "slides/lecture04-2-dissolved-oxygen.html#single-discharge-example-initial-condition",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Single-Discharge Example: Initial Condition",
    "text": "Single-Discharge Example: Initial Condition\nHow do we find the initial state (\\(x=0\\))?\n\nNeed to compute the mixed concentrations of DO, CBOD, and NBOD (\\(Q\\) is the flow volume):\n\\[C_0 = C_\\text{mixed} = \\frac{C_\\text{river} \\times Q_\\text{river} + C_\\text{waste} \\times Q_\\text{waste}}{Q_\\text{river} + Q_\\text{waste}}\\]"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#single-discharge-example-initial-condition-1",
    "href": "slides/lecture04-2-dissolved-oxygen.html#single-discharge-example-initial-condition-1",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Single-Discharge Example: Initial Condition",
    "text": "Single-Discharge Example: Initial Condition\nSo the initial values:\n\\[C_0 = 6.2 \\ \\text{mg/L}\\]\n\\[B_0 = 9 \\ \\text{mg/L}\\]\n\\[N_0 = 7 \\ \\text{mg/L}\\]"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#simulation-outputs-sag-curve",
    "href": "slides/lecture04-2-dissolved-oxygen.html#simulation-outputs-sag-curve",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Simulation Outputs (“Sag Curve”)",
    "text": "Simulation Outputs (“Sag Curve”)\n\n\nCode\nfunction do_simulate(x, C0, B0, N0, ka, kn, kc, Cs, U)\n    B = B0 * exp(-kc * x / U)\n    N = N0 * exp(-kn * x / U)\n    α1 = exp(-ka * x / U)\n    α2 = (kc/(ka-kc)) * (exp.(-kc * x / U) - exp(-ka * x / U))\n    α3 = (kn/(ka-kn)) * (exp(-kn * x / U) - exp(-ka * x / U))\n    C = Cs * (1 - α1) + (C0 * α1) - (B0 * α2) - (N0 * α3)\n    return (C, B, N)\nend  \n\n# set river properties\nka = 0.6\nkc = 0.4\nkn = 0.25\n\nC0 = 6.2\nB0 = 9\nN0 = 7\n\nCs = 7\nU = 5\n\nx = 0:40\n\n# evaluate model over all x's\n# this uses broadcasting\ndo_out = (y -&gt; do_simulate(y, C0, B0, N0, ka, kc, kn, Cs, U)).(x)\n# unpack outputs into individual arrays for C, B, and N\n# this uses comprehensions to pull out the relevant components \n#of the tuples that our function outputs\nC = [d[1] for d in do_out]\nB = [d[2] for d in do_out]\nN = [d[3] for d in do_out]\n\n# plot outputs\np1 = plot(; ylabel=\"DO/OD (mg/l)\", xlabel=\"Distance (km)\", left_margin=8mm, top_margin=10mm, guidefontsize=18, legendfontsize=16, tickfontsize=16, legend=:outerright, bottom_margin=10mm)\nplot!(p1, x, C, color=:black, linewidth=4, label=\"DO\")\nplot!(p1, x, B, color=:green, label=\"CBOD\", linestyle=:dash, linewidth=3)\nplot!(p1, x, N, color=:blue, label=\"NBOD\", linestyle=:dash, linewidth=3)\n# plot Cs, which is a constant value \nplot!(p1, x, Cs * ones(length(x)), color=:purple, label=L\"C_s\", linestyle=:dot, linewidth=2)\n\nhline!([3], color=:red, linewidth=2, label=\"Regulatory Standard\")\nplot!(size=(1200, 450))\nxaxis!((0, 40))\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Sag curve for dissolved oxygen"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#multiple-discharges",
    "href": "slides/lecture04-2-dissolved-oxygen.html#multiple-discharges",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Multiple Discharges",
    "text": "Multiple Discharges\nWhat happens if we have multiple discharge sites?\n\n\n\nSchematic for Multiple Discharge Example"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#simulating-multiple-discharges",
    "href": "slides/lecture04-2-dissolved-oxygen.html#simulating-multiple-discharges",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Simulating Multiple Discharges",
    "text": "Simulating Multiple Discharges\n\n\nThink of this as a multi-box system.\n\nFlow from waste release 1 to waste release 2.\nFlow from waste release 2 on.\n\n\n\n\n\nSchematic for Multiple Discharge Example\n\n\n\nHow do we compute the initial conditions at release 2?"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#who-is-responsible-for-non-compliance",
    "href": "slides/lecture04-2-dissolved-oxygen.html#who-is-responsible-for-non-compliance",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Who is Responsible for Non-Compliance?",
    "text": "Who is Responsible for Non-Compliance?\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Multi-Release Dissolved Oxygen Example"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#key-points-1",
    "href": "slides/lecture04-2-dissolved-oxygen.html#key-points-1",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Key Points",
    "text": "Key Points\n\nDissolved oxygen (DO) is essential for water quality and aquatic life.\nCommonly regulated to keep DO above a minimum threshold.\nDO impacted by a number of factors, notably organic waste decomposition and nitrification.\n“Sag Curve”: DO reduced near a discharge until waste decomposition reduces OD and re-aeration can occur."
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#next-classes",
    "href": "slides/lecture04-2-dissolved-oxygen.html#next-classes",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Next Classes",
    "text": "Next Classes\nNext Week: Uncertainty and Monte Carlo"
  },
  {
    "objectID": "slides/lecture04-2-dissolved-oxygen.html#assessments",
    "href": "slides/lecture04-2-dissolved-oxygen.html#assessments",
    "title": "Simulation Example: Dissolved Oxygen",
    "section": "Assessments",
    "text": "Assessments\nExercises: Due Monday before class."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#prelim-alternative-testing-program",
    "href": "slides/lecture06-1-monte-carlo.html#prelim-alternative-testing-program",
    "title": "Monte Carlo: Why It Works",
    "section": "Prelim: Alternative Testing Program",
    "text": "Prelim: Alternative Testing Program\n\nConflict/accomodation exams will be handled through ATP.\nIf you do not have an SDS accomodation letter for this class, you will not be enrolled in ATP."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#uncertainty-and-systems",
    "href": "slides/lecture06-1-monte-carlo.html#uncertainty-and-systems",
    "title": "Monte Carlo: Why It Works",
    "section": "Uncertainty and Systems",
    "text": "Uncertainty and Systems\n\nSystems models always neglect aspects of the “real” system, resulting in uncertainties\nMay be external forcings that are unknown.\nRisk: What are the possible impacts of environmental conditions and how probable are they?"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-simulation",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-simulation",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo Simulation",
    "text": "Monte Carlo Simulation\nMonte Carlo is stochastic simulation.\n\n\n\n\n\n\n\nG\n\n\n\na\n\nProbability\n Distribution\n\n\n\nb\n\nRandom\n Samples\n\n\n\na-&gt;b\n\n\nSample\n\n\n\nc\n\nModel\n\n\n\nb-&gt;c\n\n\nInput\n\n\n\nd\n\nOutputs\n\n\n\nc-&gt;d\n\n\nSimulate"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#goals-of-monte-carlo",
    "href": "slides/lecture06-1-monte-carlo.html#goals-of-monte-carlo",
    "title": "Monte Carlo: Why It Works",
    "section": "Goals of Monte Carlo",
    "text": "Goals of Monte Carlo\nMonte Carlo is a broad method, which can be used to:\n\nObtain probability distributions of outputs (uncertainty propagation);\nEstimate deterministic quantities (Monte Carlo estimation)."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-estimation",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-estimation",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo Estimation",
    "text": "Monte Carlo Estimation\nMonte Carlo estimation involves framing the (deterministic) quantity of interest as a summary statistic of a random process."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#questions",
    "href": "slides/lecture06-1-monte-carlo.html#questions",
    "title": "Monte Carlo: Why It Works",
    "section": "Questions?",
    "text": "Questions?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#why-monte-carlo-works",
    "href": "slides/lecture06-1-monte-carlo.html#why-monte-carlo-works",
    "title": "Monte Carlo: Why It Works",
    "section": "Why Monte Carlo Works",
    "text": "Why Monte Carlo Works\nWe can formalize Monte Carlo estimation as the computation of the expected value of a random quantity \\(Y\\), \\(\\mu = \\mathbb{E}[Y]\\).\nTo do this, generate \\(n\\) independent and identically distributed values \\(Y_1, \\ldots, Y_n\\). Then the sample estimate is\n\\[\\tilde{\\mu}_n = \\frac{1}{n}\\sum_{i=1}^n Y_i\\]"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-formally",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-formally",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo (Formally)",
    "text": "Monte Carlo (Formally)\nImportant note: The Monte Carlo sample mean \\(\\tilde{\\mu}_n = \\frac{1}{n}\\sum_{i=1}^n Y_i\\) is itself a random variable."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#what-do-we-mean-by-works",
    "href": "slides/lecture06-1-monte-carlo.html#what-do-we-mean-by-works",
    "title": "Monte Carlo: Why It Works",
    "section": "What Do We Mean By “Works”?",
    "text": "What Do We Mean By “Works”?\nWhat properties would we like the Monte Carlo estimate \\(\\mathbb{E}[\\tilde{\\mu}_n]\\) to have?"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-estimate-is-unbiased",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-estimate-is-unbiased",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo Estimate is Unbiased",
    "text": "Monte Carlo Estimate is Unbiased\nWith some assumptions (the mean of \\(Y\\) exists and \\(Y\\) has finite variance), the expected Monte Carlo sample mean \\(\\mathbb{E}[\\tilde{\\mu}_n]\\) is\n\\[\\frac{1}{n}\\sum_{i=1}^n \\mathbb{E}[Y_i] = \\frac{1}{n} n \\mu = \\mu\\]\nSo the Monte Carlo estimate is an unbiased estimate of the mean."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-estimate-converges",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-estimate-converges",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo Estimate Converges",
    "text": "Monte Carlo Estimate Converges\nOn average (across different samples), the MC estimate \\(\\tilde{\\mu}_n\\) has the “right” value.\nWill a single sample trajectory converge to the true value?"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#the-law-of-large-numbers",
    "href": "slides/lecture06-1-monte-carlo.html#the-law-of-large-numbers",
    "title": "Monte Carlo: Why It Works",
    "section": "The Law of Large Numbers",
    "text": "The Law of Large Numbers\nIf\n\n\\(Y\\) is a random variable and its expectation exists and\n\\(Y_1, \\ldots, Y_n\\) are independently and identically distributed\n\nThen by the weak law of large numbers:\n\\[\\lim_{n \\to \\infty} \\mathbb{P}\\left(\\left|\\tilde{\\mu}_n - \\mu\\right| \\leq \\varepsilon \\right) = 1\\]"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-estimate-converges-1",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-estimate-converges-1",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo Estimate Converges",
    "text": "Monte Carlo Estimate Converges\nIn other words, eventually Monte Carlo estimates will get within an arbitrary error of the true expectation. But how large is large enough?\nNote that the law of large numbers applies to vector-valued functions as well. The key is that \\(f(x) = Y\\) just needs to be sufficiently well-behaved."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-error-can-be-estimated",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-error-can-be-estimated",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo Error Can Be Estimated",
    "text": "Monte Carlo Error Can Be Estimated\nWe’d like to know more about the error of this estimate for a given sample size. The variance of this estimator is\n\\[\\tilde{\\sigma}_n^2 = \\text{Var}\\left(\\tilde{\\mu}_n\\right) = \\mathbb{E}\\left((\\tilde{\\mu}_n - \\mu)^2\\right) = \\frac{\\sigma_Y^2}{n}\\]\n\nSo as \\(n\\) increases, the standard error decreases:\n\\[\\tilde{\\sigma}_n = \\frac{\\sigma_Y}{\\sqrt{n}}\\]"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-error",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-error",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo Error",
    "text": "Monte Carlo Error\nIn other words, if we want to decrease the Monte Carlo error by 10x, we need 100x additional samples. This is not an ideal method for high levels of accuracy.\n\n\n\nMonte Carlo is an extremely bad method. It should only be used when all alternative methods are worse.\n\n\n— Sokal, Monte Carlo Methods in Statistical Mechanics, 1996\n\n\n\n\nBut…often most alternatives are worse!"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#when-might-we-want-to-use-monte-carlo",
    "href": "slides/lecture06-1-monte-carlo.html#when-might-we-want-to-use-monte-carlo",
    "title": "Monte Carlo: Why It Works",
    "section": "When Might We Want to Use Monte Carlo?",
    "text": "When Might We Want to Use Monte Carlo?\n\n\nAll models are wrong, and so there always exists some irreducible model error. Can we reduce the Monte Carlo error enough so it’s less than the model error and other uncertainties?\nWe often need a lot of simulations. Do we have enough computational power?"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#when-might-we-want-to-use-monte-carlo-1",
    "href": "slides/lecture06-1-monte-carlo.html#when-might-we-want-to-use-monte-carlo-1",
    "title": "Monte Carlo: Why It Works",
    "section": "When Might We Want to Use Monte Carlo?",
    "text": "When Might We Want to Use Monte Carlo?\nIf you can compute your answers analytically, you probably should.\nBut for many systems problems, this is either\n\nNot possible;\nRequires a lot of stylization and simplification."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-confidence-intervals",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-confidence-intervals",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo Confidence Intervals",
    "text": "Monte Carlo Confidence Intervals\nThis error estimate lets us compute confidence intervals for the MC estimate."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#what-is-a-confidence-interval",
    "href": "slides/lecture06-1-monte-carlo.html#what-is-a-confidence-interval",
    "title": "Monte Carlo: Why It Works",
    "section": "What is a Confidence Interval?",
    "text": "What is a Confidence Interval?\nRemember: an \\(\\alpha\\)-confidence interval is an interval such that \\(\\alpha \\%\\) of intervals constructed after a given experiment will contain the true value.\n\nIt is not an interval which contains the true value \\(\\alpha \\%\\) of the time. This concept does not exist within frequentist statistics, and this mistake is often made."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#how-to-interpret-confidence-intervals",
    "href": "slides/lecture06-1-monte-carlo.html#how-to-interpret-confidence-intervals",
    "title": "Monte Carlo: Why It Works",
    "section": "How To Interpret Confidence Intervals",
    "text": "How To Interpret Confidence Intervals\n\n\nTo understand confidence intervals, think of horseshoes!\nThe post is a fixed target, and my accuracy informs how confident I am that I will hit the target with any given toss.\n\n\n\n\nCartoon of horseshoes\n\n\n\nSource: https://www.wikihow.com/Throw-a-Horseshoe"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#how-to-interpret-confidence-intervals-1",
    "href": "slides/lecture06-1-monte-carlo.html#how-to-interpret-confidence-intervals-1",
    "title": "Monte Carlo: Why It Works",
    "section": "How To Interpret Confidence Intervals",
    "text": "How To Interpret Confidence Intervals\nBut once I make the throw, I’ve either hit or missed.\nThe confidence level \\(\\alpha\\%\\) expresses the pre-experimental frequency by which a confidence interval will contain the true value. So for a 95% confidence interval, there is a 5% chance that a given sample was an outlier and the interval is inaccurate."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-confidence-intervals-1",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-confidence-intervals-1",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo Confidence Intervals",
    "text": "Monte Carlo Confidence Intervals\nOK, back to Monte Carlo…\nBasic Idea: The Central Limit Theorem says that with enough samples, the errors are normally distributed:\n\\[\\left\\|\\tilde{\\mu}_n - \\mu\\right\\| \\to \\mathcal{N}\\left(0, \\frac{\\sigma_Y^2}{n}\\right)\\]"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#monte-carlo-confidence-intervals-2",
    "href": "slides/lecture06-1-monte-carlo.html#monte-carlo-confidence-intervals-2",
    "title": "Monte Carlo: Why It Works",
    "section": "Monte Carlo Confidence Intervals",
    "text": "Monte Carlo Confidence Intervals\nThe \\(\\alpha\\)-confidence interval is: \\[\\tilde{\\mu}_n \\pm \\Phi^{-1}\\left(1 - \\frac{\\alpha}{2}\\right) \\frac{\\sigma_Y}{\\sqrt{n}}\\]\nFor example, the 95% confidence interval is \\[\\tilde{\\mu}_n \\pm 1.96 \\frac{\\sigma_Y}{\\sqrt{n}}.\\]"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#implications-of-monte-carlo-error",
    "href": "slides/lecture06-1-monte-carlo.html#implications-of-monte-carlo-error",
    "title": "Monte Carlo: Why It Works",
    "section": "Implications of Monte Carlo Error",
    "text": "Implications of Monte Carlo Error\nConverging at a rate of \\(1/\\sqrt{n}\\) is not great. But:\n\nAll models are wrong, and so there always exists some irreducible model error.\nWe often need a lot of simulations. Do we have enough computational power?"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#implications-of-monte-carlo-error-1",
    "href": "slides/lecture06-1-monte-carlo.html#implications-of-monte-carlo-error-1",
    "title": "Monte Carlo: Why It Works",
    "section": "Implications of Monte Carlo Error",
    "text": "Implications of Monte Carlo Error\nIf you can compute your answer analytically, you probably should.\nBut often this is difficult if not impossible without many simplifying assumptions."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#mc-example-dice",
    "href": "slides/lecture06-1-monte-carlo.html#mc-example-dice",
    "title": "Monte Carlo: Why It Works",
    "section": "MC Example: Dice",
    "text": "MC Example: Dice\nWhat is the probability of rolling 4 dice for a total of 19?\n\nfunction dice_roll_repeated(n_trials, n_dice)\n    dice_dist = DiscreteUniform(1, 6) \n    roll_results = zeros(n_trials)\n    for i=1:n_trials\n        roll_results[i] = sum(rand(dice_dist, n_dice))\n    end\n    return roll_results\nend\n\nnsamp = 10_000\n# roll four dice 10,000 times\nrolls = dice_roll_repeated(nsamp, 4) \n\n# initialize storage for frequencies by sample length\navg_freq = zeros(length(rolls)) \n# initialize storage for standard error of estimate\nstd_freq = zeros(length(rolls))\n# compute average frequencies of 19\navg_freq[1] = (rolls[1] == 19)\nstd_freq[1] = 0 # no standard error for the first sample\n\nfor i in 2:length(rolls)\n    avg_freq[i] = (avg_freq[i-1] * (i-1) + (rolls[i] == 19)) / i\n    std_freq[i] = std(rolls[1:i] .== 19) / sqrt(i)\nend"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#mc-example-dice-1",
    "href": "slides/lecture06-1-monte-carlo.html#mc-example-dice-1",
    "title": "Monte Carlo: Why It Works",
    "section": "MC Example: Dice",
    "text": "MC Example: Dice\n\n\nCode\nplt = plot(\n    avg_freq, ribbon=1.96 * std_freq,\n    xlim = (1, nsamp),\n    ylim = (0, 0.1),\n    legend = :false,\n    xlabel=\"Iteration\",\n    ylabel=\"Estimate\",\n    left_margin=10mm,\n    bottom_margin=10mm,\n    right_margin=10mm,\n    color=:black,\n    linewidth=3\n)\nplot!(size=(1200, 500))\n\nhline!(plt, [0.0432], color=\"red\", \n    linestyle=:dash)"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#mc-example-dice-2",
    "href": "slides/lecture06-1-monte-carlo.html#mc-example-dice-2",
    "title": "Monte Carlo: Why It Works",
    "section": "MC Example: Dice",
    "text": "MC Example: Dice\nAfter 10,000 iterations, the 95% confidence interval for the MC estimate is 4.3 \\(\\pm\\) 0.4%.\nIs this good enough? Should we keep going?"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#mc-example-dissolved-oxygen",
    "href": "slides/lecture06-1-monte-carlo.html#mc-example-dissolved-oxygen",
    "title": "Monte Carlo: Why It Works",
    "section": "MC Example: Dissolved Oxygen",
    "text": "MC Example: Dissolved Oxygen\nLet’s revisit our two-waste dissolved oxygen example with uncertain wastewater inflows.\n\n\n\nSchematic for Multiple Discharge Example"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#mc-example-dissolved-oxygen-1",
    "href": "slides/lecture06-1-monte-carlo.html#mc-example-dissolved-oxygen-1",
    "title": "Monte Carlo: Why It Works",
    "section": "MC Example: Dissolved Oxygen",
    "text": "MC Example: Dissolved Oxygen\n\n\nAt each inflow, the uncertainty about the amount of waste (which modifies the baseline CBOD/NBOD):\n\n\n\nCode\nwaste_dist = truncated(Normal(0, 5); lower=-10, upper=20)\nwaste_samps = rand(waste_dist, (10_000, 2))\nhistogram(waste_samps[:, 1], ylabel=\"Count\", xlabel=\"OD Deviation from Baseline (mg/L)\")\nplot!(size=(600, 500))\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Distribution for the uncertainty in waste at each inflow"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#mc-example-dissolved-oxygen-2",
    "href": "slides/lecture06-1-monte-carlo.html#mc-example-dissolved-oxygen-2",
    "title": "Monte Carlo: Why It Works",
    "section": "MC Example: Dissolved Oxygen",
    "text": "MC Example: Dissolved Oxygen\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Multi-Release Dissolved Oxygen Example\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(b)\n\n\n\n\n\n\n\nFigure 2"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#mc-example-dissolved-oxygen-3",
    "href": "slides/lecture06-1-monte-carlo.html#mc-example-dissolved-oxygen-3",
    "title": "Monte Carlo: Why It Works",
    "section": "MC Example: Dissolved Oxygen",
    "text": "MC Example: Dissolved Oxygen\n\n\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: Multi-Release Dissolved Oxygen Example\n\n\n\n\n\n\n\n\nIterations\nEstimate\n\n\n\n\n100\n1.0 \\(\\pm\\) 1.0%\n\n\n1000\n2.5 \\(\\pm\\) 0.5%\n\n\n5000\n2.9 \\(\\pm\\) 0.2%\n\n\n10000\n2.9 \\(\\pm\\) 0.2%"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#more-advanced-monte-carlo-methods",
    "href": "slides/lecture06-1-monte-carlo.html#more-advanced-monte-carlo-methods",
    "title": "Monte Carlo: Why It Works",
    "section": "More Advanced Monte Carlo Methods",
    "text": "More Advanced Monte Carlo Methods\n“Simple” Monte Carlo analysis: assumes that we can readily sample independent and identically-distributed random variables.\nThere are other methods for when distributions are hard to sample from or uncertainties aren’t independent."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#on-random-number-generators",
    "href": "slides/lecture06-1-monte-carlo.html#on-random-number-generators",
    "title": "Monte Carlo: Why It Works",
    "section": "On Random Number Generators",
    "text": "On Random Number Generators\n\n\nRandom number generators are not really random, only pseudorandom.\nThis is why setting a seed is important. But even that can go wrong…\n\n\n\n\nXKCD Cartoon 221: Random Number\n\n\n\nSource: XKCD #221"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#key-takeaways-1",
    "href": "slides/lecture06-1-monte-carlo.html#key-takeaways-1",
    "title": "Monte Carlo: Why It Works",
    "section": "Key Takeaways",
    "text": "Key Takeaways\n\nMonte Carlo estimates are unbiased;\nMonte Carlo standard error is on the order \\(1/\\sqrt{n}\\), so not great if more direct approaches are available and tractable.\nConfidence intervals based on standard error.\nNeed to decide what level of uncertainty is needed/meaningful for a given analysis."
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#next-classes",
    "href": "slides/lecture06-1-monte-carlo.html#next-classes",
    "title": "Monte Carlo: Why It Works",
    "section": "Next Classes",
    "text": "Next Classes\nWednesday: Intro to Optimization\nNext Week: Linear Programming (Monday)"
  },
  {
    "objectID": "slides/lecture06-1-monte-carlo.html#assessments",
    "href": "slides/lecture06-1-monte-carlo.html#assessments",
    "title": "Monte Carlo: Why It Works",
    "section": "Assessments",
    "text": "Assessments\nHW3: Due Thursday (10/3) at 9pm\nPrelim 1: Next Wednesday (10/9) in class, includes material through today’s lecture."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#about-me",
    "href": "slides/lecture01-1-intro.html#about-me",
    "title": "Welcome to BEE 4750/5750!",
    "section": "About Me",
    "text": "About Me\nProf. Vivek Srikrishnan, viveks at cornell dot edu, 318 Riley-Robb\n\nFrom Wappingers Falls, NY (via Champaign-Urbana, IL and State College, PA);\nNon-academic highlight: Was on Jeopardy! in 2016;\nResearches climate risk management;\nParticular interest in unintended consequences which result from neglecting uncertainty or system dynamics."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#meet-my-supervisors",
    "href": "slides/lecture01-1-intro.html#meet-my-supervisors",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Meet My Supervisors",
    "text": "Meet My Supervisors\n\n\n\n\nMy Supervisors"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#about-the-ta",
    "href": "slides/lecture01-1-intro.html#about-the-ta",
    "title": "Welcome to BEE 4750/5750!",
    "section": "About the TA",
    "text": "About the TA\nGabriela Ackermann Logan, M.S./Ph.D. student, ga345 at cornell dot edu, 319 Riley-Robb\n\nFrom New Bedford, NY (via Medford, MA)\nInterested in energy system transitions and supply chain/logistical needs."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#what-is-a-system",
    "href": "slides/lecture01-1-intro.html#what-is-a-system",
    "title": "Welcome to BEE 4750/5750!",
    "section": "What Is A System?",
    "text": "What Is A System?\nA system is:\n\n\n“an interconnected set of elements that is coherently organized in a way that achieves something…\nA system must consist of three kinds of things: elements, interconnections and a function or purpose.”\n\n\n— Donella Meadows, Thinking in Systems: A Primer, 2008"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#examples-of-systems",
    "href": "slides/lecture01-1-intro.html#examples-of-systems",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Examples of Systems",
    "text": "Examples of Systems\nCan we think of any examples of systems?\n\nWhat about things that are not systems?"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#why-are-systems-interesting",
    "href": "slides/lecture01-1-intro.html#why-are-systems-interesting",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Why Are Systems Interesting?",
    "text": "Why Are Systems Interesting?\nIn other words, a system involves an interconnected set of components.\nThose interconnections can lead to very different dynamics and outcomes than if the component processes were studied in isolation."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#example-topics",
    "href": "slides/lecture01-1-intro.html#example-topics",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Example Topics",
    "text": "Example Topics\n\n\nTopics\n\n\nDefine systems\nSimulate system dynamics\nAnalyze and assess risk\nMake decisions with optimization\nExplore trade-offs across objectives\n\n\n\n\n\nExample Systems\n\n\nAir pollution\nWastewater management\nElectric power systems\nSolid waste management"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#what-do-you-hope-to-get-out-of-this-course",
    "href": "slides/lecture01-1-intro.html#what-do-you-hope-to-get-out-of-this-course",
    "title": "Welcome to BEE 4750/5750!",
    "section": "What Do You Hope To Get Out Of This Course?",
    "text": "What Do You Hope To Get Out Of This Course?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#course-organization",
    "href": "slides/lecture01-1-intro.html#course-organization",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Course Organization",
    "text": "Course Organization\n\nIntroduction to Systems Analysis\nSimulating Systems and Risk\nSystems Management and Optimization\nDecision-Making Under Uncertainty"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#disclaimer",
    "href": "slides/lecture01-1-intro.html#disclaimer",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Disclaimer",
    "text": "Disclaimer\nSitting in class/looking at these notes is not a substitute for reading the syllabus."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#attendance",
    "href": "slides/lecture01-1-intro.html#attendance",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Attendance",
    "text": "Attendance\nNot required, but students tend to do better when they’re actively engaged in class"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#office-hours",
    "href": "slides/lecture01-1-intro.html#office-hours",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Office Hours",
    "text": "Office Hours\n\nProf. Srikrishnan: T 10-11am, W 1:30-2:30 in 318 Riley-Robb\nTA: M 1-2:30 in 319 Riley-Robb\nAlmost impossible to find a time that works for all (or even most); please feel free to email to make appointments as/if needed.\nCan be busy, will triage based on urgency (e.g. if you want code help but have not done basic debugging steps, you will be asked to wait until others are helped)."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#accomodations",
    "href": "slides/lecture01-1-intro.html#accomodations",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Accomodations",
    "text": "Accomodations\nIf you have any access barriers in this class, please seek out any helpful accomodations.\n\nGet an SDS letter.\nIf you need an accomodation before you have an official letter, please reach out to me ASAP!"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#course-website",
    "href": "slides/lecture01-1-intro.html#course-website",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Course Website",
    "text": "Course Website\nhttps://viveks.me/environmental-systems-analysis\n\nCentral hub for information, schedule, and policies\nWill add link and some information to Canvas (assignment due dates, etc)"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#communications",
    "href": "slides/lecture01-1-intro.html#communications",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Communications",
    "text": "Communications\nUse Ed Discussion for questions and discussions about class, homework assignments, etc.\n\nTry to use public posts so others can benefit from questions and can weigh in.\nI will make announcements through Ed, so check regularly.\nUrgent announcements will also be emailed.\n\nWhen urgency or privacy is required, email is ok."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#julia",
    "href": "slides/lecture01-1-intro.html#julia",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Julia",
    "text": "Julia\nIn this course, we will use the Julia programming language.\nAll assignments, labs, and AEs will be provided as Jupyter Notebooks."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#what-is-your-programming-experience",
    "href": "slides/lecture01-1-intro.html#what-is-your-programming-experience",
    "title": "Welcome to BEE 4750/5750!",
    "section": "What Is Your Programming Experience?",
    "text": "What Is Your Programming Experience?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#jupyter-notebooks",
    "href": "slides/lecture01-1-intro.html#jupyter-notebooks",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Jupyter Notebooks",
    "text": "Jupyter Notebooks\nWe will use Jupyter Notebooks for most computing tasks (including assignments).\n\nAllow for interactive evaluation of code and integration with text (including nicely typeset mathematics)\nCan export to PDF (or HTML -&gt; PDF) for submission to Gradescope.\nBe careful before submitting: Evaluate all cells in order."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#github-classroom",
    "href": "slides/lecture01-1-intro.html#github-classroom",
    "title": "Welcome to BEE 4750/5750!",
    "section": "GitHub Classroom",
    "text": "GitHub Classroom\nHomework assignments and labs will be distributed using GitHub Classroom.\n\nEvery student will have a unique “repository.”\nWhen assignment is released, I will share the link for repository creation on Ed Discussion.\nMakes it easy to share code for assistance and debugging (share links to repositories, not out-of-context code and screenshots)."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#debugging-code",
    "href": "slides/lecture01-1-intro.html#debugging-code",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Debugging Code",
    "text": "Debugging Code\n\nLook at the class FAQ!\nSearch for the error message you’re seeing.\nTry to divide code into logical “chunks” and test each one to isolate the error where there’s a syntax or conceptual error.\nPost on Ed. Do not include a screenshot, link to GitHub or provide a small snippet showing the syntax you’re trying.\nCome to office hours (last recourse!)."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#assessments",
    "href": "slides/lecture01-1-intro.html#assessments",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Assessments",
    "text": "Assessments\n\n\n\nCategory\nWeight\n\n\n\n\nParticipation\n10%\n\n\nExercises\n10%\n\n\nLabs\n10%\n\n\nHomework\n20%\n\n\nPrelims\n30%\n\n\nTerm Project\n20%"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#overall-guidelines",
    "href": "slides/lecture01-1-intro.html#overall-guidelines",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Overall Guidelines",
    "text": "Overall Guidelines\n\nCollaboration highly encouraged, but all work must reflect your own understanding\nSubmit PDFs on Gradescope\n“Standard” rubric available for HW/exams\nAlways cite external references\nCurve unlikely (not worth asking about…)"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#late-work-policy",
    "href": "slides/lecture01-1-intro.html#late-work-policy",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Late Work Policy",
    "text": "Late Work Policy\n\nMost work can be submitted up to 24 hours late at a 50% penalty.\nIf you have an approved reason (illness, injury, etc), let me know ahead of time and we will make accomodations."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#regrade-requests",
    "href": "slides/lecture01-1-intro.html#regrade-requests",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Regrade Requests",
    "text": "Regrade Requests\n\nCan be submitted on Gradescope up to 1 week after grades are released.\nMust include a brief justification.\nWill be evaluated only on the basis of the work in the submission.\nCan lose points if me/TA notice we missed a mistake initially!"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#regrade-requests-special-cases",
    "href": "slides/lecture01-1-intro.html#regrade-requests-special-cases",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Regrade Requests: Special Cases",
    "text": "Regrade Requests: Special Cases\n\nIf you (correctly) point out that your grade was graded too leniently, you will get bonus points back.\nIf a significant error (as defined by me) is found in the solutions, everyone in the class will receive full credit for that (sub)problem."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#labs",
    "href": "slides/lecture01-1-intro.html#labs",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Labs",
    "text": "Labs\n\nIn-class guided activities, but may need some time after class to complete\nFocus on “how” to apply methods and concepts from class\nIf you can’t bring a laptop to these classes, you can work with someone else\nCan work in groups, but must submit your own work.\nDue by 9:00pm on the lab day, will drop one.\nGraded on a scale of 0-3, largely based on effort."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#exercises",
    "href": "slides/lecture01-1-intro.html#exercises",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Exercises",
    "text": "Exercises\n\nAuto-graded “quizzes” on Canvas.\nFocus on conceptual questions or quick setups/calculations (no coding)\nCan submit as many times as you like.\nDue before Monday class the next week.\nWill drop one."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#homework-assignments",
    "href": "slides/lecture01-1-intro.html#homework-assignments",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Homework Assignments",
    "text": "Homework Assignments\n\n5 in total, due two weeks after assignment.\nFocus on new or extended applications\nManaged with GitHub Classroom\nDue by 9:00pm on the due date (usually Thursday)\nNo drops.\nGraded on correctness."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#term-project",
    "href": "slides/lecture01-1-intro.html#term-project",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Term Project",
    "text": "Term Project\n\nAnalyze a system of interest, including the regulatory environment, going beyond class examples/methods.\nWork in groups of 3–4, 5750 students can work alone.\nSubmit proposal on 11/1/24.\nRecord presentation by end of semester for peer review by classmates.\nSubmit report, peer reviews, group/self evaluations by end of finals week."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#participation",
    "href": "slides/lecture01-1-intro.html#participation",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Participation",
    "text": "Participation\n\nThe class works best when everyone is engaged and collaborative\n\nAttending every class;\nAsking questions in class or on Ed;\nAnswering questions in class or on Ed;\nComing to office hours.\n\nWe’re paying attention! Participation points not “free”."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#prelims",
    "href": "slides/lecture01-1-intro.html#prelims",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Prelims",
    "text": "Prelims\n\nTwo in-class prelims (10/09, 11/11);\nFocus on concepts, problem formulations, interpretation.\nExams will be scanned and put on Gradescope for grades/feedback.\nWill discuss ~two weeks after the exams after grades are returned.\nAccomodations/makeups handled through ATP."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#hopefully-not-a-concern",
    "href": "slides/lecture01-1-intro.html#hopefully-not-a-concern",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Hopefully Not a Concern…",
    "text": "Hopefully Not a Concern…\n\nCollaboration is great and is encouraged!\nKnowing how to find, evaluate, and use helpful resources is a skill we want to develop.\nDon’t just copy…learn from others and give credit.\nSubmit your own original work."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#academic-integrity-1",
    "href": "slides/lecture01-1-intro.html#academic-integrity-1",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Academic Integrity",
    "text": "Academic Integrity\nObviously, just copying down answers from Chegg or ChatGPT and passing them off as your own is not ok.\nBut often lines aren’t that simple. Let’s quickly consider some scenarios (h/t to Tony Wong for these)."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#academic-integrity-scenario-1",
    "href": "slides/lecture01-1-intro.html#academic-integrity-scenario-1",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Academic Integrity: Scenario 1",
    "text": "Academic Integrity: Scenario 1\nDan searches the internet for relevant code and copy-pastes it into his Jupyter notebook. They cites the source of the codes.\n\n\n\n\n\n\nIs this ok?\n\n\n\nProbably Not\n\nWhat portion of the work is Dan’s?\nHow important were the codes?\nDid Dan understand what they copied?"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#academic-integrity-scenario-1-1",
    "href": "slides/lecture01-1-intro.html#academic-integrity-scenario-1-1",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Academic Integrity: Scenario 1",
    "text": "Academic Integrity: Scenario 1\nDan searches the internet for relevant code and copy-pastes it into his Jupyter notebook. They cites the source of the codes.\n\n\n\n\n\n\nWhat Should Dan Do?\n\n\n\nDan should paraphrase the codes they found to incorporate them with his own code, and then also cite them."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#academic-integrity-scenario-2",
    "href": "slides/lecture01-1-intro.html#academic-integrity-scenario-2",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Academic Integrity: Scenario 2",
    "text": "Academic Integrity: Scenario 2\nMatthew and Rhonda work together to figure out how to implement the codes, but each works on their own computer and develops their own solutions.\n\n\n\n\n\n\nIs this ok?\n\n\n\nDefinitely!\n\nIndependent implementations shows understanding."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#academic-integrity-scenario-3",
    "href": "slides/lecture01-1-intro.html#academic-integrity-scenario-3",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Academic Integrity: Scenario 3",
    "text": "Academic Integrity: Scenario 3\nFelix and Rachel are working together on a problem involving a derivation. Rachel types it up in LaTeX and sends the code to Felix, who pastes it into his Jupyter notebook.\n\n\n\n\n\n\nIs this ok?\n\n\n\nLikely Not\n\nDid Felix contribute enough to the derivation?\nDefinitely not OK if Felix doesn’t give Rachel credit for their contribution."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#academic-integrity-scenario-4",
    "href": "slides/lecture01-1-intro.html#academic-integrity-scenario-4",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Academic Integrity: Scenario 4",
    "text": "Academic Integrity: Scenario 4\nDarren uses ChatGPT to debug an error in their homework code. They fix the error and credits ChatGPT in his References section.\n\n\n\n\n\n\nIs this ok?\n\n\n\nWell-meaning, but no!\n\nUsing ChatGPT (or other ML tools) can be ok, but…\nNeed to ask permission and thoroughly document the query and the exact response."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#chatgpt-the-stochastic-parrot",
    "href": "slides/lecture01-1-intro.html#chatgpt-the-stochastic-parrot",
    "title": "Welcome to BEE 4750/5750!",
    "section": "ChatGPT: The Stochastic Parrot",
    "text": "ChatGPT: The Stochastic Parrot\n\n\nThink of ChatGPT as a ranting drunk: It’s stringing together words or code it heard in a way that sounds reasonable, but there’s no sense of concept.\nChatGPT debugging can be useful: Think of it as an approximation of a Google search. But it can also lead to new errors with no clear way to fix them, since you don’t understand what you did.\nHallucinations: ChatGPT often just makes stuff up. Do you want your grade to involve a ChatGPT hallucination?"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#ai-policy",
    "href": "slides/lecture01-1-intro.html#ai-policy",
    "title": "Welcome to BEE 4750/5750!",
    "section": "AI Policy",
    "text": "AI Policy\nUsing AI tools is not prohibited. But:\n\nUse them thoughtfully;\nAsk permission before using;\nCarefully document your query and the output, or we can’t distinguish LLM output from your own understanding."
  },
  {
    "objectID": "slides/lecture01-1-intro.html#next-classes",
    "href": "slides/lecture01-1-intro.html#next-classes",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Next Classes",
    "text": "Next Classes\nWednesday: Lab 1: Julia and GitHub basics.\n\nLab 1 link is available on Ed. Click it to accept the lab before class.\nFollow setup instructions on website: choose whether you’d like to try local or remote workflows (this isn’t a permanent decision!).\n\nNext Week: Introduction to Systems Analysis"
  },
  {
    "objectID": "slides/lecture01-1-intro.html#assessments-1",
    "href": "slides/lecture01-1-intro.html#assessments-1",
    "title": "Welcome to BEE 4750/5750!",
    "section": "Assessments",
    "text": "Assessments\n\nLab 1: Wednesday\nHW 1: Available, due 9/6."
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#monte-carlo",
    "href": "slides/lecture06-2-prescriptive-modeling.html#monte-carlo",
    "title": "Prescriptive Modeling",
    "section": "Monte Carlo",
    "text": "Monte Carlo\n\nStochastic simulation of \\(Y = f(X)\\)\nUseful to compute expected values of quantities (integrals)\nMonte Carlo Estimate of \\(\\mu = \\mathbb{E}[Y]\\): \\[\\tilde{\\mu}_n = \\mathbb{E}[\\{Y_1, \\ldots, Y_n\\}]\\]"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#why-monte-carlo-works",
    "href": "slides/lecture06-2-prescriptive-modeling.html#why-monte-carlo-works",
    "title": "Prescriptive Modeling",
    "section": "Why Monte Carlo Works",
    "text": "Why Monte Carlo Works\n\nUnbiased estimates (across multiple samples)\nConvergence of single sample:\n\nLaw of Large Numbers\n\nConfidence Intervals:\n\nStandard error: \\(\\sigma_Y / \\sqrt{n}\\)\nCentral Limit Theorem: \\[\\tilde{\\mu} \\sim \\mathcal{N}\\left(0, \\frac{\\sigma_Y^2}{n}\\right)\\]"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#questions",
    "href": "slides/lecture06-2-prescriptive-modeling.html#questions",
    "title": "Prescriptive Modeling",
    "section": "Questions?",
    "text": "Questions?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#prescriptive-modeling-1",
    "href": "slides/lecture06-2-prescriptive-modeling.html#prescriptive-modeling-1",
    "title": "Prescriptive Modeling",
    "section": "Prescriptive Modeling",
    "text": "Prescriptive Modeling\nIf we want to design a treatment strategy, we are now in the world of prescriptive modeling.\nRecall: Precriptive modeling is intended to specify an action, policy, or decision.\n\n\nDescriptive modeling question: “What happens if I do something?”\nPrescriptive modeling question: “What should I do?”"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#decision-models",
    "href": "slides/lecture06-2-prescriptive-modeling.html#decision-models",
    "title": "Prescriptive Modeling",
    "section": "Decision Models",
    "text": "Decision Models\nTo make a decision, we need certain pieces of information which:\n\ndefine decision options (or alternatives);\nprovide one or more objectives to assess performance;\nspecify constraints to tell us what decisions are possible or acceptable."
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#objectives",
    "href": "slides/lecture06-2-prescriptive-modeling.html#objectives",
    "title": "Prescriptive Modeling",
    "section": "Objectives",
    "text": "Objectives\nTypical objectives can include:\n\nMinimizing costs (or maximizing profits);\nMinimizing environmental impacts;\nMaximizing some other performance metric."
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#decision-modeling-for-wastewater-treatment",
    "href": "slides/lecture06-2-prescriptive-modeling.html#decision-modeling-for-wastewater-treatment",
    "title": "Prescriptive Modeling",
    "section": "Decision Modeling for Wastewater Treatment",
    "text": "Decision Modeling for Wastewater Treatment\n\n\n\n\n\nWastewater Release Model\n\n\n\nGoal: Identify treatment levels for each factory which ensure compliance with regulatory standard of \\(1 \\ \\text{mg}/\\text{L}\\)."
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#optimization-problem-formulation",
    "href": "slides/lecture06-2-prescriptive-modeling.html#optimization-problem-formulation",
    "title": "Prescriptive Modeling",
    "section": "Optimization Problem Formulation",
    "text": "Optimization Problem Formulation\nNeed 3 components:\n\nDecision variable(s)\nObjective function(s)\nConstraint(s)"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#decision-variables",
    "href": "slides/lecture06-2-prescriptive-modeling.html#decision-variables",
    "title": "Prescriptive Modeling",
    "section": "Decision Variables",
    "text": "Decision Variables\n\n\n\n\n\nWastewater Release Model\n\n\n\nWhat are the decision variables?"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#formulating-the-objective",
    "href": "slides/lecture06-2-prescriptive-modeling.html#formulating-the-objective",
    "title": "Prescriptive Modeling",
    "section": "Formulating The Objective",
    "text": "Formulating The Objective\nWhat might our objective be?\nWhat information do we need?\n\nSuppose treatment costs \\[\\$50 E^2 \\text{ per } 1000 \\ \\text{m}^3,\\] where \\(E\\) is the treatment efficiency."
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#objectives-and-metrics",
    "href": "slides/lecture06-2-prescriptive-modeling.html#objectives-and-metrics",
    "title": "Prescriptive Modeling",
    "section": "Objectives and Metrics",
    "text": "Objectives and Metrics\nObjectives are goals, such as “minimize cost” or “maximize environmental quantity”.\nMetrics are functions which measure some relevant quantity, in this case the specific cost function.\nMany different metrics can be used to specify an objective function!"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#objective-function",
    "href": "slides/lecture06-2-prescriptive-modeling.html#objective-function",
    "title": "Prescriptive Modeling",
    "section": "Objective Function",
    "text": "Objective Function\nThe objective function includes a goal and a metric:\n\\[\\begin{align*}\n\\min_{E_1, E_2} \\quad &50(100)E_1^2 + 50(60)E_2^2 \\\\\n= \\min_{E_1, E_2} \\quad &5000E_1^2 + 3000E_2^2.\n\\end{align*}\\]"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#identifying-constraints",
    "href": "slides/lecture06-2-prescriptive-modeling.html#identifying-constraints",
    "title": "Prescriptive Modeling",
    "section": "Identifying Constraints",
    "text": "Identifying Constraints\n\n\n\n\n\nWastewater Release Model\n\n\n\nWhat are relevant constraints?\nWhat information do we need?"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#constraint-for-first-segment",
    "href": "slides/lecture06-2-prescriptive-modeling.html#constraint-for-first-segment",
    "title": "Prescriptive Modeling",
    "section": "Constraint for First Segment",
    "text": "Constraint for First Segment\nWhere does the maximum value of the first segment occur?\n\n\n\nWastewater Schematic"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#constraint-for-first-segment-1",
    "href": "slides/lecture06-2-prescriptive-modeling.html#constraint-for-first-segment-1",
    "title": "Prescriptive Modeling",
    "section": "Constraint for First Segment",
    "text": "Constraint for First Segment\nWhere does the maximum value of the first segment occur?\n\n\\[100 + 1000(1-E_1) \\leq 600 \\]\n\n\\[\\Rightarrow \\boxed{1000E_1 \\geq 500}\\]"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#constraint-for-second-segment",
    "href": "slides/lecture06-2-prescriptive-modeling.html#constraint-for-second-segment",
    "title": "Prescriptive Modeling",
    "section": "Constraint for Second Segment",
    "text": "Constraint for Second Segment\nWhat is the concentration at the second release with treatment level \\(E_2\\)?\n\n\n\nWastewater Schematic"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#constraint-for-second-segment-1",
    "href": "slides/lecture06-2-prescriptive-modeling.html#constraint-for-second-segment-1",
    "title": "Prescriptive Modeling",
    "section": "Constraint for Second Segment",
    "text": "Constraint for Second Segment\nWhat is the concentration at the second release with treatment level \\(E_2\\)?\n\n\\[(1100 - 1000E_1) \\exp(-0.18) + 1200(1 - E_2) \\leq 660 \\]\n\n\\[\\begin{aligned}\n(1100 - 1000E_1) 0.835 + 1200(1 - E_2) &\\leq 660  \\\\[0.5em]\n2119 - 835E_1 - 1200E_2 &\\leq 660\n\\end{aligned}\\]\n\n\\[\\Rightarrow \\boxed{835E_1 + 1200E_2 \\geq 1459}\\]"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#additional-constraints",
    "href": "slides/lecture06-2-prescriptive-modeling.html#additional-constraints",
    "title": "Prescriptive Modeling",
    "section": "Additional Constraints?",
    "text": "Additional Constraints?\nWe have two concentration compliance constraints:\n\\[\\begin{align*}\n1000 E_1  &\\geq 500\\\\[0.5em]\n835E_1 + 1200E_2  &\\geq 1459\n\\end{align*}\\]\nAre these a complete set?"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#boundary-constraints",
    "href": "slides/lecture06-2-prescriptive-modeling.html#boundary-constraints",
    "title": "Prescriptive Modeling",
    "section": "Boundary Constraints",
    "text": "Boundary Constraints\nWe need to add boundary constraints for \\(E_1\\), \\(E_2\\) to avoid implausible treatment levels.\n\\[\\begin{align*}\n1000 E_1  &\\geq 500\\\\[0.5em]\n835E_1 + 1200E_2  &\\geq 1459\\\\[0.5em]\n\\color{purple}E_1, E_2 &\\;\\color{purple}\\geq 0 \\\\[0.5em]\n\\color{purple}E_1, E_2 &\\;\\color{purple}\\leq 1\n\\end{align*}\\]"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#final-problem",
    "href": "slides/lecture06-2-prescriptive-modeling.html#final-problem",
    "title": "Prescriptive Modeling",
    "section": "Final Problem",
    "text": "Final Problem\n\\[\\begin{alignat}{3}\n& \\min_{E_1, E_2} &\\quad  5000E_1^2 + 3000E_2^2 &  \\\\\\\\\n& \\text{subject to:} & 1000 E_1 &\\geq 500 \\\\\n& & 835E_1 + 1200E_2 &\\geq 1459 \\\\\n& & E_1, E_2 &\\;\\geq 0 \\\\\n& & E_1, E_2 &\\;\\leq 1\n\\end{alignat}\\]"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#plotting-the-decision-space",
    "href": "slides/lecture06-2-prescriptive-modeling.html#plotting-the-decision-space",
    "title": "Prescriptive Modeling",
    "section": "Plotting the Decision Space",
    "text": "Plotting the Decision Space"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#plotting-the-feasible-region",
    "href": "slides/lecture06-2-prescriptive-modeling.html#plotting-the-feasible-region",
    "title": "Prescriptive Modeling",
    "section": "Plotting the Feasible Region",
    "text": "Plotting the Feasible Region"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#the-solution",
    "href": "slides/lecture06-2-prescriptive-modeling.html#the-solution",
    "title": "Prescriptive Modeling",
    "section": "The Solution!",
    "text": "The Solution!\nSo the solution occurs at the intersection of the two constraints, where:\n\\[E_1 = 0.5, E_2 = 0.85\\]\nand the cost of this treatment plan is\n\\[C(0.5, 0.85) = \\$ 3417.\\]\nDoes this solution make sense?"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#waste-load-allocation-problem",
    "href": "slides/lecture06-2-prescriptive-modeling.html#waste-load-allocation-problem",
    "title": "Prescriptive Modeling",
    "section": "Waste Load Allocation Problem",
    "text": "Waste Load Allocation Problem\nThis is an example of a waste load allocation problem.\nEach source is allocated a “load” they can discharge based on waste fate and transport."
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#waste-load-allocation-problem-1",
    "href": "slides/lecture06-2-prescriptive-modeling.html#waste-load-allocation-problem-1",
    "title": "Prescriptive Modeling",
    "section": "Waste Load Allocation Problem",
    "text": "Waste Load Allocation Problem\nWaste loads affect quality \\(Q\\) based on F&T model:\n\\[Q=f(W_1, W_2, \\ldots, W_n)\\]\nSo the general form for a prescriptive waste load allocation model:\n\\[\\begin{aligned}\n\\text{determine} & \\quad  W_1, W_2, \\ldots, W_n \\notag \\\\\\\\\n\\text{subject to:} & \\quad f(W_1, W_2, \\ldots, W_n) \\geq Q^* \\notag\n\\end{aligned}\\]"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#key-takeaways-1",
    "href": "slides/lecture06-2-prescriptive-modeling.html#key-takeaways-1",
    "title": "Prescriptive Modeling",
    "section": "Key Takeaways",
    "text": "Key Takeaways\n\nPrescriptive modeling involves decision models.\nKey components of a decision model:\n\nObjectives;\nConstraints.\n\nNeed to bring to bear relevant engineering, economic, and environmental information to formulate these."
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#next-classes",
    "href": "slides/lecture06-2-prescriptive-modeling.html#next-classes",
    "title": "Prescriptive Modeling",
    "section": "Next Classes",
    "text": "Next Classes\nMonday: Optimization Algorithms and Linear Programming\nWednesday: Prelim 1"
  },
  {
    "objectID": "slides/lecture06-2-prescriptive-modeling.html#assessments",
    "href": "slides/lecture06-2-prescriptive-modeling.html#assessments",
    "title": "Prescriptive Modeling",
    "section": "Assessments",
    "text": "Assessments\nHW3: Due Thursday (10/3) at 9pm\nPrelim 1: Next Wednesday (10/9) in class, includes material through Monte Carlo lecture."
  },
  {
    "objectID": "slides/notebooks/dissolved-oxygen.html",
    "href": "slides/notebooks/dissolved-oxygen.html",
    "title": "BEE 4750 - Fall 2024",
    "section": "",
    "text": "---\ntitle: \"Dissolved Oxygen\"\nauthor: \"Vivek Srikrishnan\"\ndate: \"5/13/2023\"\nformat:\n  html:\n    code-fold: true\n  ipynb: default\njupyter: julia-1.9\n---\n\nErrorException: syntax: invalid operator \"--\"\nsyntax: invalid operator \"--\"\n\n\n\nStacktrace:\n\n [1] top-level scope\n\n   @ ~/Teaching/environmental-systems-analysis/website/slides/notebooks/dissolved-oxygen.ipynb:1\n\n\n\nimport Pkg\nPkg.activate(\"..\")\nPkg.instantiate()\n\n  Activating project at `~/Teaching/environmental-systems-analysis/website/slides`\n\n\n\nusing Plots\nusing Measures\nusing LaTeXStrings\n\nA first-order model for dissolved oxygen (DO) is\n\\[\\begin{align}\nU \\frac{dC}{dx} &= k_a (C_s - C) + P - R - S_B - k_cB_0\\exp\\left(\\frac{-k_cx}{U}\\right) - k_n N_0\\exp\\left(\\frac{-k_nx}{U}\\right)\n\\end{align}\\]\nwhich has solution\n\\[C(x) = C_s(1 - \\alpha_1) + C_0 \\alpha_1 - B_0 \\alpha_2 - N_0 \\alpha_3 + \\left(\\frac{P-R-S_B}{k_a}\\right) (1-\\alpha_1),\\]\nbut we’ll ignore \\(P\\), \\(R\\), and \\(S_B\\) as these just modify \\(C_s\\).\n\n## function to simulate DO given parameters\n\nfunction do_simulate(x, C0, B0, N0, ka, kn, kc, Cs, U)\n    B = B0 .* exp.(-kc .* x ./ U)\n    N = N0 .* exp.(-kn .* x ./ U)\n    alpha1 = exp.(-ka .* x ./ U)\n    alpha2 = (kc/(ka-kc)) .* (exp.(-kc .* x / U) - exp.(-ka .* x / U))\n    alpha3 = (kn/(ka-kn)) .* (exp.(-kn .* x / U) - exp.(-ka .* x / U))\n    C = Cs .* (1 .- alpha1) + (C0 .* alpha1) - (B0 .* alpha2) - (N0 .* alpha3)\n    return (C, B, N)\nend  \n\ndo_simulate (generic function with 1 method)\n\n\n\n\nka = 0.8\nkc = 0.4\nkn = 0.25\n\nx = 0:40\n\nC, B, N = do_simulate(x, 12, 10, 6, ka, kc, kn, 10, 6)\n\n([12.0, 11.00645310548937, 10.175859173274619, 9.485735592776512, 8.916529246889715, 8.451243511008714, 8.075112259659466, 7.7753149851202945, 7.540727870097758, 7.3617063020117754  …  8.192305787065738, 8.267173709636479, 8.339934969497461, 8.410487111173717, 8.47875989610827, 8.544710197112913, 8.608317593145037, 8.669580573208266, 8.72851326979175, 8.785142652415068], [10.0, 9.591894571091382, 9.200444146293233, 8.824969025845954, 8.464817248906142, 8.11936346150635, 7.788007830714049, 7.470175003104326, 7.1653131057378925, 6.872892787909723  …  2.748123805594897, 2.6359713811572676, 2.5283959580474646, 2.425210746356487, 2.326236579172927, 2.231301601484298, 2.140240971774475, 2.052896575799093, 1.9691167520419406, 1.8887560283756186], [6.0, 5.613041910189707, 5.251039914257685, 4.912384518467891, 4.595570030187892, 4.299187863442736, 4.0219202762138355, 3.7625345116383366, 3.5198773170601907, 3.292869816564159  …  0.7596426167345016, 0.7106509740828222, 0.6648189501740032, 0.6219427716691671, 0.5818318071864303, 0.5443077197364751, 0.5092036738201045, 0.47636359366246933, 0.44564146928600323, 0.4169007073368093])\n\n\n\np1 = plot(x, C, grid=false, color=:black, ylabel=\"DO/OD (mg/l)\", xlabel=\"Distance (km)\", label=\"DO\", linewidth=3, left_margin=8mm, top_margin=10mm, guidefontsize=16, legendfontsize=16, tickfontsize=14, xticks=:false, yticks=:false, legend=:right)\nplot!(x, B, color=:green, label=\"CBOD\", linestyle=:dash, linewidth=3)\nplot!(x, N, color=:blue, label=\"NBOD\", linestyle=:dash, linewidth=3)\nplot!(x, 10 * ones(length(x)), color=:purple, label=L\"C_s\", linestyle=:dot, linewidth=3)\n\nannotate!(1.5, 12.75, text(\"Waste Discharge\", pointsize=16, color=:red))\nvline!([0], color=:red, linewidth=2, label=:false)\nplot!(size=(700, 500))\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Sag curve for dissolved oxygen.\n\n\n\n\n\nC0 = 6.2\nB0 = 9\nN0 = 7\n\nka = 0.8\nkc = 0.5\nkn = 0.4\nCs = 7\nU = 5\n\n5\n\n\n\nfunction dissolved_oxygen(x, Cs, C0, B0, N0, ka, kc, kn, U)\n    α1 = exp(-ka * x / U)\n    α2 = (kc / (ka - kc)) * (exp(-kc * x / U) - α1)\n    α3 = (kn / (ka - kn)) * (exp(-kn * x / U) - α1)\n    C = (Cs * (1 - α1)) + (C0 * α1) - (B0 * α2) - (N0 * α3)\n    return C\nend\n\nx = 0:0.1:20\nC = (y -&gt; dissolved_oxygen(y, Cs, C0, B0, N0, ka, kc, kn, U)).(x)\n\n\n\nCode\nplot(x, C; linewidth=3, \n    label=\"Dissolved Oxygen\", \n    tickfontsize=16, \n    guidefontsize=16, \n    legendfontsize=16)\nxlabel!(L\"$x$ (km)\")\nylabel!(\"DO Concentration (mg/L)\")\nhline!([3], color=:red, \n    linestyle=:dash, \n    label=\"Regulatory Standard\")\nplot!(size=(500, 500))\n\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Single-Release Dissolved Oxygen Example\n\n\n\n\n\nQ1 = 100000\nQ2 = 20000\nQ3 = 25000\n\nx0 = 0\nx1 = 18\nx2 = 30\nx3 = 45\n\nC01 = 6\nB01 = 5\nN01 = 4.5\n\nC1, B1, N1 = do_simulate(x0:x1, C01, B01, N01, ka, kc, kn, 9, 6)\n\nC02 = (C1[length(C1)] * Q1 + 3 * Q2) / (Q1 + Q2)\nB02 = (B1[length(B1)] * Q1 + 50 * Q2) / (Q1 + Q2)\nN02 = (N1[length(N1)] * Q1 + 45 * Q2) / (Q1 + Q2)\n\nC2, B2, N2 = do_simulate(x0:(x2-x1), C02, B02, N02, ka, kc, kn, 9, 6)\n\nC03 = (C2[length(C2)] * (Q1 + Q2) + 4 * Q3) / (Q1 + Q2 + Q3)\nB03 = (B2[length(B2)] * (Q1 + Q2) + 40 * Q3) / (Q1 + Q2 + Q3)\nN03 = (N2[length(N2)] * (Q1 + Q2) + 30 * Q3) / (Q1 + Q2 + Q3)\n\nC3, B3, N3 = do_simulate(x0:(x3-x2), C03, B03, N03, ka, kc, kn, 9, 6)\n\nplot(x0:x1, C1, grid=false, color=:black, ylabel=\"DO (mg/L)\", xlabel=\"Distance (km)\", label=\"DO\", xticks=:false, yticks=:false, linewidth=3, left_margin=12mm, top_margin=10mm, bottom_margin=20mm, guidefontsize=16, tickfontsize=16, legendfontsize=16)\nplot!(x1:x2, C2, color=:black, label=false, linewidth=3)\nplot!(x2:x3, C3, color=:black, label=false, linewidth=3)\nplot!(size=(1200, 500))\n\nvline!([x0, x1, x2], color=:green, linewidth=3, label=\"Discharge\")\nhline!([3], color=:red, linewidth=3, label=\"Regulation\", linestyle=:dash)\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: Multi-Release Dissolved Oxygen Example"
  },
  {
    "objectID": "slides/notebooks/economic-dispatch.html",
    "href": "slides/notebooks/economic-dispatch.html",
    "title": "Economic Dispatch with JuMP",
    "section": "",
    "text": "Code\nusing Pkg\nPkg.activate(dirname(@__DIR__))\nPkg.instantiate()\n\n\n  Activating project at `~/Teaching/environmental-systems-analysis/website/slides`\nCode\nusing DataFrames\nusing LaTeXStrings\nusing PrettyTables\nusing JuMP\nusing HiGHS\nusing Plots\nusing Measures"
  },
  {
    "objectID": "slides/notebooks/economic-dispatch.html#overview-of-economic-dispatch",
    "href": "slides/notebooks/economic-dispatch.html#overview-of-economic-dispatch",
    "title": "Economic Dispatch with JuMP",
    "section": "Overview of Economic Dispatch",
    "text": "Overview of Economic Dispatch\nA key goal in power systems operations is how to meet demand by generating electricity from a variety of generators with varying costs and engineering constraints, including: * ramping limits; * minimum/maximum power outputs; * network constraints (we will ignore these here).\nEconomic dispatch refers to solving this problem with an objective of minimizing total costs of production. Economic dispatch is typically formulated as a linear programming problem, and we will use JuMP to formulate and solve it for a simple portfolio of generators over: * a single period * multiple periods with ramping constraints."
  },
  {
    "objectID": "slides/notebooks/economic-dispatch.html#single-period-economic-dispatch",
    "href": "slides/notebooks/economic-dispatch.html#single-period-economic-dispatch",
    "title": "Economic Dispatch with JuMP",
    "section": "Single-Period Economic Dispatch",
    "text": "Single-Period Economic Dispatch\nLet’s say that we have a fleet of the following generators.\n\n\nCode\nheader = [\"Plant\", \"P&lt;sub&gt;min&lt;/sub&gt; (MW)\", \"P&lt;sub&gt;max&lt;/sub&gt; (MW)\", \"VarCost (\\$/MW)\"]\ngen_names = [\"Hydro\", \"Wind\", \"Nuclear\", \"Coal\", \"Natural Gas\"]\ngen_minpower = [0, 0, 200, 160, 40]\ngen_maxpower = [150, 200, 1000, 700, 500]\ngen_varcost = [0, 0, 2, 21.50, 23]\ngen_data = DataFrame(name=gen_names, Pmin=gen_minpower, Pmax=gen_maxpower, varcost=gen_varcost)\npretty_table(gen_data; backend = Val(:html), header=header, allow_html_in_cells=true)\n\n\n\n\n\nPlant\nPmin (MW)\nPmax (MW)\nVarCost ($/MW)\n\n\n\n\nHydro\n0\n150\n0.0\n\n\nWind\n0\n200\n0.0\n\n\nNuclear\n200\n1000\n2.0\n\n\nCoal\n160\n700\n21.5\n\n\nNatural Gas\n40\n500\n23.0\n\n\n\n\n\nLet’s also assume that demand in this period is 1800 MW."
  },
  {
    "objectID": "slides/notebooks/economic-dispatch.html#jump-formulation",
    "href": "slides/notebooks/economic-dispatch.html#jump-formulation",
    "title": "Economic Dispatch with JuMP",
    "section": "JuMP Formulation",
    "text": "JuMP Formulation\n\n\nCode\ndemand = 1800\n\nG = 1:nrow(gen_data)\ndispatch = Model(HiGHS.Optimizer)\n@variable(dispatch, gen_minpower[g] &lt;= y[g in G] &lt;= gen_maxpower[g])\n@objective(dispatch, Min, sum(gen_varcost .* y))\n@constraint(dispatch, load, sum(y) == demand)\n\nlatex_formulation(dispatch)\n\n\n\\[ \\begin{aligned}\n\\min\\quad & 2 y_{3} + 21.5 y_{4} + 23 y_{5}\\\\\n\\text{Subject to} \\quad & y_{1} + y_{2} + y_{3} + y_{4} + y_{5} = 1800.0\\\\\n& y_{1} \\geq 0.0\\\\\n& y_{2} \\geq 0.0\\\\\n& y_{3} \\geq 200.0\\\\\n& y_{4} \\geq 160.0\\\\\n& y_{5} \\geq 40.0\\\\\n& y_{1} \\leq 150.0\\\\\n& y_{2} \\leq 200.0\\\\\n& y_{3} \\leq 1000.0\\\\\n& y_{4} \\leq 700.0\\\\\n& y_{5} \\leq 500.0\\\\\n\\end{aligned} \\]\n\n\n\n\nCode\nset_silent(dispatch)\noptimize!(dispatch)\n\n\n\n\nCode\ngen_sol = value.(y).data\nresults = DataFrame(name=gen_names, dispatch=gen_sol\n, pmin=gen_minpower, pmax=gen_maxpower)\nresults_header = [\"Plant\", \"Dispatch (MW)\", \"P&lt;sub&gt;min&lt;/sub&gt; (MW)\", \"P&lt;sub&gt;max&lt;/sub&gt; (MW)\"]\npretty_table(results; backend = Val(:html), header=results_header, allow_html_in_cells=true)\n\n\n\n\n\nPlant\nDispatch (MW)\nPmin (MW)\nPmax (MW)\n\n\n\n\nHydro\n150.0\n0\n150\n\n\nWind\n200.0\n0\n200\n\n\nNuclear\n1000.0\n200\n1000\n\n\nCoal\n410.0\n160\n700\n\n\nNatural Gas\n40.0\n40\n500\n\n\n\n\n\n\nMarginal Generators\nOnce we hit the minimum for each generator, we then “fill up” capacity from lowest-cost generators first, then move on.\nFor this problem, the coal generator is the marginal generator. If we had used all of our coal capacity, the natural gas unit would be the marginal generator. The concept of the marginal generator is important, as the marginal generation unit sets the price of electricity.\n\n\nMerit Order and the Dispatch Stack\nThis procedure of starting with the lowest-cost generation and adding generation sequentially from generators in order of cost is the concept of merit order: plants are scheduled to supply additional electricity based (mostly) on their variable costs. We can visualize the supply curve (or the dispatch stack) to see the order in which electricity is dispatched.\n\n\nCode\nsupply_curve = DataFrame( \n    name = gen_names, \n    pmin = gen_minpower, \n    cap = gen_maxpower .- gen_minpower,\n    varcost = gen_varcost \n)\n\nsort!(supply_curve, [:varcost, order(:cap, rev=true)])\n\n\n5×4 DataFrame\n\n\n\nRow\nname\npmin\ncap\nvarcost\n\n\n\nString\nInt64\nInt64\nFloat64\n\n\n\n\n1\nWind\n0\n200\n0.0\n\n\n2\nHydro\n0\n150\n0.0\n\n\n3\nNuclear\n200\n800\n2.0\n\n\n4\nCoal\n160\n540\n21.5\n\n\n5\nNatural Gas\n40\n460\n23.0\n\n\n\n\n\n\n\n\nCode\nrectangle(w, h, x, y) = Shape(x .+ [0,w,w,0], y .+ [0,0,h,h]) \n\np = plot(grid=:false, color_palette=:tol_muted, legend=:left, legendfontsize=20, tickfontsize=20, guidefontsize=20) \nmarg_gen = 0 \nmarg_price = 0 \nx = 0 \n\nplot!(p, rectangle(sum(supply_curve.pmin), 0.5, x, 0), opacity=.5, label = \"minimum\", color=\"black\") \nx = x + sum(supply_curve.pmin) \nfor i in 1:nrow(supply_curve) \n    if supply_curve[i, :varcost] == 0 \n        plot!(p, rectangle(supply_curve[i, :cap], 0.5,x,0), opacity=.5, label = supply_curve[i, :name]) \n    else \n        plot!(p, rectangle(supply_curve[i, :cap], supply_curve[i, :varcost],x,0), opacity=.5, label = supply_curve[i, :name]) \n    end \n    if (x &lt; demand) && (x + supply_curve[i,:cap] &gt; demand) \n        marg_gen = i \n        marg_price = supply_curve[i,:varcost] \n    end \n    x = x + supply_curve[i,:cap] \nend \nvline!([demand],linecolor=\"black\",linewidth=5, linestyle=:dash, label = \"demand\") \nhline!([marg_price],linecolor=\"blue\", linestyle=:dot, linewidth=5, label = \"Electricity Price\") \nxlabel!(\"Capacity (MW)\") \nylabel!(\"Marginal Cost (\\$/MW)\") \nplot!(size=(800, 600))\nplot!(right_margin=13mm, left_margin=5mm, bottom_margin=5mm)"
  },
  {
    "objectID": "slides/notebooks/economic-dispatch.html#multiple-period-dispatch",
    "href": "slides/notebooks/economic-dispatch.html#multiple-period-dispatch",
    "title": "Economic Dispatch with JuMP",
    "section": "Multiple-Period Dispatch",
    "text": "Multiple-Period Dispatch\nWhat changes for multiple periods?\n\nNeed to meet demand at every time period\nWe have additional ramping constraints: plants can only increase and decrease their output by so much from time to time, by \\(R_g\\).\n\n\nJuMP Implementation\n\n\nCode\nramp = [150, 200, 100, 250, 300]\ndemand = [1725, 1596, 1476, 1408, 1530, 1714, 1820, 1973, 2081, 2202, 2105, 2065, \n    2045, 2195, 2309, 2390, 2486, 2515, 2075, 2006, 1956, 1902, 1865, 1820]\nh = length(demand)\nT = 1:h\n\ndispatch2 = Model(HiGHS.Optimizer)\n@variable(dispatch2, gen_minpower[g] &lt;= y[g in G, t in T] &lt;= gen_maxpower[g])\n@objective(dispatch2, Min, sum(gen_varcost .* sum([y[:, t] for t in T])))\n@constraint(dispatch2, load[t in T], sum(y[:, t]) == demand[t])\n@constraint(dispatch2, rampup[g in G, t in 1:h-1], y[g, t+1] - y[g, t] &lt;= ramp[g])\n@constraint(dispatch2, rampdown[g in G, t in 1:h-1], y[g, t] - y[g, t+1] &lt;= ramp[g])\n\nlatex_formulation(dispatch2)\n\n\n\\[ \\begin{aligned}\n\\min\\quad & 2 y_{3,1} + 2 y_{3,2} + 2 y_{3,3} + 2 y_{3,4} + 2 y_{3,5} + 2 y_{3,6} + 2 y_{3,7} + 2 y_{3,8} + 2 y_{3,9} + 2 y_{3,10} + 2 y_{3,11} + 2 y_{3,12} + 2 y_{3,13} + 2 y_{3,14} + 2 y_{3,15} + 2 y_{3,16} + 2 y_{3,17} + 2 y_{3,18} + 2 y_{3,19} + 2 y_{3,20} + 2 y_{3,21} + 2 y_{3,22} + 2 y_{3,23} + 2 y_{3,24} + 21.5 y_{4,1} + 21.5 y_{4,2} + 21.5 y_{4,3} + 21.5 y_{4,4} + 21.5 y_{4,5} + 21.5 y_{4,6} + 21.5 y_{4,7} + 21.5 y_{4,8} + 21.5 y_{4,9} + 21.5 y_{4,10} + 21.5 y_{4,11} + 21.5 y_{4,12} + 21.5 y_{4,13} + 21.5 y_{4,14} + 21.5 y_{4,15} + 21.5 y_{4,16} + 21.5 y_{4,17} + 21.5 y_{4,18} + 21.5 y_{4,19} + 21.5 y_{4,20} + 21.5 y_{4,21} + 21.5 y_{4,22} + 21.5 y_{4,23} + 21.5 y_{4,24} + 23 y_{5,1} + 23 y_{5,2} + 23 y_{5,3} + 23 y_{5,4} + 23 y_{5,5} + 23 y_{5,6} + 23 y_{5,7} + 23 y_{5,8} + 23 y_{5,9} + 23 y_{5,10} + 23 y_{5,11} + 23 y_{5,12} + 23 y_{5,13} + 23 y_{5,14} + 23 y_{5,15} + 23 y_{5,16} + 23 y_{5,17} + 23 y_{5,18} + 23 y_{5,19} + 23 y_{5,20} + 23 y_{5,21} + 23 y_{5,22} + 23 y_{5,23} + 23 y_{5,24}\\\\\n\\text{Subject to} \\quad & y_{1,1} + y_{2,1} + y_{3,1} + y_{4,1} + y_{5,1} = 1725.0\\\\\n& y_{1,2} + y_{2,2} + y_{3,2} + y_{4,2} + y_{5,2} = 1596.0\\\\\n& y_{1,3} + y_{2,3} + y_{3,3} + y_{4,3} + y_{5,3} = 1476.0\\\\\n& y_{1,4} + y_{2,4} + y_{3,4} + y_{4,4} + y_{5,4} = 1408.0\\\\\n& y_{1,5} + y_{2,5} + y_{3,5} + y_{4,5} + y_{5,5} = 1530.0\\\\\n& y_{1,6} + y_{2,6} + y_{3,6} + y_{4,6} + y_{5,6} = 1714.0\\\\\n& y_{1,7} + y_{2,7} + y_{3,7} + y_{4,7} + y_{5,7} = 1820.0\\\\\n& y_{1,8} + y_{2,8} + y_{3,8} + y_{4,8} + y_{5,8} = 1973.0\\\\\n& y_{1,9} + y_{2,9} + y_{3,9} + y_{4,9} + y_{5,9} = 2081.0\\\\\n& y_{1,10} + y_{2,10} + y_{3,10} + y_{4,10} + y_{5,10} = 2202.0\\\\\n& y_{1,11} + y_{2,11} + y_{3,11} + y_{4,11} + y_{5,11} = 2105.0\\\\\n& y_{1,12} + y_{2,12} + y_{3,12} + y_{4,12} + y_{5,12} = 2065.0\\\\\n& y_{1,13} + y_{2,13} + y_{3,13} + y_{4,13} + y_{5,13} = 2045.0\\\\\n& y_{1,14} + y_{2,14} + y_{3,14} + y_{4,14} + y_{5,14} = 2195.0\\\\\n& y_{1,15} + y_{2,15} + y_{3,15} + y_{4,15} + y_{5,15} = 2309.0\\\\\n& y_{1,16} + y_{2,16} + y_{3,16} + y_{4,16} + y_{5,16} = 2390.0\\\\\n& y_{1,17} + y_{2,17} + y_{3,17} + y_{4,17} + y_{5,17} = 2486.0\\\\\n& y_{1,18} + y_{2,18} + y_{3,18} + y_{4,18} + y_{5,18} = 2515.0\\\\\n& y_{1,19} + y_{2,19} + y_{3,19} + y_{4,19} + y_{5,19} = 2075.0\\\\\n& y_{1,20} + y_{2,20} + y_{3,20} + y_{4,20} + y_{5,20} = 2006.0\\\\\n& y_{1,21} + y_{2,21} + y_{3,21} + y_{4,21} + y_{5,21} = 1956.0\\\\\n& y_{1,22} + y_{2,22} + y_{3,22} + y_{4,22} + y_{5,22} = 1902.0\\\\\n& y_{1,23} + y_{2,23} + y_{3,23} + y_{4,23} + y_{5,23} = 1865.0\\\\\n& y_{1,24} + y_{2,24} + y_{3,24} + y_{4,24} + y_{5,24} = 1820.0\\\\\n& -y_{1,1} + y_{1,2} \\leq 150.0\\\\\n& -y_{2,1} + y_{2,2} \\leq 200.0\\\\\n& -y_{3,1} + y_{3,2} \\leq 100.0\\\\\n& -y_{4,1} + y_{4,2} \\leq 250.0\\\\\n& -y_{5,1} + y_{5,2} \\leq 300.0\\\\\n& -y_{1,2} + y_{1,3} \\leq 150.0\\\\\n& -y_{2,2} + y_{2,3} \\leq 200.0\\\\\n& -y_{3,2} + y_{3,3} \\leq 100.0\\\\\n& -y_{4,2} + y_{4,3} \\leq 250.0\\\\\n& -y_{5,2} + y_{5,3} \\leq 300.0\\\\\n& -y_{1,3} + y_{1,4} \\leq 150.0\\\\\n& -y_{2,3} + y_{2,4} \\leq 200.0\\\\\n& -y_{3,3} + y_{3,4} \\leq 100.0\\\\\n& -y_{4,3} + y_{4,4} \\leq 250.0\\\\\n& -y_{5,3} + y_{5,4} \\leq 300.0\\\\\n& -y_{1,4} + y_{1,5} \\leq 150.0\\\\\n& -y_{2,4} + y_{2,5} \\leq 200.0\\\\\n& -y_{3,4} + y_{3,5} \\leq 100.0\\\\\n& -y_{4,4} + y_{4,5} \\leq 250.0\\\\\n& -y_{5,4} + y_{5,5} \\leq 300.0\\\\\n& -y_{1,5} + y_{1,6} \\leq 150.0\\\\\n& -y_{2,5} + y_{2,6} \\leq 200.0\\\\\n& -y_{3,5} + y_{3,6} \\leq 100.0\\\\\n& -y_{4,5} + y_{4,6} \\leq 250.0\\\\\n& -y_{5,5} + y_{5,6} \\leq 300.0\\\\\n& -y_{1,6} + y_{1,7} \\leq 150.0\\\\\n& -y_{2,6} + y_{2,7} \\leq 200.0\\\\\n& -y_{3,6} + y_{3,7} \\leq 100.0\\\\\n& -y_{4,6} + y_{4,7} \\leq 250.0\\\\\n& -y_{5,6} + y_{5,7} \\leq 300.0\\\\\n& -y_{1,7} + y_{1,8} \\leq 150.0\\\\\n& -y_{2,7} + y_{2,8} \\leq 200.0\\\\\n& -y_{3,7} + y_{3,8} \\leq 100.0\\\\\n& -y_{4,7} + y_{4,8} \\leq 250.0\\\\\n& -y_{5,7} + y_{5,8} \\leq 300.0\\\\\n& -y_{1,8} + y_{1,9} \\leq 150.0\\\\\n& -y_{2,8} + y_{2,9} \\leq 200.0\\\\\n& -y_{3,8} + y_{3,9} \\leq 100.0\\\\\n& -y_{4,8} + y_{4,9} \\leq 250.0\\\\\n& -y_{5,8} + y_{5,9} \\leq 300.0\\\\\n& -y_{1,9} + y_{1,10} \\leq 150.0\\\\\n& -y_{2,9} + y_{2,10} \\leq 200.0\\\\\n& -y_{3,9} + y_{3,10} \\leq 100.0\\\\\n& -y_{4,9} + y_{4,10} \\leq 250.0\\\\\n& -y_{5,9} + y_{5,10} \\leq 300.0\\\\\n& -y_{1,10} + y_{1,11} \\leq 150.0\\\\\n& -y_{2,10} + y_{2,11} \\leq 200.0\\\\\n& -y_{3,10} + y_{3,11} \\leq 100.0\\\\\n& -y_{4,10} + y_{4,11} \\leq 250.0\\\\\n& -y_{5,10} + y_{5,11} \\leq 300.0\\\\\n& -y_{1,11} + y_{1,12} \\leq 150.0\\\\\n& -y_{2,11} + y_{2,12} \\leq 200.0\\\\\n& -y_{3,11} + y_{3,12} \\leq 100.0\\\\\n& -y_{4,11} + y_{4,12} \\leq 250.0\\\\\n& -y_{5,11} + y_{5,12} \\leq 300.0\\\\\n& -y_{1,12} + y_{1,13} \\leq 150.0\\\\\n& -y_{2,12} + y_{2,13} \\leq 200.0\\\\\n& -y_{3,12} + y_{3,13} \\leq 100.0\\\\\n& -y_{4,12} + y_{4,13} \\leq 250.0\\\\\n& -y_{5,12} + y_{5,13} \\leq 300.0\\\\\n& -y_{1,13} + y_{1,14} \\leq 150.0\\\\\n& -y_{2,13} + y_{2,14} \\leq 200.0\\\\\n& -y_{3,13} + y_{3,14} \\leq 100.0\\\\\n& -y_{4,13} + y_{4,14} \\leq 250.0\\\\\n& -y_{5,13} + y_{5,14} \\leq 300.0\\\\\n& -y_{1,14} + y_{1,15} \\leq 150.0\\\\\n& -y_{2,14} + y_{2,15} \\leq 200.0\\\\\n& -y_{3,14} + y_{3,15} \\leq 100.0\\\\\n& -y_{4,14} + y_{4,15} \\leq 250.0\\\\\n& -y_{5,14} + y_{5,15} \\leq 300.0\\\\\n& -y_{1,15} + y_{1,16} \\leq 150.0\\\\\n& -y_{2,15} + y_{2,16} \\leq 200.0\\\\\n& -y_{3,15} + y_{3,16} \\leq 100.0\\\\\n& -y_{4,15} + y_{4,16} \\leq 250.0\\\\\n& -y_{5,15} + y_{5,16} \\leq 300.0\\\\\n& -y_{1,16} + y_{1,17} \\leq 150.0\\\\\n& -y_{2,16} + y_{2,17} \\leq 200.0\\\\\n& -y_{3,16} + y_{3,17} \\leq 100.0\\\\\n& -y_{4,16} + y_{4,17} \\leq 250.0\\\\\n& -y_{5,16} + y_{5,17} \\leq 300.0\\\\\n& -y_{1,17} + y_{1,18} \\leq 150.0\\\\\n& -y_{2,17} + y_{2,18} \\leq 200.0\\\\\n& -y_{3,17} + y_{3,18} \\leq 100.0\\\\\n& -y_{4,17} + y_{4,18} \\leq 250.0\\\\\n& -y_{5,17} + y_{5,18} \\leq 300.0\\\\\n& -y_{1,18} + y_{1,19} \\leq 150.0\\\\\n& -y_{2,18} + y_{2,19} \\leq 200.0\\\\\n& -y_{3,18} + y_{3,19} \\leq 100.0\\\\\n& -y_{4,18} + y_{4,19} \\leq 250.0\\\\\n& -y_{5,18} + y_{5,19} \\leq 300.0\\\\\n& -y_{1,19} + y_{1,20} \\leq 150.0\\\\\n& -y_{2,19} + y_{2,20} \\leq 200.0\\\\\n& -y_{3,19} + y_{3,20} \\leq 100.0\\\\\n& -y_{4,19} + y_{4,20} \\leq 250.0\\\\\n& -y_{5,19} + y_{5,20} \\leq 300.0\\\\\n& -y_{1,20} + y_{1,21} \\leq 150.0\\\\\n& -y_{2,20} + y_{2,21} \\leq 200.0\\\\\n& -y_{3,20} + y_{3,21} \\leq 100.0\\\\\n& -y_{4,20} + y_{4,21} \\leq 250.0\\\\\n& -y_{5,20} + y_{5,21} \\leq 300.0\\\\\n& -y_{1,21} + y_{1,22} \\leq 150.0\\\\\n& -y_{2,21} + y_{2,22} \\leq 200.0\\\\\n& -y_{3,21} + y_{3,22} \\leq 100.0\\\\\n& -y_{4,21} + y_{4,22} \\leq 250.0\\\\\n& -y_{5,21} + y_{5,22} \\leq 300.0\\\\\n& -y_{1,22} + y_{1,23} \\leq 150.0\\\\\n& -y_{2,22} + y_{2,23} \\leq 200.0\\\\\n& -y_{3,22} + y_{3,23} \\leq 100.0\\\\\n& -y_{4,22} + y_{4,23} \\leq 250.0\\\\\n& -y_{5,22} + y_{5,23} \\leq 300.0\\\\\n& -y_{1,23} + y_{1,24} \\leq 150.0\\\\\n& -y_{2,23} + y_{2,24} \\leq 200.0\\\\\n& -y_{3,23} + y_{3,24} \\leq 100.0\\\\\n& -y_{4,23} + y_{4,24} \\leq 250.0\\\\\n& -y_{5,23} + y_{5,24} \\leq 300.0\\\\\n& y_{1,1} - y_{1,2} \\leq 150.0\\\\\n& y_{2,1} - y_{2,2} \\leq 200.0\\\\\n& y_{3,1} - y_{3,2} \\leq 100.0\\\\\n& y_{4,1} - y_{4,2} \\leq 250.0\\\\\n& y_{5,1} - y_{5,2} \\leq 300.0\\\\\n& y_{1,2} - y_{1,3} \\leq 150.0\\\\\n& y_{2,2} - y_{2,3} \\leq 200.0\\\\\n& y_{3,2} - y_{3,3} \\leq 100.0\\\\\n& y_{4,2} - y_{4,3} \\leq 250.0\\\\\n& y_{5,2} - y_{5,3} \\leq 300.0\\\\\n& y_{1,3} - y_{1,4} \\leq 150.0\\\\\n& y_{2,3} - y_{2,4} \\leq 200.0\\\\\n& y_{3,3} - y_{3,4} \\leq 100.0\\\\\n& y_{4,3} - y_{4,4} \\leq 250.0\\\\\n& y_{5,3} - y_{5,4} \\leq 300.0\\\\\n& y_{1,4} - y_{1,5} \\leq 150.0\\\\\n& y_{2,4} - y_{2,5} \\leq 200.0\\\\\n& y_{3,4} - y_{3,5} \\leq 100.0\\\\\n& y_{4,4} - y_{4,5} \\leq 250.0\\\\\n& y_{5,4} - y_{5,5} \\leq 300.0\\\\\n& y_{1,5} - y_{1,6} \\leq 150.0\\\\\n& y_{2,5} - y_{2,6} \\leq 200.0\\\\\n& y_{3,5} - y_{3,6} \\leq 100.0\\\\\n& y_{4,5} - y_{4,6} \\leq 250.0\\\\\n& y_{5,5} - y_{5,6} \\leq 300.0\\\\\n& y_{1,6} - y_{1,7} \\leq 150.0\\\\\n& y_{2,6} - y_{2,7} \\leq 200.0\\\\\n& y_{3,6} - y_{3,7} \\leq 100.0\\\\\n& y_{4,6} - y_{4,7} \\leq 250.0\\\\\n& y_{5,6} - y_{5,7} \\leq 300.0\\\\\n& y_{1,7} - y_{1,8} \\leq 150.0\\\\\n& y_{2,7} - y_{2,8} \\leq 200.0\\\\\n& y_{3,7} - y_{3,8} \\leq 100.0\\\\\n& y_{4,7} - y_{4,8} \\leq 250.0\\\\\n& y_{5,7} - y_{5,8} \\leq 300.0\\\\\n& y_{1,8} - y_{1,9} \\leq 150.0\\\\\n& y_{2,8} - y_{2,9} \\leq 200.0\\\\\n& y_{3,8} - y_{3,9} \\leq 100.0\\\\\n& y_{4,8} - y_{4,9} \\leq 250.0\\\\\n& y_{5,8} - y_{5,9} \\leq 300.0\\\\\n& y_{1,9} - y_{1,10} \\leq 150.0\\\\\n& y_{2,9} - y_{2,10} \\leq 200.0\\\\\n& y_{3,9} - y_{3,10} \\leq 100.0\\\\\n& y_{4,9} - y_{4,10} \\leq 250.0\\\\\n& y_{5,9} - y_{5,10} \\leq 300.0\\\\\n& y_{1,10} - y_{1,11} \\leq 150.0\\\\\n& y_{2,10} - y_{2,11} \\leq 200.0\\\\\n& y_{3,10} - y_{3,11} \\leq 100.0\\\\\n& y_{4,10} - y_{4,11} \\leq 250.0\\\\\n& y_{5,10} - y_{5,11} \\leq 300.0\\\\\n& y_{1,11} - y_{1,12} \\leq 150.0\\\\\n& y_{2,11} - y_{2,12} \\leq 200.0\\\\\n& y_{3,11} - y_{3,12} \\leq 100.0\\\\\n& y_{4,11} - y_{4,12} \\leq 250.0\\\\\n& y_{5,11} - y_{5,12} \\leq 300.0\\\\\n& y_{1,12} - y_{1,13} \\leq 150.0\\\\\n& y_{2,12} - y_{2,13} \\leq 200.0\\\\\n& y_{3,12} - y_{3,13} \\leq 100.0\\\\\n& y_{4,12} - y_{4,13} \\leq 250.0\\\\\n& y_{5,12} - y_{5,13} \\leq 300.0\\\\\n& y_{1,13} - y_{1,14} \\leq 150.0\\\\\n& y_{2,13} - y_{2,14} \\leq 200.0\\\\\n& y_{3,13} - y_{3,14} \\leq 100.0\\\\\n& y_{4,13} - y_{4,14} \\leq 250.0\\\\\n& y_{5,13} - y_{5,14} \\leq 300.0\\\\\n& y_{1,14} - y_{1,15} \\leq 150.0\\\\\n& y_{2,14} - y_{2,15} \\leq 200.0\\\\\n& y_{3,14} - y_{3,15} \\leq 100.0\\\\\n& y_{4,14} - y_{4,15} \\leq 250.0\\\\\n& y_{5,14} - y_{5,15} \\leq 300.0\\\\\n& y_{1,15} - y_{1,16} \\leq 150.0\\\\\n& y_{2,15} - y_{2,16} \\leq 200.0\\\\\n& y_{3,15} - y_{3,16} \\leq 100.0\\\\\n& y_{4,15} - y_{4,16} \\leq 250.0\\\\\n& y_{5,15} - y_{5,16} \\leq 300.0\\\\\n& y_{1,16} - y_{1,17} \\leq 150.0\\\\\n& y_{2,16} - y_{2,17} \\leq 200.0\\\\\n& y_{3,16} - y_{3,17} \\leq 100.0\\\\\n& y_{4,16} - y_{4,17} \\leq 250.0\\\\\n& y_{5,16} - y_{5,17} \\leq 300.0\\\\\n& y_{1,17} - y_{1,18} \\leq 150.0\\\\\n& y_{2,17} - y_{2,18} \\leq 200.0\\\\\n& y_{3,17} - y_{3,18} \\leq 100.0\\\\\n& y_{4,17} - y_{4,18} \\leq 250.0\\\\\n& y_{5,17} - y_{5,18} \\leq 300.0\\\\\n& y_{1,18} - y_{1,19} \\leq 150.0\\\\\n& y_{2,18} - y_{2,19} \\leq 200.0\\\\\n& y_{3,18} - y_{3,19} \\leq 100.0\\\\\n& y_{4,18} - y_{4,19} \\leq 250.0\\\\\n& y_{5,18} - y_{5,19} \\leq 300.0\\\\\n& y_{1,19} - y_{1,20} \\leq 150.0\\\\\n& y_{2,19} - y_{2,20} \\leq 200.0\\\\\n& y_{3,19} - y_{3,20} \\leq 100.0\\\\\n& y_{4,19} - y_{4,20} \\leq 250.0\\\\\n& y_{5,19} - y_{5,20} \\leq 300.0\\\\\n& y_{1,20} - y_{1,21} \\leq 150.0\\\\\n& y_{2,20} - y_{2,21} \\leq 200.0\\\\\n& y_{3,20} - y_{3,21} \\leq 100.0\\\\\n& y_{4,20} - y_{4,21} \\leq 250.0\\\\\n& y_{5,20} - y_{5,21} \\leq 300.0\\\\\n& y_{1,21} - y_{1,22} \\leq 150.0\\\\\n& y_{2,21} - y_{2,22} \\leq 200.0\\\\\n& y_{3,21} - y_{3,22} \\leq 100.0\\\\\n& y_{4,21} - y_{4,22} \\leq 250.0\\\\\n& y_{5,21} - y_{5,22} \\leq 300.0\\\\\n& y_{1,22} - y_{1,23} \\leq 150.0\\\\\n& y_{2,22} - y_{2,23} \\leq 200.0\\\\\n& y_{3,22} - y_{3,23} \\leq 100.0\\\\\n& y_{4,22} - y_{4,23} \\leq 250.0\\\\\n& y_{5,22} - y_{5,23} \\leq 300.0\\\\\n& y_{1,23} - y_{1,24} \\leq 150.0\\\\\n& y_{2,23} - y_{2,24} \\leq 200.0\\\\\n& y_{3,23} - y_{3,24} \\leq 100.0\\\\\n& y_{4,23} - y_{4,24} \\leq 250.0\\\\\n& y_{5,23} - y_{5,24} \\leq 300.0\\\\\n& y_{1,1} \\geq 0.0\\\\\n& y_{2,1} \\geq 0.0\\\\\n& y_{3,1} \\geq 200.0\\\\\n& y_{4,1} \\geq 160.0\\\\\n& y_{5,1} \\geq 40.0\\\\\n& y_{1,2} \\geq 0.0\\\\\n& y_{2,2} \\geq 0.0\\\\\n& y_{3,2} \\geq 200.0\\\\\n& y_{4,2} \\geq 160.0\\\\\n& y_{5,2} \\geq 40.0\\\\\n& y_{1,3} \\geq 0.0\\\\\n& y_{2,3} \\geq 0.0\\\\\n& y_{3,3} \\geq 200.0\\\\\n& y_{4,3} \\geq 160.0\\\\\n& y_{5,3} \\geq 40.0\\\\\n& y_{1,4} \\geq 0.0\\\\\n& y_{2,4} \\geq 0.0\\\\\n& y_{3,4} \\geq 200.0\\\\\n& y_{4,4} \\geq 160.0\\\\\n& y_{5,4} \\geq 40.0\\\\\n& y_{1,5} \\geq 0.0\\\\\n& y_{2,5} \\geq 0.0\\\\\n& y_{3,5} \\geq 200.0\\\\\n& y_{4,5} \\geq 160.0\\\\\n& y_{5,5} \\geq 40.0\\\\\n& y_{1,6} \\geq 0.0\\\\\n& y_{2,6} \\geq 0.0\\\\\n& y_{3,6} \\geq 200.0\\\\\n& y_{4,6} \\geq 160.0\\\\\n& y_{5,6} \\geq 40.0\\\\\n& y_{1,7} \\geq 0.0\\\\\n& y_{2,7} \\geq 0.0\\\\\n& y_{3,7} \\geq 200.0\\\\\n& y_{4,7} \\geq 160.0\\\\\n& y_{5,7} \\geq 40.0\\\\\n& y_{1,8} \\geq 0.0\\\\\n& y_{2,8} \\geq 0.0\\\\\n& y_{3,8} \\geq 200.0\\\\\n& y_{4,8} \\geq 160.0\\\\\n& y_{5,8} \\geq 40.0\\\\\n& y_{1,9} \\geq 0.0\\\\\n& y_{2,9} \\geq 0.0\\\\\n& y_{3,9} \\geq 200.0\\\\\n& y_{4,9} \\geq 160.0\\\\\n& y_{5,9} \\geq 40.0\\\\\n& y_{1,10} \\geq 0.0\\\\\n& y_{2,10} \\geq 0.0\\\\\n& y_{3,10} \\geq 200.0\\\\\n& y_{4,10} \\geq 160.0\\\\\n& y_{5,10} \\geq 40.0\\\\\n& y_{1,11} \\geq 0.0\\\\\n& y_{2,11} \\geq 0.0\\\\\n& y_{3,11} \\geq 200.0\\\\\n& y_{4,11} \\geq 160.0\\\\\n& y_{5,11} \\geq 40.0\\\\\n& y_{1,12} \\geq 0.0\\\\\n& y_{2,12} \\geq 0.0\\\\\n& y_{3,12} \\geq 200.0\\\\\n& y_{4,12} \\geq 160.0\\\\\n& y_{5,12} \\geq 40.0\\\\\n& y_{1,13} \\geq 0.0\\\\\n& y_{2,13} \\geq 0.0\\\\\n& y_{3,13} \\geq 200.0\\\\\n& y_{4,13} \\geq 160.0\\\\\n& y_{5,13} \\geq 40.0\\\\\n& y_{1,14} \\geq 0.0\\\\\n& y_{2,14} \\geq 0.0\\\\\n& y_{3,14} \\geq 200.0\\\\\n& y_{4,14} \\geq 160.0\\\\\n& y_{5,14} \\geq 40.0\\\\\n& y_{1,15} \\geq 0.0\\\\\n& y_{2,15} \\geq 0.0\\\\\n& y_{3,15} \\geq 200.0\\\\\n& y_{4,15} \\geq 160.0\\\\\n& y_{5,15} \\geq 40.0\\\\\n& y_{1,16} \\geq 0.0\\\\\n& y_{2,16} \\geq 0.0\\\\\n& y_{3,16} \\geq 200.0\\\\\n& y_{4,16} \\geq 160.0\\\\\n& y_{5,16} \\geq 40.0\\\\\n& y_{1,17} \\geq 0.0\\\\\n& y_{2,17} \\geq 0.0\\\\\n& y_{3,17} \\geq 200.0\\\\\n& y_{4,17} \\geq 160.0\\\\\n& y_{5,17} \\geq 40.0\\\\\n& y_{1,18} \\geq 0.0\\\\\n& y_{2,18} \\geq 0.0\\\\\n& y_{3,18} \\geq 200.0\\\\\n& y_{4,18} \\geq 160.0\\\\\n& y_{5,18} \\geq 40.0\\\\\n& y_{1,19} \\geq 0.0\\\\\n& y_{2,19} \\geq 0.0\\\\\n& y_{3,19} \\geq 200.0\\\\\n& y_{4,19} \\geq 160.0\\\\\n& y_{5,19} \\geq 40.0\\\\\n& y_{1,20} \\geq 0.0\\\\\n& y_{2,20} \\geq 0.0\\\\\n& y_{3,20} \\geq 200.0\\\\\n& y_{4,20} \\geq 160.0\\\\\n& y_{5,20} \\geq 40.0\\\\\n& y_{1,21} \\geq 0.0\\\\\n& y_{2,21} \\geq 0.0\\\\\n& y_{3,21} \\geq 200.0\\\\\n& y_{4,21} \\geq 160.0\\\\\n& y_{5,21} \\geq 40.0\\\\\n& y_{1,22} \\geq 0.0\\\\\n& y_{2,22} \\geq 0.0\\\\\n& y_{3,22} \\geq 200.0\\\\\n& y_{4,22} \\geq 160.0\\\\\n& y_{5,22} \\geq 40.0\\\\\n& y_{1,23} \\geq 0.0\\\\\n& y_{2,23} \\geq 0.0\\\\\n& y_{3,23} \\geq 200.0\\\\\n& y_{4,23} \\geq 160.0\\\\\n& y_{5,23} \\geq 40.0\\\\\n& y_{1,24} \\geq 0.0\\\\\n& y_{2,24} \\geq 0.0\\\\\n& y_{3,24} \\geq 200.0\\\\\n& y_{4,24} \\geq 160.0\\\\\n& y_{5,24} \\geq 40.0\\\\\n& y_{1,1} \\leq 150.0\\\\\n& y_{2,1} \\leq 200.0\\\\\n& y_{3,1} \\leq 1000.0\\\\\n& y_{4,1} \\leq 700.0\\\\\n& y_{5,1} \\leq 500.0\\\\\n& y_{1,2} \\leq 150.0\\\\\n& y_{2,2} \\leq 200.0\\\\\n& y_{3,2} \\leq 1000.0\\\\\n& y_{4,2} \\leq 700.0\\\\\n& y_{5,2} \\leq 500.0\\\\\n& y_{1,3} \\leq 150.0\\\\\n& y_{2,3} \\leq 200.0\\\\\n& y_{3,3} \\leq 1000.0\\\\\n& y_{4,3} \\leq 700.0\\\\\n& y_{5,3} \\leq 500.0\\\\\n& y_{1,4} \\leq 150.0\\\\\n& y_{2,4} \\leq 200.0\\\\\n& y_{3,4} \\leq 1000.0\\\\\n& y_{4,4} \\leq 700.0\\\\\n& y_{5,4} \\leq 500.0\\\\\n& y_{1,5} \\leq 150.0\\\\\n& y_{2,5} \\leq 200.0\\\\\n& y_{3,5} \\leq 1000.0\\\\\n& y_{4,5} \\leq 700.0\\\\\n& y_{5,5} \\leq 500.0\\\\\n& y_{1,6} \\leq 150.0\\\\\n& y_{2,6} \\leq 200.0\\\\\n& y_{3,6} \\leq 1000.0\\\\\n& y_{4,6} \\leq 700.0\\\\\n& y_{5,6} \\leq 500.0\\\\\n& y_{1,7} \\leq 150.0\\\\\n& y_{2,7} \\leq 200.0\\\\\n& y_{3,7} \\leq 1000.0\\\\\n& y_{4,7} \\leq 700.0\\\\\n& y_{5,7} \\leq 500.0\\\\\n& y_{1,8} \\leq 150.0\\\\\n& y_{2,8} \\leq 200.0\\\\\n& y_{3,8} \\leq 1000.0\\\\\n& y_{4,8} \\leq 700.0\\\\\n& y_{5,8} \\leq 500.0\\\\\n& y_{1,9} \\leq 150.0\\\\\n& y_{2,9} \\leq 200.0\\\\\n& y_{3,9} \\leq 1000.0\\\\\n& y_{4,9} \\leq 700.0\\\\\n& y_{5,9} \\leq 500.0\\\\\n& y_{1,10} \\leq 150.0\\\\\n& y_{2,10} \\leq 200.0\\\\\n& y_{3,10} \\leq 1000.0\\\\\n& y_{4,10} \\leq 700.0\\\\\n& y_{5,10} \\leq 500.0\\\\\n& y_{1,11} \\leq 150.0\\\\\n& y_{2,11} \\leq 200.0\\\\\n& y_{3,11} \\leq 1000.0\\\\\n& y_{4,11} \\leq 700.0\\\\\n& y_{5,11} \\leq 500.0\\\\\n& y_{1,12} \\leq 150.0\\\\\n& y_{2,12} \\leq 200.0\\\\\n& y_{3,12} \\leq 1000.0\\\\\n& y_{4,12} \\leq 700.0\\\\\n& y_{5,12} \\leq 500.0\\\\\n& y_{1,13} \\leq 150.0\\\\\n& y_{2,13} \\leq 200.0\\\\\n& y_{3,13} \\leq 1000.0\\\\\n& y_{4,13} \\leq 700.0\\\\\n& y_{5,13} \\leq 500.0\\\\\n& y_{1,14} \\leq 150.0\\\\\n& y_{2,14} \\leq 200.0\\\\\n& y_{3,14} \\leq 1000.0\\\\\n& y_{4,14} \\leq 700.0\\\\\n& y_{5,14} \\leq 500.0\\\\\n& y_{1,15} \\leq 150.0\\\\\n& y_{2,15} \\leq 200.0\\\\\n& y_{3,15} \\leq 1000.0\\\\\n& y_{4,15} \\leq 700.0\\\\\n& y_{5,15} \\leq 500.0\\\\\n& y_{1,16} \\leq 150.0\\\\\n& y_{2,16} \\leq 200.0\\\\\n& y_{3,16} \\leq 1000.0\\\\\n& y_{4,16} \\leq 700.0\\\\\n& y_{5,16} \\leq 500.0\\\\\n& y_{1,17} \\leq 150.0\\\\\n& y_{2,17} \\leq 200.0\\\\\n& y_{3,17} \\leq 1000.0\\\\\n& y_{4,17} \\leq 700.0\\\\\n& y_{5,17} \\leq 500.0\\\\\n& y_{1,18} \\leq 150.0\\\\\n& y_{2,18} \\leq 200.0\\\\\n& y_{3,18} \\leq 1000.0\\\\\n& y_{4,18} \\leq 700.0\\\\\n& y_{5,18} \\leq 500.0\\\\\n& y_{1,19} \\leq 150.0\\\\\n& y_{2,19} \\leq 200.0\\\\\n& y_{3,19} \\leq 1000.0\\\\\n& y_{4,19} \\leq 700.0\\\\\n& y_{5,19} \\leq 500.0\\\\\n& y_{1,20} \\leq 150.0\\\\\n& y_{2,20} \\leq 200.0\\\\\n& y_{3,20} \\leq 1000.0\\\\\n& y_{4,20} \\leq 700.0\\\\\n& y_{5,20} \\leq 500.0\\\\\n& y_{1,21} \\leq 150.0\\\\\n& y_{2,21} \\leq 200.0\\\\\n& y_{3,21} \\leq 1000.0\\\\\n& y_{4,21} \\leq 700.0\\\\\n& y_{5,21} \\leq 500.0\\\\\n& y_{1,22} \\leq 150.0\\\\\n& y_{2,22} \\leq 200.0\\\\\n& y_{3,22} \\leq 1000.0\\\\\n& y_{4,22} \\leq 700.0\\\\\n& y_{5,22} \\leq 500.0\\\\\n& y_{1,23} \\leq 150.0\\\\\n& y_{2,23} \\leq 200.0\\\\\n& y_{3,23} \\leq 1000.0\\\\\n& y_{4,23} \\leq 700.0\\\\\n& y_{5,23} \\leq 500.0\\\\\n& y_{1,24} \\leq 150.0\\\\\n& y_{2,24} \\leq 200.0\\\\\n& y_{3,24} \\leq 1000.0\\\\\n& y_{4,24} \\leq 700.0\\\\\n& y_{5,24} \\leq 500.0\\\\\n\\end{aligned} \\]\n\n\n\n\nCode\n\nset_silent(dispatch2)\noptimize!(dispatch2)\n\ngen = value.(y).data\n\n\n5×24 Matrix{Float64}:\n  150.0   150.0  150.0  128.0  150.0  …   150.0   150.0   150.0   150.0\n  200.0   200.0  200.0  200.0  200.0      200.0   200.0   200.0   200.0\n 1000.0  1000.0  926.0  880.0  980.0     1000.0  1000.0  1000.0  1000.0\n  335.0   206.0  160.0  160.0  160.0      566.0   512.0   475.0   430.0\n   40.0    40.0   40.0   40.0   40.0       40.0    40.0    40.0    40.0\n\n\n\n\nCode\nareaplot(gen', \n    label=permutedims(gen_names), \n    xlabel = \"Hour\", \n    ylabel =\"Generated Electricity (MW)\", \n    color_palette=:tol_muted, \n    size=(1200, 600), \n    left_margin=6mm, \n    bottom_margin=6mm,\n    grid=:false,\n    legend = :outerright, ylim=(0, 2800),\n    legendfontsize=20, tickfontsize=20, \n    guidefontsize=20\n)\nplot!(demand, color=:red, \n    label=\"demand\", linestyle=:dash,\n    linewidth=5)\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\np = plot(gen', \n    label=permutedims(gen_names), \n    xlabel = \"Hour\", \n    ylabel =\"Generated Electricity (MW)\", \n    color_palette=:tol_muted, \n    linewidth=5,\n    size=(1200, 600), left_margin=6mm, \n    bottom_margin=6mm,\n    legendfontsize=20, tickfontsize=20, \n    guidefontsize=20,\n    legend=:outerright\n)\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNotice that even though hydro is effectively zero-cost, we reduce dispatched hydropower in hour 4 because coal is at its minimum generating capacity and nuclear can’t be ramped down further. These constraints complicate the simple merit order that we previously saw.\nThese constraints also play a major role in systems with high levels of renewable penetration. For example, the so-called California “duck curve” is created by the challenges of ramping generation between the early afternoon, when solar generation is at its maximum, and in the evening, when solar generation is decreasing and demand increases rapidly.\n\n\n\nCalifornia Duck Curve"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#systems-analysis",
    "href": "slides/lecture03-1-eutrophication-modeling.html#systems-analysis",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Systems Analysis",
    "text": "Systems Analysis\n\n\nWhat We Study\n\nSystem dynamics;\nResponse to inputs;\nAlternatives for management or design.\n\n\nNeeds\n\n\nDefinition of the system\nSystem model"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#what-do-we-need-to-define-a-system",
    "href": "slides/lecture03-1-eutrophication-modeling.html#what-do-we-need-to-define-a-system",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "What Do We Need To Define A System?",
    "text": "What Do We Need To Define A System?\n\n\nComponents: relevant processes, agents, etc\nInterconnections: relationships between system components\nControl volume: unit of the system we are trying to model and/or manage\nInputs: control policies and/or external forcings\nOutputs: measured quantities of interest"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#mathematical-models-of-systems",
    "href": "slides/lecture03-1-eutrophication-modeling.html#mathematical-models-of-systems",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Mathematical Models of Systems",
    "text": "Mathematical Models of Systems\n\nConceptual Model of a System"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#environmental-systems",
    "href": "slides/lecture03-1-eutrophication-modeling.html#environmental-systems",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Environmental Systems",
    "text": "Environmental Systems\n\n\n\n\n\nConceptual Model of an Environmental System\n\n\n\n\nMunicipal sewage into lakes, rivers, etc.\nPower plant emissions into air\nSolid waste placed on landfill\nCO2 into atmosphere"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#other-aspects-of-models",
    "href": "slides/lecture03-1-eutrophication-modeling.html#other-aspects-of-models",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Other Aspects of Models",
    "text": "Other Aspects of Models\n\nDeterministic vs. Stochastic\nDescriptive vs. Prescriptive\nMechanistic vs. Statistical"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#all-models-are-wrong-but-some-are-useful",
    "href": "slides/lecture03-1-eutrophication-modeling.html#all-models-are-wrong-but-some-are-useful",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "“All Models Are Wrong, But Some Are Useful”",
    "text": "“All Models Are Wrong, But Some Are Useful”\n\n\n…all models are approximations. Essentially, all models are wrong, but some are useful. However, the approximate nature of the model must always be borne in mind….\n\n\n— Box & Draper, Empirical Model Building and Response Surfaces, 1987"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#questions",
    "href": "slides/lecture03-1-eutrophication-modeling.html#questions",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Questions?",
    "text": "Questions?\n\n\n\n\n\n\n\n\nText: VSRIKRISH to 22333\nURL: https://pollev.com/vsrikrish  See Results"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#what-is-eutrophication",
    "href": "slides/lecture03-1-eutrophication-modeling.html#what-is-eutrophication",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "What is Eutrophication?",
    "text": "What is Eutrophication?\n\n\nEutrophication: common environmental problem in which plants and algae feed on excess nutrients and become overabundant.\n\n\n\n\nAlgae Bloom in Cayuga Lake in July 2021\n\n\n\nSource: Ithaca Journal"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#effects-of-lake-eutrophication",
    "href": "slides/lecture03-1-eutrophication-modeling.html#effects-of-lake-eutrophication",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Effects of Lake Eutrophication",
    "text": "Effects of Lake Eutrophication\n\nhypoxia (reduction in oxygen from the decomposition of organic matter), leading to “dead zones”;\nacidification(from the CO2 produced by decomposition);\nreduced sunlight (from an accumulation of surface algae);\nclogged water intakes; and\nreduction in recreational value and drinking water quality."
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#lake-eutrophication-dynamics",
    "href": "slides/lecture03-1-eutrophication-modeling.html#lake-eutrophication-dynamics",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Lake Eutrophication Dynamics",
    "text": "Lake Eutrophication Dynamics\n\nSchematic of processes resulting in lake eutrophication"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#lake-eutrophication-causes",
    "href": "slides/lecture03-1-eutrophication-modeling.html#lake-eutrophication-causes",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Lake Eutrophication Causes",
    "text": "Lake Eutrophication Causes\nExcess N and P can come from:\n\npoint sources (such as industrial/sewage processes); and/or\nnon-point sources (such as agricultural runoff).\n\nExcess nutrients are stored in sediment and recycled back into the lake, as well as transported by organisms/consumers."
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#non-point-source-pollution",
    "href": "slides/lecture03-1-eutrophication-modeling.html#non-point-source-pollution",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Non-Point Source Pollution",
    "text": "Non-Point Source Pollution\nNon-Point Source (NPS) Pollution: Intermittent, distributed waste input to surface or groundwater"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#types-of-nps-pollution",
    "href": "slides/lecture03-1-eutrophication-modeling.html#types-of-nps-pollution",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Types of NPS Pollution",
    "text": "Types of NPS Pollution\n\nExcess fertilizers, herbicides, insecticides (ag runoff)\nOil, grease, chemicals (urban runoff, energy production)\nSediment from constructions sites, crop/forest land, eroding streambanks\nSalts from irrigation and acid drainage\nBacteria and nutrients (livestock, pet wastes, septic systems)\nAtmospheric deposition"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#nps-pollution-flows",
    "href": "slides/lecture03-1-eutrophication-modeling.html#nps-pollution-flows",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "NPS Pollution Flows",
    "text": "NPS Pollution Flows\n\nFlows of Surface Water Contamination\nSource: American Water"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#management-of-eutrophication",
    "href": "slides/lecture03-1-eutrophication-modeling.html#management-of-eutrophication",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Management of Eutrophication",
    "text": "Management of Eutrophication\nIt can be difficult to restore to oligotrophic state:\n\nReduce N and P going forward to reduce pressure;\nRemove and treat sediment/water;\nBiofiltration.\n\nRestoration takes a long time and is not guaranteed (hysteresis)!"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#watershed-as-environmental-system",
    "href": "slides/lecture03-1-eutrophication-modeling.html#watershed-as-environmental-system",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Watershed As Environmental System",
    "text": "Watershed As Environmental System\n\nConceptual Model of an Environmental System"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#watershedlake-systems-diagram",
    "href": "slides/lecture03-1-eutrophication-modeling.html#watershedlake-systems-diagram",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Watershed/Lake Systems Diagram",
    "text": "Watershed/Lake Systems Diagram\n\nConceptual Model of an Environmental System"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#watershedlake-systems-diagram-1",
    "href": "slides/lecture03-1-eutrophication-modeling.html#watershedlake-systems-diagram-1",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Watershed/Lake Systems Diagram",
    "text": "Watershed/Lake Systems Diagram\n\nConceptual Model of an Environmental System\n\\(V = 600 \\times 10^6\\ m^3\\)\n\\(A = 30 \\times 10^6\\ m^2\\)\n\\(Q_\\text{in} = Q_\\text{out} = 400 \\times 10^6\\ m^3/yr\\)"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#information-needs",
    "href": "slides/lecture03-1-eutrophication-modeling.html#information-needs",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Information Needs",
    "text": "Information Needs\n\nWhat will happen to the waste in the environment (fate & transport)?\nWhat are potential impacts and acceptable levels or critical thresholds?\nWhat are options to manage the waste?"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#fate-transport",
    "href": "slides/lecture03-1-eutrophication-modeling.html#fate-transport",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Fate & Transport",
    "text": "Fate & Transport\nCommon Approach: Mass-Balance\n\\[\\frac{\\partial\\text{Mass}}{\\partial t} = \\text{Inputs} - \\text{Outputs} - \\text{Decay}\\]"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#fate-transport-1",
    "href": "slides/lecture03-1-eutrophication-modeling.html#fate-transport-1",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Fate & Transport",
    "text": "Fate & Transport\nAssuming steady-state and decay is linear w.r.t mass:\n\\[\\begin{align*}\n\\frac{\\partial\\text{Mass}}{\\partial t} &= \\text{Inputs} - \\text{Outputs} - \\text{Decay} = 0 \\\\\n\\frac{\\partial(CV)}{\\partial t} &= \\sum_j PS_j + \\sum_i NPS_i - CQ_\\text{out} - \\alpha CV = 0\n\\end{align*}\\]"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#fate-transport-2",
    "href": "slides/lecture03-1-eutrophication-modeling.html#fate-transport-2",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Fate & Transport",
    "text": "Fate & Transport\n\\[\n\\begin{gather*}\n\\sum_j PS_j + \\sum_i NPS_i - CQ_\\text{out} - \\alpha CV = 0 \\\\\n\\Rightarrow \\qquad C(Q_\\text{out} + \\alpha V) = \\sum_j PS_j + \\sum_i NPS_i \\\\\n\\Rightarrow \\qquad \\bbox[5pt, border: 5px solid red]{C = \\frac{\\sum_j PS_j + \\sum_i NPS_i}{Q_\\text{out} + \\alpha V}}\n\\end{gather*}\n\\]"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#other-ways-to-write",
    "href": "slides/lecture03-1-eutrophication-modeling.html#other-ways-to-write",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Other Ways To Write",
    "text": "Other Ways To Write\n\\[\n\\begin{align*}\nC &= \\frac{\\sum_i P_i/V}{Q/V + \\alpha} \\\\[0.75em]\n&= \\frac{\\sum_i P_i/V}{\\tau_w^{-1} + \\alpha} \\\\[0.75em]\n&= \\frac{\\sum_i P_i/V}{\\sum_j k_j}\n\\end{align*}\n\\]"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#ft-model-assumptions",
    "href": "slides/lecture03-1-eutrophication-modeling.html#ft-model-assumptions",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "F&T Model Assumptions",
    "text": "F&T Model Assumptions\nWhat does this model assume?\n\n\nSteady-state (\\(\\partial\\text{Mass} / \\partial t = 0\\))\n1st order (linear) decay\nLake is:\n\nWell-mixed\nConstant volume"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#environmental-impacts",
    "href": "slides/lecture03-1-eutrophication-modeling.html#environmental-impacts",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Environmental Impacts",
    "text": "Environmental Impacts\nWhat are potential impacts and acceptable levels or critical thresholds?\nGenerally need to limit average P concentrations to \\(&lt; 0.01-0.02\\) mg/L."
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#incorporating-threshold",
    "href": "slides/lecture03-1-eutrophication-modeling.html#incorporating-threshold",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Incorporating Threshold",
    "text": "Incorporating Threshold\n\\[\\begin{align*}\nC = \\frac{\\sum_j PS_j + \\sum_i NPS_i}{Q_\\text{out} + \\alpha V} &\\leq \\left(0.01\\ \\text{mg/L}\\right)\\left(\\frac{1\\ \\text{mg/L}}{1000\\ \\text{kg/m}^3}\\right) \\\\[0.5em]\n\\Rightarrow \\qquad \\sum_j PS_j + \\sum_i NPS_i &\\leq \\left(1 \\times 10^{-5}\\right) \\left(Q_\\text{out} + \\alpha V\\right)\n\\end{align*}\\]"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#what-is-the-decay-rate",
    "href": "slides/lecture03-1-eutrophication-modeling.html#what-is-the-decay-rate",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "What Is The Decay Rate?",
    "text": "What Is The Decay Rate?\nVollenweider model for lake P sedimentation:\n\\[\\alpha = \\frac{10}{\\bar{H}} \\approx \\frac{10A}{V}\\]\n\n\\[\\begin{gather*}\n\\Rightarrow \\qquad \\sum_j PS_j + \\sum_i NPS_i \\leq \\left(1 \\times 10^{-5}\\right) \\left(Q_\\text{out} + 10A\\right)  \\\\\n\\Rightarrow \\qquad \\sum_j PS_j + \\sum_i NPS_i \\leq 7000\\ \\text{kg/yr}  \\\\\n\\end{gather*}\\]"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#nps-from-watershed-land-use",
    "href": "slides/lecture03-1-eutrophication-modeling.html#nps-from-watershed-land-use",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "NPS from Watershed Land Use",
    "text": "NPS from Watershed Land Use\n\n\n\nType\nArea (ha)\nUnit P Load (kg/ha)\n\n\n\n\nForest\n20,000\n0.11\n\n\nCorn\n1,000\n2.0\n\n\nPasture\n3,000\n1.0\n\n\nResidential\n1,000\n1.2\n\n\nBusiness\n200\n3.0\n\n\n\nUnit loads taken from Osmond et al. (1997)."
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#nps-from-watershed-land-use-1",
    "href": "slides/lecture03-1-eutrophication-modeling.html#nps-from-watershed-land-use-1",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "NPS from Watershed Land Use",
    "text": "NPS from Watershed Land Use\n\n\n\nType\nArea (ha)\nUnit P Load (kg/ha)\n\n\n\n\nForest\n20,000\n0.11\n\n\nCorn\n1,000\n2.0\n\n\nPasture\n3,000\n1.0\n\n\nResidential\n1,000\n1.2\n\n\nBusiness\n200\n3.0\n\n\n\n\\[\\sum_i NPS_i = 9000\\ \\text{kg}\\]"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#implications",
    "href": "slides/lecture03-1-eutrophication-modeling.html#implications",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Implications…",
    "text": "Implications…\nIn other words, the “typical” NPS load is\n\\[\\sum_i NPS_i = 9000\\ \\text{kg}.\\]\nThis is greater than the acceptable total P load for a target concentration of 0.01 mg/L!\n\nWhat can we do?"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#prescriptive-vs.-descriptive-modeling",
    "href": "slides/lecture03-1-eutrophication-modeling.html#prescriptive-vs.-descriptive-modeling",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Prescriptive vs. Descriptive Modeling",
    "text": "Prescriptive vs. Descriptive Modeling\nWhat we do next depends on whether we’re taking a prescriptive or a descriptive approach.\n\n\nPrescriptive: How should we treat PS waste/control NPS load to ensure compliance?\nDescriptive: How will the lake respond to different point and non-point source contributions?"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#what-about-non-steady-state",
    "href": "slides/lecture03-1-eutrophication-modeling.html#what-about-non-steady-state",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "What About Non-Steady State?",
    "text": "What About Non-Steady State?\n\\[\\sum_j PS_j(t) + \\sum_i NPS_i(t) - C(t)Q(t) - \\alpha C(t)V = F(t)\\]\n\nMore complex, may not be able to solve analytically!\nNeed to use numerical simulation methods (next week!)"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#key-takeaways-1",
    "href": "slides/lecture03-1-eutrophication-modeling.html#key-takeaways-1",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Key Takeaways",
    "text": "Key Takeaways\n\nSystems modeling lets us account for influence of multiple inputs, controls, and dynamics\nMass (or equivalent) Balances as starting points for fate & transport models\nConstraints and thresholds from environmental quality/regulatory standards\nNeed to identify prescriptive vs. descriptive use for model"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#next-classes",
    "href": "slides/lecture03-1-eutrophication-modeling.html#next-classes",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Next Classes",
    "text": "Next Classes\nWednesday: System Dynamics (Feedbacks/Bifurcations)\nNext Week: Simulation Models"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#assessments",
    "href": "slides/lecture03-1-eutrophication-modeling.html#assessments",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "Assessments",
    "text": "Assessments\nHomework 2: Released, due 9/19 at 9pm"
  },
  {
    "objectID": "slides/lecture03-1-eutrophication-modeling.html#references-1",
    "href": "slides/lecture03-1-eutrophication-modeling.html#references-1",
    "title": "Modeling Example: Lake Eutrophication",
    "section": "References",
    "text": "References\n\n\n\n\n\n\n\n\nOsmond, D. L., Gannon, R. W., Gale, J. A., Line, D. E., Knott, C. B., Phillips, K. A., et al. (1997). WATERSHEDSS: A decision support system for watershed-scale nonpoint source water quality problems. Journal of the American Water Resources Association, 33(2), 327–341. https://doi.org/10.1111/j.1752-1688.1997.tb03513.x"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About This Website",
    "section": "",
    "text": "This website contains course materials for the Fall 2024 edition of Environmental Systems Analysis, taught by Vivek Srikrishnan at Cornell University."
  },
  {
    "objectID": "about.html#acknowledgements",
    "href": "about.html#acknowledgements",
    "title": "About This Website",
    "section": "Acknowledgements",
    "text": "Acknowledgements\nMuch of the material for this course has evolved from its prior iterations, taught by Doug Haith and C. Lindsay Anderson.\nThe layout for this site was also inspired by and draws from STA 210 at Duke University and Andrew Heiss’s course materials at Georgia State."
  },
  {
    "objectID": "about.html#tools-and-generation-workflow",
    "href": "about.html#tools-and-generation-workflow",
    "title": "About This Website",
    "section": "Tools and Generation Workflow",
    "text": "Tools and Generation Workflow\nThis website was built with Quarto, which allows me to integrate Julia code and output with the web content, pdfs, and slides in an amazingly clean fashion, while simplifying the process of generation. All materials can be generated through a simple workflow from the [GitHub Repository]."
  },
  {
    "objectID": "project/evaluations.html",
    "href": "project/evaluations.html",
    "title": "Presentation Evaluations Instructions",
    "section": "",
    "text": "The goal of this evaluation is to assess your group process to ensure that group members are fairly graded based on both the project outputs (group products) and their contributions to the group as individuals. The evaluation is your opportunity to provide feedback on how your group dynamic operated during the duration of your project, as well as reflect on the contributions that you made to your group and what opportunities there might be to improve.",
    "crumbs": [
      "Final Project",
      "Team Evaluations"
    ]
  },
  {
    "objectID": "project/evaluations.html#overview",
    "href": "project/evaluations.html#overview",
    "title": "Presentation Evaluations Instructions",
    "section": "",
    "text": "The goal of this evaluation is to assess your group process to ensure that group members are fairly graded based on both the project outputs (group products) and their contributions to the group as individuals. The evaluation is your opportunity to provide feedback on how your group dynamic operated during the duration of your project, as well as reflect on the contributions that you made to your group and what opportunities there might be to improve.",
    "crumbs": [
      "Final Project",
      "Team Evaluations"
    ]
  },
  {
    "objectID": "project/evaluations.html#instructions",
    "href": "project/evaluations.html#instructions",
    "title": "Presentation Evaluations Instructions",
    "section": "Instructions",
    "text": "Instructions\nAn evaluation quiz will be released on Canvas on the last day of class. Please make sure you fill this out before the end of the finals period, though you may (and probably should) wait until your project is completed.\nThe quiz will consist of two sections:\n\nSelf evaluation: Summarize your project and your contribution. How much do you believe you contributed to the project outputs? What were the opportunities for improvement of your contribution to the group dynamic and outcomes?\nGroup contribution evaluation: How much did each other group member contribute to the group effort? What were the opportunities for improvement of the group process?\n\nPlease be honest and fair in this evaluation and complete them independently from your other group members. While your grade for the Team Evaluation portion of the project only relies on completing this form, your individual overall project grade may be modified by up to 10% (in either direction; the full 10% is reserved for particularly extreme cases) based on a combination of the self and group evaluations. These adjustments may differ based on whether a student is an undergraduate (4750) or graduate (5750), as graduate students would be expected to take on a leadership role within their group.",
    "crumbs": [
      "Final Project",
      "Team Evaluations"
    ]
  },
  {
    "objectID": "project/proposal.html",
    "href": "project/proposal.html",
    "title": "Project Proposal Instructions",
    "section": "",
    "text": "The project proposal is intended to provide an initial idea of your project to formalize:\n\nThe scope of the systems model;\nThe specific design or management problem;\nYour plan for conducting the project, including group contributions and a planned timeline.\n\nThe proposal is not binding: you can change aspects of the project later, for example, if you find that you cannot formulate your proposed problem appropriately or cannot find data. However, please discuss these changes with Prof. Srikrishnan as soon as possible to make sure the revised project satisfies the project requirement.\nWhile you may have to submit the proposal before we can discuss certain prescriptive problems in class, your project can focus on decision-making. Provide an idea of the decision problem you would like to study, and you will have the opportunity to refine your problem formulation through discussions with Prof. Srikrishnan and in the project update based on the course content.",
    "crumbs": [
      "Final Project",
      "Proposal"
    ]
  },
  {
    "objectID": "project/proposal.html#overview",
    "href": "project/proposal.html#overview",
    "title": "Project Proposal Instructions",
    "section": "",
    "text": "The project proposal is intended to provide an initial idea of your project to formalize:\n\nThe scope of the systems model;\nThe specific design or management problem;\nYour plan for conducting the project, including group contributions and a planned timeline.\n\nThe proposal is not binding: you can change aspects of the project later, for example, if you find that you cannot formulate your proposed problem appropriately or cannot find data. However, please discuss these changes with Prof. Srikrishnan as soon as possible to make sure the revised project satisfies the project requirement.\nWhile you may have to submit the proposal before we can discuss certain prescriptive problems in class, your project can focus on decision-making. Provide an idea of the decision problem you would like to study, and you will have the opportunity to refine your problem formulation through discussions with Prof. Srikrishnan and in the project update based on the course content.",
    "crumbs": [
      "Final Project",
      "Proposal"
    ]
  },
  {
    "objectID": "project/proposal.html#instructions",
    "href": "project/proposal.html#instructions",
    "title": "Project Proposal Instructions",
    "section": "Instructions",
    "text": "Instructions\n\nThe scope and problem description should be no more than 1 page, not including references or figures.\n\nProvide a brief overview of the system you would like to analyze, a motivation for the choice, and the problem you will study.\n\nYour proposal should include:\n\nAn overview of your system (including a diagram showing the control volume of your study, relevant metrics, and what exogenous factors you will consider).\nA rough idea of the experimental design, possible data sources and including what uncertainties you will consider.\nA work plan including tasks for each group member to lead, a timeline of milestones for interim goals, and plans for group coordination.\nReferences for any sources consulted, including academic literature, websites, and news articles.\n\nInclude the name(s) of the project team at the top of the PDF.\nThe proposal should have the following format:\n\n1/2 inch margins on each side;\n11 point Calibri font;\n1.5x line spacing.\n\nSubmit a PDF of the proposal to Gradescope by 9:00 PM on the due date.",
    "crumbs": [
      "Final Project",
      "Proposal"
    ]
  },
  {
    "objectID": "rubrics/standard.html",
    "href": "rubrics/standard.html",
    "title": "Standard Rubrics",
    "section": "",
    "text": "These rubrics are intended as a description for students and a guide to the TA for how to assign partial credit.",
    "crumbs": [
      "Policies",
      "Standard Rubric"
    ]
  },
  {
    "objectID": "rubrics/standard.html#meta-rubric",
    "href": "rubrics/standard.html#meta-rubric",
    "title": "Standard Rubrics",
    "section": "Meta-Rubric",
    "text": "Meta-Rubric\n\nIndividual problems may vary from these standard rubrics based on the assessed learning outcomes for the problem, but they should provide an overview of what features students ought to be included in a given solution.\nEach bullet point should appear as a separate rubric item in Gradescope. We will use positive grading (points awarded for each component).\nEach standard rubric describes partial credit for a problem with 10 points. Partial credit for (sub)problems worth less than 10 points should be scaled appropriately. Full problems usually combine one of the modeling methods with some interpretation questions, so the rubric will be a combination of the individual components.\nGenerally, rubrics for 10 point “entire problems” can be summarized with the following:\n\n+4 points for an answer with a correct implementation (including model setup).\n+2 points for the correct solution (including details such as labels, units, etc.).\n+4 points for the interpretation. These points may be broken up across subproblems, but the general assignment of points should follow this summary.\n\nNote that the points may not scale with the distribution of work for a given problem. That’s life! It may take more work to derive and implement your model than it does to intrepret your results, but in this class we care a lot about your ability to critically evaluate and interpret modeling results.\nSometimes problems will be broken up into\nThe graders cannot read your mind and will not try to. Submissions that are unclear for any reason, including but not limited to unclear syntax (English or code), uncommented code, lack of reasoning or derivation, too much detail or writing, will not be given credit. The TA has complete discretion here. If something in your solution is ambiguous, the TA has been instructed to interpret it the “wrong” way. Clear responses are a sign of understanding, which is part of what we’re assessing.\nYou will not be doubly penalized for getting the “right” solution to the “wrong” setup (you would have been penalized above), but this requires the TA to be able to easily identify that your implementation is correct given the wrong model. If your implementation is unclear, you are likely to lose points here because we have no way of knowing that your answer is “right” without re-coding your problem.\nYou will not be given credit for your code (this isn’t a programming class); the code is a means to solving the problem, and we’re more interested in how you set up the problem and interpret the solution. This does mean that code that is sloppy but works is perfectly acceptable. However, your code may get you partial credit if the TA can easily find where you made a mistake, so make sure your submitted code is well commented. It’s important to write down the mathematics of what your code is trying to implement, because the TA will only take a cursory look at your code.\nSome rubrics include “deadly sins” which will cause an immediate zero to be given for the problem. Do not do these!\nRegardless of the problem type, the following penalties will be applied per incident:\n\n-1 for missing units.",
    "crumbs": [
      "Policies",
      "Standard Rubric"
    ]
  },
  {
    "objectID": "rubrics/standard.html#standard-rubrics",
    "href": "rubrics/standard.html#standard-rubrics",
    "title": "Standard Rubrics",
    "section": "Standard Rubrics",
    "text": "Standard Rubrics\n\nOptimization Rubric\n10 points =\n\n+3 for clear specification of decision variables;\n\nThis includes units and meaning for each variable used.\n\n+2 for the correct objective;\n\nYou must write down the derivation for the objective, starting with the quantity being optimized and breaking it into decision-relevant components. Don’t treat any part of this as though it’s obvious; part of technical communication is communicating to people who aren’t as clever as you.\n\n+3 for the correct constraints;\n\nMake sure you include derivations for all constraints, starting with the meaning and explanation in intuitive terms for the constraint. Don’t treat any constraints as though they’re obvious.\n-2/-3 for an incomplete set of constraints, even if the constraints that are presented are correct.\n\n+2 for the correct solution.\n\n\n\nSimulation Rubric\n10 points =\n\n+4 for the model derivation.\n\nThis includes any relevant reasoning from mass-balance or other principles.\n\n+4 for discretizing the model correctly.\n\n-1 if no justification is provided for the chosen step-size(s).\n\n+2 points for obtaining the correct solution.\n\n-1 if the error is from a minor bug. I recommend providing an explicit sketch of your code’s procedure, so if that is correct any differences are likely to be the result of a minor bug, such as a misentered number (not ideal, but you understand what you’re doing!). Otherwise you are relying on the TA to interpret your code.\n\n\n\n\nMonte Carlo Rubric\n10 points =\n\n+4 for a clear English explanation of the sampling plan\n\nYou must justify each distribution used, including your choice of mean and standard deviation.\n\n+2 for justification of Monte Carlo sample size.\n\nDeadly Sin: No points will be given for a Monte Carlo solution with an arbitrary sample size.\n\n+2 for an estimate of the Monte Carlo standard error.\n+1 for setting a seed for reproducibility.\n+2 for correct estimate.\n\nDeviations from the posted solution are ok if they’re within the Monte Carlo standard error.\n\n\n\n\nFigure Rubrics\n10 points =\n\n+2 for appropriate choice of axes.\n\nDeadly Sin!: No points will be given for the figure if the axes are not labelled.\n\n+4 for the correct data series.\n+2 for a descriptive legend.\n+2 for a succinct description or caption.\n\n-1 for a description which is too wordy but contains the relevant information.\n\n\n\n\nInterpretation Rubrics\n10 points =\n\n+4 for specific reference to the modeling results;\n\n-2 if the results are not specifically referenced and the reader has to refer to the previous problems to understand the interpretation.\n\n+6 for thoughtfulness of the interpretation;\n\n-4 for not specifically referencing relevant model assumptions;\nDeadly Sin: Do not neglect fundamental engineering principles in any of your interpretations. You will be given a zero if you make a recommendation which e.g. violates an engineering code or standard.\nDeadly Sin: Completely generic interpretations will result in zero points.",
    "crumbs": [
      "Policies",
      "Standard Rubric"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html",
    "href": "tutorials/julia-basics.html",
    "title": "Tutorial: Julia Basics",
    "section": "",
    "text": "This tutorial will give some examples of basic Julia commands and syntax.",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#overview",
    "href": "tutorials/julia-basics.html#overview",
    "title": "Tutorial: Julia Basics",
    "section": "",
    "text": "This tutorial will give some examples of basic Julia commands and syntax.",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#getting-help",
    "href": "tutorials/julia-basics.html#getting-help",
    "title": "Tutorial: Julia Basics",
    "section": "Getting Help",
    "text": "Getting Help\n\nCheck out the official documentation for Julia: https://docs.julialang.org/en/v1/.\nStack Overflow is a commonly-used resource for programming assistance.\nAt a code prompt or in the REPL, you can always type ?functionname to get help.",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#comments",
    "href": "tutorials/julia-basics.html#comments",
    "title": "Tutorial: Julia Basics",
    "section": "Comments",
    "text": "Comments\nComments hide statements from the interpreter or compiler. It’s a good idea to liberally comment your code so readers (including yourself!) know why your code is structured and written the way it is. Single-line comments in Julia are preceded with a #. Multi-line comments are preceded with #= and ended with =#",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#suppressing-output",
    "href": "tutorials/julia-basics.html#suppressing-output",
    "title": "Tutorial: Julia Basics",
    "section": "Suppressing Output",
    "text": "Suppressing Output\nYou can suppress output using a semi-colon (;).\n\n4+8;\n\nThat didn’t show anything, as opposed to:\n\n4+8\n\n12",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#variables",
    "href": "tutorials/julia-basics.html#variables",
    "title": "Tutorial: Julia Basics",
    "section": "Variables",
    "text": "Variables\nVariables are names which correspond to some type of object. These names are bound to objects (and hence their values) using the = operator.\n\nx = 5\n\n5\n\n\nVariables can be manipulated with standard arithmetic operators.\n\n4 + x\n\n9\n\n\nAnother advantage of Julia is the ability to use Greek letters (or other Unicode characters) as variable names. For example, type a backslash followed by the name of the Greek letter (i.e. \\alpha) followed by TAB.\n\nα = 3\n\n3\n\n\nYou can also include subscripts or superscripts in variable names using \\_ and \\^, respectively, followed by TAB. If using a Greek letter followed by a sub- or super-script, make sure you TAB following the name of the letter before the sub- or super-script. Effectively, TAB after you finish typing the name of each \\character.\n\nβ₁ = 10 # The name of this variable was entered with \\beta + TAB + \\_1 + TAB\n\n10\n\n\nHowever, try not to overwrite predefined names! For example, you might not want to use π as a variable name…\n\nπ\n\nπ = 3.1415926535897...\n\n\nIn the grand scheme of things, overwriting π is not a huge deal unless you want to do some trigonometry. However, there are more important predefined functions and variables that you may want to be aware of. Always check that a variable or function name is not predefined!",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#data-types",
    "href": "tutorials/julia-basics.html#data-types",
    "title": "Tutorial: Julia Basics",
    "section": "Data Types",
    "text": "Data Types\nEach datum (importantly, not the variable which is bound to it) has a data type. Julia types are similar to C types, in that they require not only the type of data (Int, Float, String, etc), but also the precision (which is related to the amount of memory allocated to the variable). Issues with precision won’t be a big deal in this class, though they matter when you’re concerned about performance vs. decimal accuracy of code.\nYou can identify the type of a variable or expression with the typeof() function.\n\ntypeof(\"This is a string.\")\n\nString\n\n\n\ntypeof(x)\n\nInt64\n\n\n\nNumeric types\nA key distinction is between an integer type (or Int) and a floating-point number type (or float). Integers only hold whole numbers, while floating-point numbers correspond to numbers with fractional (or decimal) parts. For example, 9 is an integer, while 9.25 is a floating point number. The difference between the two has to do with the way the number is stored in memory. 9, an integer, is handled differently in memory than 9.0, which is a floating-point number, even though they’re mathematically the same value.\n\ntypeof(9)\n\nInt64\n\n\n\ntypeof(9.25)\n\nFloat64\n\n\nSometimes certain function specifications will require you to use a Float variable instead of an Int. One way to force an Int variable to be a Float is to add a decimal point at the end of the integer.\n\ntypeof(9.)\n\nFloat64\n\n\n\n\nStrings\nStrings hold characters, rather than numeric values. Even if a string contains what seems like a number, it is actually stored as the character representation of the digits. As a result, you cannot use arithmetic operators (for example) on this datum.\n\n\"5\" + 5\n\nLoadError: MethodError: no method matching +(::String, ::Int64)\n\n\u001b[0mClosest candidates are:\n\u001b[0m  +(::Any, ::Any, \u001b[91m::Any\u001b[39m, \u001b[91m::Any...\u001b[39m)\n\u001b[0m\u001b[90m   @\u001b[39m \u001b[90mBase\u001b[39m \u001b[90m\u001b[4moperators.jl:578\u001b[24m\u001b[39m\n\u001b[0m  +(\u001b[91m::T\u001b[39m, ::T) where T&lt;:Union{Int128, Int16, Int32, Int64, Int8, UInt128, UInt16, UInt32, UInt64, UInt8}\n\u001b[0m\u001b[90m   @\u001b[39m \u001b[90mBase\u001b[39m \u001b[90m\u001b[4mint.jl:87\u001b[24m\u001b[39m\n\u001b[0m  +(\u001b[91m::LinearAlgebra.UniformScaling\u001b[39m, ::Number)\n\u001b[0m\u001b[90m   @\u001b[39m \u001b[35mLinearAlgebra\u001b[39m \u001b[90m~/.julia/juliaup/julia-1.9.2+0.x64.apple.darwin14/share/julia/stdlib/v1.9/LinearAlgebra/src/\u001b[39m\u001b[90m\u001b[4muniformscaling.jl:144\u001b[24m\u001b[39m\n\u001b[0m  ...\n\n\nHowever, you can try to tell Julia to interpret a string encoding a numeric character as a numeric value using the parse() function. This can also be used to encode a numeric data as a string.\n\nparse(Int64, \"5\") + 5\n\n10\n\n\nTwo strings can be concatenated using *:\n\n\"Hello\" * \" \" * \"there\"\n\n\"Hello there\"\n\n\n\n\nBooleans\nBoolean variables (or Bools) are logical variables, that can have true or false as values.\n\nb = true\n\ntrue\n\n\nNumerical comparisons, such as ==, !=, or &lt;, return a Bool.\n\nc = 9 &gt; 11\n\nfalse\n\n\nBools are important for logical flows, such as if-then-else blocks or certain types of loops.",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#mathematical-operations",
    "href": "tutorials/julia-basics.html#mathematical-operations",
    "title": "Tutorial: Julia Basics",
    "section": "Mathematical operations",
    "text": "Mathematical operations\nAddition, subtraction, multiplication, and division work as you would expect. Just pay attention to types! The type of the output is influenced by the type of the inputs: adding or multiplying an Int by a Float will always result in a Float, even if the Float is mathematically an integer. Division is a little special: dividing an Int by another Int will still return a float, because Julia doesn’t know ahead of time if the denominator is a factor of the numerator.\n\n3 + 5\n\n8\n\n\n\n3 * 2\n\n6\n\n\n\n3 * 2.\n\n6.0\n\n\n\n6 - 2\n\n4\n\n\n\n9 / 3\n\n3.0\n\n\nRaising a base to an exponent uses ^, not **.\n\n3^2\n\n9\n\n\nJulia allows the use of updating operators to simplify updating a variable in place (in other words, using x += 5 instead of x = x + 5.\n\nBoolean algebra\nLogical operations can be used on variables of type Bool. Typical operators are && (and), || (or), and ! (not).\n\ntrue && true\n\ntrue\n\n\n\ntrue && false\n\nfalse\n\n\n\ntrue || false\n\ntrue\n\n\n\n!true\n\nfalse\n\n\nComparisons can be chained together.\n\n3 &lt; 4 || 8 == 12\n\ntrue\n\n\nWe didn’t do this above, since Julia doesn’t require it, but it’s easier to understand these types of compound expressions if you use parentheses to signal the order of operations. This helps with debugging!\n\n(3 &lt; 4) || (8 == 12)\n\ntrue",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#data-structures",
    "href": "tutorials/julia-basics.html#data-structures",
    "title": "Tutorial: Julia Basics",
    "section": "Data Structures",
    "text": "Data Structures\nData structures are containers which hold multiple values in a convenient fashion. Julia has several built-in data structures, and there are many extensions provided in additional packages.\n\nTuples\nTuples are collections of values. Julia will pay attention to the types of these values, but they can be mixed. Tuples are also immutable: their values cannot be changed once they are defined.\nTuples can be defined by just separating values with commas.\n\ntest_tuple = 4, 5, 6\n\n(4, 5, 6)\n\n\nTo access a value, use square brackets and the desired index. Note: Julia indexing starts at 1, not 0!\n\ntest_tuple[1]\n\n4\n\n\nAs mentioned above, tuples are immutable. What happens if we try to change the value of the first element of test_tuple?\n\ntest_tuple[1] = 5\n\nLoadError: MethodError: no method matching setindex!(::Tuple{Int64, Int64, Int64}, ::Int64, ::Int64)\n\n\nTuples also do not have to hold the same types of values.\n\ntest_tuple_2 = 4, 5., 'h'\ntypeof(test_tuple_2)\n\nTuple{Int64, Float64, Char}\n\n\nTuples can also be defined by enclosing the values in parentheses.\ntest_tuple_3 = (4, 5., 'h')\ntypeof(test_tuple_3)\n\n\nArrays\nArrays also hold multiple values, which can be accessed based on their index position. Arrays are commonly defined using square brackets.\n\ntest_array = [1, 4, 7, 8]\ntest_array[2]\n\n4\n\n\nUnlike tuples, arrays are mutable, and their contained values can be changed later.\n\ntest_array[1] = 6\ntest_array\n\n4-element Vector{Int64}:\n 6\n 4\n 7\n 8\n\n\nArrays also can hold multiple types. Unlike tuples, this causes the array to no longer care about types at all.\n\ntest_array_2 = [6, 5., 'h']\ntypeof(test_array_2)\n\n\nVector{Any} (alias for Array{Any, 1})\n\n\n\nCompare this with test_array:\n\ntypeof(test_array)\n\n\nVector{Int64} (alias for Array{Int64, 1})\n\n\n\n\n\nDictionaries\nInstead of using integer indices based on position, dictionaries are indexed by keys. They are specified by passing key-value pairs to the Dict() method.\n\ntest_dict = Dict(\"A\"=&gt;1, \"B\"=&gt;2)\ntest_dict[\"B\"]\n\n2\n\n\n\n\nComprehensions\nCreating a data structure with more than a handful of elements can be tedious to do by hand. If your desired array follows a certain pattern, you can create structures using a comprehension. Comprehensions iterate over some other data structure (such as an array) implicitly and populate the new data structure based on the specified instructions.\n\n[i^2 for i in 0:1:5]\n\n6-element Vector{Int64}:\n  0\n  1\n  4\n  9\n 16\n 25\n\n\nFor dictionaries, make sure that you also specify the keys.\n\nDict(string(i) =&gt; i^2 for i in 0:1:5)\n\nDict{String, Int64} with 6 entries:\n  \"4\" =&gt; 16\n  \"1\" =&gt; 1\n  \"5\" =&gt; 25\n  \"0\" =&gt; 0\n  \"2\" =&gt; 4\n  \"3\" =&gt; 9",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#functions",
    "href": "tutorials/julia-basics.html#functions",
    "title": "Tutorial: Julia Basics",
    "section": "Functions",
    "text": "Functions\nA function is an object which accepts a tuple of arguments and maps them to a return value. In Julia, functions are defined using the following syntax.\n\nfunction my_actual_function(x, y)\n    return x + y\nend\nmy_actual_function(3, 5)\n\n8\n\n\nFunctions in Julia do not require explicit use of a return statement. They will return the last expression evaluated in their definition. However, it’s good style to explicitly return function outputs. This improves readability and debugging, especially when functions can return multiple expressions based on logical control flows (if-then-else blocks).\nFunctions in Julia are objects, and can be treated like other objects. They can be assigned to new variables or passed as arguments to other functions.\n\ng = my_actual_function\ng(3, 5)\n\n8\n\n\n\nfunction function_of_functions(f, x, y)\n    return f(x, y)\nend\nfunction_of_functions(g, 3, 5)\n\n8\n\n\n\nShort and Anonymous Functions\nIn addition to the long form of the function definition shown above, simple functions can be specified in more compact forms when helpful.\nThis is the short form:\n\nh₁(x) = x^2 # make the subscript using \\_1 + &lt;TAB&gt;\nh₁(4)\n\n16\n\n\nThis is the anonymous form:\n\nx-&gt;sin(x)\n(x-&gt;sin(x))(π/4)\n\n0.7071067811865475\n\n\n\n\nMutating Functions\nThe convention in Julia is that functions should not modify (or mutate) their input data. The reason for this is to ensure that the data is preserved. Mutating functions are mainly appropriate for applications where performance needs to be optimized, and making a copy of the input data would be too memory-intensive.\nIf you do write a mutating function in Julia, the convention is to add a ! to its name, like my_mutating_function!(x).\n\n\nOptional arguments\nThere are two extremes with regard to function parameters which do not always need to be changed. The first is to hard-code them into the function body, which has a clear downside: when you do want to change them, the function needs to be edited directly. The other extreme is to treat them as regular arguments, passing them every time the function is called. This has the downside of potentially creating bloated function calls, particularly when there is a standard default value that makes sense for most function evaluations.\nMost modern languages, including Julia, allow an alternate solution, which is to make these arguments optional. This involves setting a default value, which is used unless the argument is explicitly defined in a function call.\n\nfunction setting_optional_arguments(x, y, c=0.5)\n    return c * (x + y)\nend\n\nsetting_optional_arguments (generic function with 2 methods)\n\n\nIf we want to stick with the fixed value \\(c=0.5\\), all we have to do is call setting_optional_arguments with the x and y arguments.\n\nsetting_optional_arguments(3, 5)\n\n4.0\n\n\nOtherwise, we can pass a new value for c.\n\nsetting_optional_arguments(3, 5, 2)\n\n16\n\n\n\n\nPassing data structures as arguments\nInstead of passing variables individually, it may make sense to pass a data structure, such as an array or a tuple, and then unpacking within the function definition. This is straightforward in long form: access the appropriate elements using their index.\nIn short or anonymous form, there is a trick which allows the use of readable variables within the function definition.\n\nh₂((x,y)) = x*y # enclose the input arguments in parentheses to tell Julia to expect and unpack a tuple\n\nh₂ (generic function with 1 method)\n\n\n\nh₂((2, 3)) # this works perfectly, as we passed in a tuple\n\n6\n\n\n\nh₂(2, 3) # this gives an error, as h₂ expects a single tuple, not two different numeric values\n\nLoadError: MethodError: no method matching h₂(::Int64, ::Int64)\n\n\u001b[0mClosest candidates are:\n\u001b[0m  h₂(::Any)\n\u001b[0m\u001b[90m   @\u001b[39m \u001b[32mMain\u001b[39m \u001b[90m\u001b[4mIn[50]:1\u001b[24m\u001b[39m\n\n\n\nh₂([3, 10]) # this also works with arrays instead of tuples\n\n30\n\n\n\n\nVectorized operations\nJulia uses dot syntax to vectorize an operation and apply it element-wise across an array.\nFor example, to calculate the square root of 3:\n\nsqrt(3)\n\n1.7320508075688772\n\n\nTo calculate the square roots of every integer between 1 and 5:\n\nsqrt.([1, 2, 3, 4, 5])\n\n5-element Vector{Float64}:\n 1.0\n 1.4142135623730951\n 1.7320508075688772\n 2.0\n 2.23606797749979\n\n\nThe same dot syntax is used for arithmetic operations over arrays, since these operations are really functions.\n\n[1, 2, 3, 4] .* 2\n\n4-element Vector{Int64}:\n 2\n 4\n 6\n 8\n\n\nVectorization can be faster and is more concise to write and read than applying the same function to multiple variables or objects explicitly, so take advantage!\n\n\nReturning multiple values\nYou can return multiple values by separating them with a comma. This implicitly causes the function to return a tuple of values.\n\nfunction return_multiple_values(x, y)\n    return x + y, x * y\nend\nreturn_multiple_values(3, 5)\n\n(8, 15)\n\n\nThese values can be unpacked into multiple variables.\n\nn, ν = return_multiple_values(3, 5)\nn\n\n8\n\n\n\nν\n\n15\n\n\n\n\nReturning nothing\nSometimes you don’t want a function to return any values at all. For example, you might want a function that only prints a string to the console.\n\nfunction print_some_string(x)\n    println(\"x: $x\")\n    return nothing\nend\nprint_some_string(42)\n\nx: 42",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#printing-text-output",
    "href": "tutorials/julia-basics.html#printing-text-output",
    "title": "Tutorial: Julia Basics",
    "section": "Printing Text Output",
    "text": "Printing Text Output\nThe Text() function returns its argument as a plain text string. Notice how this is different from evaluating a string!\n\nText(\"I'm printing a string.\")\n\nI'm printing a string.\n\n\nText() is used in this tutorial as it returns the string passed to it. To print directly to the console, use println().\n\nprintln(\"I'm writing a string to the console.\")\n\nI'm writing a string to the console.\n\n\n\nPrinting Variables In a String\nWhat if we want to include the value of a variable inside of a string? We do this using string interpolation, using $variablename inside of the string.\n\nbar = 42\nText(\"Now I'm printing a variable: $bar\")\n\nNow I'm printing a variable: 42",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#control-flows",
    "href": "tutorials/julia-basics.html#control-flows",
    "title": "Tutorial: Julia Basics",
    "section": "Control Flows",
    "text": "Control Flows\nOne of the tricky things about learning a new programming language can be getting used to the specifics of control flow syntax. These types of flows include conditional if-then-else statements or loops.\n\nConditional Blocks\nConditional blocks allow different pieces of code to be evaluated depending on the value of a boolean expression or variable. For example, if we wanted to compute the absolute value of a number, rather than using abs():\n\nfunction our_abs(x)\n    if x &gt;= 0\n        return x\n    else\n        return -x\n    end\nend\n\nour_abs (generic function with 1 method)\n\n\n\nour_abs(4)\n\n4\n\n\n\nour_abs(-4)\n\n4\n\n\nTo nest conditional statements, use elseif.\n\nfunction test_sign(x)\n    if x &gt; 0\n        return Text(\"x is positive.\")\n    elseif x &lt; 0\n        return Text(\"x is negative.\")\n    else\n        return Text(\"x is zero.\")\n    end\nend\n\ntest_sign (generic function with 1 method)\n\n\n\ntest_sign(-5)\n\nx is negative.\n\n\n\ntest_sign(0)\n\nx is zero.\n\n\n\n\nLoops\nLoops allow expressions to be evaluated repeatedly until they are terminated. The two main types of loops are while loops and for loops.\n\nWhile loops\nwhile loops continue to evaluate an expression so long as a specified boolean condition is true. This is useful when you don’t know how many iterations it will take for the desired goal to be reached.\n\nfunction compute_factorial(x)\n    factorial = 1\n    while (x &gt; 1)\n        factorial *= x\n        x -= 1\n    end\n    return factorial\nend\ncompute_factorial(5)\n\n120\n\n\n\nWhile loops can easily turn into infinite loops if the condition is never meaningfully updated. Be careful, and look there if your programs are getting stuck. Also, If the expression in a while loop is false when the loop is reached, the loop will never be evaluated.\n\n\n\nFor loops\nfor loops run for a finite number of iterations, based on some defined index variable.\n\nfunction add_some_numbers(x)\n    total_sum = 0 # initialize at zero since we're adding\n    for i=1:x # the counter i is updated every iteration\n        total_sum += i\n    end\n    return total_sum\nend\nadd_some_numbers(4)\n\n10\n\n\nfor loops can also iterate over explicitly passed containers, rather than iterating over an incrementally-updated index sequence. Use the in keyword when defining the loop.\n\nfunction add_passed_numbers(set)\n    total_sum = 0\n    for i in set # this is the syntax we use when we want i to correspond to different container values\n        total_sum += i\n    end\n    return total_sum\nend\nadd_passed_numbers([1, 3, 5])\n\n9",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#linear-algebra",
    "href": "tutorials/julia-basics.html#linear-algebra",
    "title": "Tutorial: Julia Basics",
    "section": "Linear algebra",
    "text": "Linear algebra\nMatrices are defined in Julia as 2d arrays. Unlike basic arrays, matrices need to contain the same data type so Julia knows what operations are allowed. When defining a matrix, use semicolons to separate rows. Row elements should not be separated by commas.\n\ntest_matrix = [1 2 3; 4 5 6]\n\n2×3 Matrix{Int64}:\n 1  2  3\n 4  5  6\n\n\nYou can also specify matrices using spaces and newlines.\n\ntest_matrix_2 = [1 2 3\n                 4 5 6]\n\n2×3 Matrix{Int64}:\n 1  2  3\n 4  5  6\n\n\nFinally, matrices can be created using comprehensions by separating the inputs by a comma.\n\n[i*j for i in 1:1:5, j in 1:1:5]\n\n5×5 Matrix{Int64}:\n 1   2   3   4   5\n 2   4   6   8  10\n 3   6   9  12  15\n 4   8  12  16  20\n 5  10  15  20  25\n\n\nVectors are treated as 1d matrices.\n\ntest_row_vector = [1 2 3]\n\n1×3 Matrix{Int64}:\n 1  2  3\n\n\n\ntest_col_vector = [1; 2; 3]\n\n3-element Vector{Int64}:\n 1\n 2\n 3\n\n\nMany linear algebra operations on vectors and matrices can be loaded using the LinearAlgebra package.",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-basics.html#package-management",
    "href": "tutorials/julia-basics.html#package-management",
    "title": "Tutorial: Julia Basics",
    "section": "Package management",
    "text": "Package management\nSometimes you might need functionality that does not exist in base Julia. Julia handles packages using the Pkg package manager. After finding a package which has the functions that you need, you have two options:\n\nUse the package management prompt in the Julia REPL (the standard Julia interface; what you get when you type julia in your terminal). Enter this by typing ] at the standard green Julia prompt julia&gt;. This will become a blue pkg&gt;. You can then add new packages using add packagename.\nFrom the standard prompt, enter import Pkg; Pkg.add(packagename). The packagename package can then be used by adding using packagename to the start of the script.",
    "crumbs": [
      "Tutorials",
      "Julia Basics"
    ]
  },
  {
    "objectID": "tutorials/julia-jump.html",
    "href": "tutorials/julia-jump.html",
    "title": "Tutorial: Linear Optimization in Julia",
    "section": "",
    "text": "using Plots\nusing JuMP\nusing HiGHS",
    "crumbs": [
      "Tutorials",
      "Solving Linear Programs"
    ]
  },
  {
    "objectID": "tutorials/julia-jump.html#overview",
    "href": "tutorials/julia-jump.html#overview",
    "title": "Tutorial: Linear Optimization in Julia",
    "section": "Overview",
    "text": "Overview\nThis tutorial will demonstrate how to solve linear optimization problems graphically and using the JuMP package in Julia. It draws heavily from this tutorial by Jesse D. Jenkins and Michael R. Davidson.\nJuMP (“Julia for Mathematical Programming”) is an open-source Julia package that adds functionality for formulating and solving a variety of optimization problems. One advantage of JuMP is that its syntax matches the typical mathematical formalism used to specify optimization problems. We will use JuMP in this class for our optimization work.\n\n\n\n\n\n\nRead the Documentation!\n\n\n\nMake sure that you take a look at the JuMP documentation whenever you have a question or want to find out how to do something that we don’t discuss in any of our tutorials or lectures (or how to do it better!).",
    "crumbs": [
      "Tutorials",
      "Solving Linear Programs"
    ]
  },
  {
    "objectID": "tutorials/julia-jump.html#setup",
    "href": "tutorials/julia-jump.html#setup",
    "title": "Tutorial: Linear Optimization in Julia",
    "section": "Setup",
    "text": "Setup\nHere we will outline the basic steps for configuring JuMP, though you can also refer to the official Installation Guide.\nIf JuMP is not already in your environment (it will be for any of your assignments, but may not be if you’re doing something independently), you will need to install it. You will also need to select a solver and install the relevant package. Some of these are commercial, while others are open source. Solvers are also not typically universal, as different types of optimization problems use different algorithms, so be aware of what problem you’re trying to solve instead of just blindly copying code from one task to another.\nFor example, for the linear programming example, we will use the HiGHS solver via the HiGHS.jl package. As seen on the solver table, HiGHS is open source (via the MIT license) and can solve linear programs (LP) and mixed-integer linear programs (MILP), as well as quadratic programs (which we won’t discuss in this course).",
    "crumbs": [
      "Tutorials",
      "Solving Linear Programs"
    ]
  },
  {
    "objectID": "tutorials/julia-jump.html#linear-programming-example-how-many-widgets-should-a-factory-produce",
    "href": "tutorials/julia-jump.html#linear-programming-example-how-many-widgets-should-a-factory-produce",
    "title": "Tutorial: Linear Optimization in Julia",
    "section": "Linear Programming Example: How Many Widgets Should A Factory Produce?",
    "text": "Linear Programming Example: How Many Widgets Should A Factory Produce?\n\nDefining The Problem\nSuppose we own a factory that can produce two types of widgets:\n\nWidget A generates a profit of \\(p_A = \\$100\\) per widget; and\nWidget B generates a profit of \\(p_B = \\$75\\) per widget.\n\nLet \\(x\\) be the number of units of widget A that we want to produce, and \\(y\\) the number of units of widget B. Our goal is to maximize our total profit \\(p_Ax + p_By\\). This is the objective function. We express this objective using the equation \\[\\begin{equation}\n\\max_{x, y} 100x + 75y. \\label{eq:objective}\n\\end{equation}\\]\nThis isn’t a very interesting problem yet! We would simply build as much of both widgets as we could, because there are no constraints on our ability to produce. To make this more realistic, let’s suppose that both widgets are produced using the same raw material \\(M\\), of which we can only procure 300 units. Then, if:\n\nWidget A requires 40 units of \\(M\\) per widget, and\nWidget B requires 20 units of \\(M\\) per widget, we arrive at the following material constraint: \\[\\begin{equation}\n40x + 20y \\leq 300. \\label{eq:constraint1}\n\\end{equation}\\]\n\nBut we might have another constraint: time! Each widget may take a different amount of labor to produce. For example, let’s say that\n\nWidget A takes 6 hours to produce and\nWidget B takes 12 hours to produce. Further, there are only 80 hours per work that can be allocated to widget production. This becomes the time constraint \\[\\begin{equation}\n6x + 12y \\leq 80. \\label{eq:constraint2}\n\\end{equation}\\]\n\nFinally, we cannot build a negative number of either type of widget. This is known as a non-negativity constraint, and can be expressed as\n\\[\\begin{align}\nx &\\geq 0 \\label{eq:constraintx} \\\\\ny &\\geq 0 \\label{eq:constrainty}\n\\end{align}\\]\nConsolidating equations \\(\\eqref{eq:objective}\\)–\\(\\eqref{eq:constrainty}\\) gives us the following constrained optimization problem:\n\\[\\begin{equation}\n\\begin{aligned}\n& \\max_{x, y} & 100x + 75y\\\\\n&\\text{subject to} & \\\\\n& & 40x + 20y \\leq 300\\\\\n& & 6x + 12y \\leq 80\\\\\n& & x \\geq 0\\\\\n& & y \\geq 0\n\\end{aligned} \\label{eq:widget}\n\\end{equation}\\]\n\n\nVisualizing the Problem\nLet’s do some plotting to examine the geometry of our optimization problem. We can do this using the Plots.jl package in Julia.\n\n## set up objective function parameters and variables\npa = 100\npb = 75\na = range(0, 8, step=0.25)\nb = range(0, 8, step=0.25)\n\n## define objective function\nf(a, b) = pa * a + pb * b\n\n## start plotting\ncontour(a,b,(a,b)-&gt;f(a,b),nlevels=15, c=:heat, linewidth=10, colorbar = false, contour_labels = true) # objective function contours\ntitle!(\"Factory Optimization Problem\") # add title\nxaxis!(\"x=Widget A\", lims=(0, maximum(a))) # add x-axis title and limits\nyaxis!(\"y=Widget B\", lims=(0, maximum(b))) # add y-axis title and limits\nxticks!(0:maximum(a)) # set x-axis ticks\nyticks!(0:maximum(b)) # set y-axis ticks\nareaplot!(a[a.&lt;=11], (300 .- 40*a)./20, legend=false, opacity=0.3) # plot materials constraint feasible region\nareaplot!(a[a.&lt;=8], (80 .- 6*a)./12, legend=false, opacity=0.3) # plot time constraint feasible region\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Decision space for the widget linear program \\(\\eqref{eq:widget}\\). The gradient contours for the objective function are shown, as well as the constraints.\n\n\n\n\nWe can see exactly where the solution will be in Figure 1, at the intersection of the feasible regions imposed by the two constraints!\n\n\n\n\n\n\nObjective Function Gradient and Solution Uniqueness\n\n\n\nWhat would happen if one of the constraints were parallel to the level sets of the objective function?\n\n\nLet’s now use JuMP to identify the location of this point (though we could also solve for it using linear algebra).",
    "crumbs": [
      "Tutorials",
      "Solving Linear Programs"
    ]
  },
  {
    "objectID": "tutorials/julia-jump.html#solving-this-problem-using-jump",
    "href": "tutorials/julia-jump.html#solving-this-problem-using-jump",
    "title": "Tutorial: Linear Optimization in Julia",
    "section": "Solving This Problem Using JuMP",
    "text": "Solving This Problem Using JuMP\n\nSetting Up the Model and Solver\nTo solve our problem, first we need to define the model. The model object has lots of attributes, including the variables, constraints, solver options, etc. We create a new model using the Model() function. Since we are using the HiGHS solver, we need to tell JuMP to use the HiGHS.Optimizer solver function.\n\nfactory_model = Model(HiGHS.Optimizer) \n\nThere are a bunch of attributes and options that we could set, but we won’t in this example. If needed, look at the HiGHS.jl documentation.\n\nDefine Variables\nDecision variables (\\(x\\) and \\(y\\) in this case) in JuMP are defined using the @variable macro. The first argument passed to @variable() is the model object, in this case, factory_model, and the second argument are bounds on that variable, created using &gt;= and &lt;=. JuMP will interpret the bound specification to obtain the variable name. In this case, our only bounds directly on the variables are the non-negativity constraints.\n\n@variable(factory_model, x &gt;= 0)\n@variable(factory_model, y &gt;= 0)\n\nIf we had a free (or unbounded) variable \\(z\\), we could declare that variable using @variable(model, z). JuMP also requires unique names for each variable, or it will throw an error. This is one place where it’s nice that Julia lets us use sub- and superscripts in variable names!\nIf we did want to modify the bounds after defining the variable, we could do so using the set_lower_bound and set_upper_bound functions, or we could remove them using delete_lower_bound and delete_upper_bound.\nFinally, if we want to see all of the variables associated with a model, we can use the all_variables function to obtain an array.\n\nall_variables(factory_model)\n\n2-element Vector{VariableRef}:\n x\n y\n\n\n\n\n\nDefine Constraints\nWhen defining variables, we were able to declare constraints on their values by specifying upper and lower bounds. However, we also have other constraints, which involve multiple decision variables. These are specified using the @constraint macro. Unlike variables, we also need to pass names for each constraint. We will use time for the time constraint and materials for the materials constraint. These names must be unique.\n\n@constraint(factory_model, time, 6x + 12y &lt;= 80) # specify the time constraint\n@constraint(factory_model, materials, 40x + 20y &lt;= 300) # materials constraint\n\n\n\nDefine Objective Function\nSo far, we’ve defined the feasible region of the decision-variable domain by setting the constraints. But we need to specify our objective function to know what we are trying to minimize or maximize over this region. We define the objective function using the @objective macro. In addition to specifying the model objective and the function, we need to tell JuMP whether we want to minimize or maximize.\n\n@objective(factory_model, Max, 100x + 75y)\n\n\n\nLooking At The Full Model\nNow, let’s look at the model specification. print() will print out a formatted version of the model; in a notebook (or on this page), that will be marked up with LaTeX, in a REPL terminal, it will not be.\n\nprint(factory_model)\n\n\\[ \\begin{aligned}\n\\max\\quad & 100 x + 75 y\\\\\n\\text{Subject to} \\quad & 6 x + 12 y \\leq 80\\\\\n& 40 x + 20 y \\leq 300\\\\\n& x \\geq 0\\\\\n& y \\geq 0\\\\\n\\end{aligned} \\]\n\n\nIf you want a LaTeX-marked up version in the REPL, use latex_formulation().\nWe won’t go into detail here, but there are other ways to define the model, which are detailed in the JuMP documentation. For example, we can specify multiple variables using @variables. Similarly, we can use @constraints to define multiple constraints at once. Or we can use loops to define multiple constraints or constraints involving many variables. We can also specify the model in vectorized syntax, which is similar to how linear programs are specified in MATLAB.\n\n\nSolve the Model\nNow it’s time to solve the model and find the optimal values \\((x^*, y^*)\\). Since we specified the solver when we initialized factory_model, all we have to do is call the optimize! function.\n\noptimize!(factory_model)\n\nRunning HiGHS 1.5.3 [date: 1970-01-01, git hash: 45a127b78]\nCopyright (c) 2023 HiGHS under MIT licence terms\nPresolving model\n2 rows, 2 cols, 4 nonzeros\n2 rows, 2 cols, 4 nonzeros\nPresolve : Reductions: rows 2(-0); columns 2(-0); elements 4(-0) - Not reduced\nProblem not reduced by presolve: solving the LP\nUsing EKK dual simplex solver - serial\n  Iteration        Objective     Infeasibilities num(sum)\n          0    -1.0937489944e+01 Ph1: 2(4.125); Du: 2(10.9375) 0s\n          2     8.4722222222e+02 Pr: 0(0) 0s\nModel   status      : Optimal\nSimplex   iterations: 2\nObjective value     :  8.4722222222e+02\nHiGHS run time      :          0.01\n\n\n\n\nQuery the Solution\nTo find the optimal values of our decision variables, we need to query the values of the variables using value.(). We use value.() (the vectorized version of value()) because JuMP stores decision variables differently depending on their number and how they were defined. Uses the dot-syntax here works with any model specification, while the plain value() will not work if a queried decision variable is stored as a vector.\n\nvalue.(x)\n\n5.555555555555554\n\n\n\nvalue.(y)\n\n3.8888888888888897\n\n\nSo we can see that our optimal inputs are \\[(x^*, y^*) = (5.56, 3.89)\\] (and we’ll pretend that we can manufacture and sell parts of widgets).\n\n\nVisualize the Solution\nLet’s take our previous plot and add the solution point to make sure that we got the solution we expected.\n\ncontour(a,b,(a,b)-&gt;f(a,b),nlevels=15, c=:heat, linewidth=10, colorbar = false, contour_labels = true) # objective function contours\ntitle!(\"Factory Optimization Problem\") # add title\nxaxis!(\"x=Widget A\", lims=(0, maximum(a))) # add x-axis title and limits\nyaxis!(\"y=Widget B\", lims=(0, maximum(b))) # add y-axis title and limits\nxticks!(0:maximum(a)) # set x-axis ticks\nyticks!(0:maximum(b)) # set y-axis ticks\nareaplot!(a, (300 .- 40*a)./20, legend=false, opacity=0.3) # plot materials constraint feasible region\nareaplot!(a, (80 .- 6*a)./12, legend=false, opacity=0.3) # plot time constraint feasible region\n\n## now we plot the solution that we obtained\nscatter!([value.(x)],[value.(y)], markercolor=\"blue\", markersize=5)\n\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: Solution for the widget problem \\(\\eqref{eq:widget}\\). The blue dot shows the optimal solution.\n\n\n\n\nAs shown in Figure 2, the optimal solution \\[(x^*, y^*)\\] is exactly where we deduced it would be geometrically.\n\n\nOther Stuff We Can Do\nWe can also use value.() to evaluate our constraints without manually using the equations.\n\nvalue.(time)\n\n80.0\n\n\n\nvalue.(materials)\n\n300.0\n\n\nWhat if we also want the optimal objective value? We can obtain this using objective_value().\n\nobjective_value(factory_model)\n\n847.2222222222221\n\n\nWe could also define other expressions via the @expression macro as functions of the decision variables and evaluate those. For example, let’s say that we wanted to know the total number of widgets we’d produce under our optimal allocation of resources.\n\n@expression(factory_model, total_widgets, x+y)\nvalue.(total_widgets)\n\n9.444444444444443\n\n\n\n\nDual Solutions\nWe can identify if our model has a dual solution by calling has_duals().\n\nhas_duals(factory_model)\n\ntrue\n\n\nIf we want to know the dual solution associated with a constraint, we use the shadow_price() function.\n\n\n\n\n\n\nNaming Constraints\n\n\n\nModifying constraints and querying for dual solutions is the reason why it’s important to give constraints individual names.\n\n\n\nshadow_price(time)\n\n2.777777777777777\n\n\n\nshadow_price(materials)\n\n2.0833333333333335\n\n\nIf the binding constraint was a variable bound, we could also query that shadow price by calling reduced_cost() on the variable.\n\nreduced_cost(x)\n\n-0.0\n\n\n\nreduced_cost(y)\n\n-0.0\n\n\nIn this case, the relevant shadow prices are zero because the optimum is in the interior of the domain. If we had added a strong enough upper bound on the value(s) of one or both of our decision variables (say, \\(x \\leq 4\\)), then this would be non-zero.",
    "crumbs": [
      "Tutorials",
      "Solving Linear Programs"
    ]
  },
  {
    "objectID": "syllabus.html",
    "href": "syllabus.html",
    "title": "Syllabus",
    "section": "",
    "text": "This is a 3 credit course which is required for the Environmental Engineering major, and can only be taken for a letter grade.",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#course-overview",
    "href": "syllabus.html#course-overview",
    "title": "Syllabus",
    "section": "",
    "text": "This is a 3 credit course which is required for the Environmental Engineering major, and can only be taken for a letter grade.",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#course-information",
    "href": "syllabus.html#course-information",
    "title": "Syllabus",
    "section": "Course Information",
    "text": "Course Information\n\n\n\nInstructor\n\n Vivek Srikrishnan\n viveks@cornell.edu\n 318 Riley-Robb\nT 10-11am, W 1:30-2:30pm\n\n\n\n\nTA\n\n Gabriela Ackermann Logan\n ga345@cornell.edu\n 319 Riley-Robb Hall\nM 1:00-2:30pm\n\n\n\n\nMeetings\n\n MW\n 2:55-4:10pm\n 105 Riley-Robb\n\n\n\n\n\nCourse Description\nEnvironmental systems involve multiple interacting processes, uncertainties, and potentially conflicting objectives. These dynamics can complicate analyses which focus on a single component of the system, such as an individual pollution source, or a single outcome of interest. In this course, we will adopt a systems approach to environmental quality modeling and management, including applications in air and water pollution control and solid waste management. In particular, we will:\n\ndefine systems and their boundaries;\nsimulate system dynamics using computer models;\nformulate and solve decision problems for systems management;\nanalyze and assess risk;\nmake decisions under uncertainty; and\nexplore trade-offs across competing objectives.",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#learning-outcomes",
    "href": "syllabus.html#learning-outcomes",
    "title": "Syllabus",
    "section": "Learning Outcomes",
    "text": "Learning Outcomes\nAt the end of this class, students will:\n\nConstruct mathematical models of environmental systems;\nUse systems models to simulate dynamics and outcomes;\nAnalyze environmental system risk and vulnerabilities.\nDetermine strategies for managing systems using optimization;\nIdentify the trade-offs that result from competing objectives in environmental decision -making;\nEvaluate modeled outcomes with respect to model assumptions and limits.",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#prerequisites-preparation",
    "href": "syllabus.html#prerequisites-preparation",
    "title": "Syllabus",
    "section": "Prerequisites & Preparation",
    "text": "Prerequisites & Preparation\nThe following courses/material would be ideal preparation:\n\nEnvironmental Processes (BEE 2510 or BEE 2600): mass and energy balance, fate and transport\nEngineering Computation (ENGRD/CEE 3200): basic programming, discretization of ODEs, curve fitting\nOne course in probability or statistics (ENGRD 2700, CEE 3040, or equivalent): probability, probability distributions, summary statistics\n\nIn the absence of one or more these prerequisites, you can seek the permission of instructor.\n\n\n\n\n\n\nWhat If My Programming or Stats Skills Are Rusty?\n\n\n\nIf your programming or statistics skills are a little rusty, don’t worry! We will review concepts and build skills as needed. While we will use the Julia programming language in class, if you are familiar with Python or MATLAB, the fundamentals are similar.",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#topics",
    "href": "syllabus.html#topics",
    "title": "Syllabus",
    "section": "Topics",
    "text": "Topics\nThis class will cover the following topics:\n\nIntroduction to environmental systems\nModeling system dynamics\nMultiple objectives and trade-offs\nModel discretization and simulation\nUncertainty and Monte Carlo analysis\nLinear programming\nSimulation-optimization\nDecision making under uncertainty\nSensitivity and robustness\n\nTo motivate and illustrate these topics, we will draw on application areas including:\n\nClimate change\nWater quality\nAir quality\nElectric power systems\nSolid waste management\nResource allocation\nReservoir management",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#course-philosophy-and-expectations",
    "href": "syllabus.html#course-philosophy-and-expectations",
    "title": "Syllabus",
    "section": "Course Philosophy and Expectations",
    "text": "Course Philosophy and Expectations\nThe goal of our course is to help you gain competancy and knowledge in the area of environmental systems analysis. This involves a dual responsibility on the part of the instructor and the student. As the instructor, my responsibility is to provide you with a structure and opportunity to learn. To this end, I will commit to:\n\nprovide organized and focused lectures, in-class activities, and assignments;\nencourage students to regularly evaluate and provide feedback on the course;\nmanage the classroom atmosphere to promote learning;\nschedule sufficient out-of-class contact opportunities, such as office hours;\nallow adequate time for assignment completion;\nmake lecture materials, class policies, activities, and assignments accessible to students.\n\nStudents are encouraged to discuss any concerns with me during office hours or through a course communications channel.\nStudents can optimize their performance in the course by:\n\nattending all lectures;\ndoing any required preparatory work before class;\nactively participating in online and in-class discussions;\nbeginning assignments and other work early;\nand attending office hours as needed.",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#community",
    "href": "syllabus.html#community",
    "title": "Syllabus",
    "section": "Community",
    "text": "Community\n\nDiversity and Inclusion\nOur goal in this class is to foster an inclusive learning environment and make everyone feel comfortable in the classroom, regardless of social identity, background, and specific learning needs. As engineers, our work touches on many critical aspects of society, and questions of inclusion and social justice cannot be separated from considerations of systems analysis, objective selection, risk analysis, and trade-offs.\nIn all communications and interactions with each other, members of this class community (students and instructors) are expected to be respectful and inclusive. In this spirit, we ask all participants to:\n\nshare their experiences, values, and beliefs;\nbe open to and respectful of the views of others; and\nvalue each other’s opinions and communicate in a respectful manner.\n\nPlease let me know if you feel any aspect(s) of class could be made more inclusive. Please also share any preferred name(s) and/or your pronouns with me if you wish: I use he/him/his, and you can refer to me either as Vivek or Prof. Srikrishnan.\nPlease be professional and courteous on all course interactions and platforms, and (except in designated off-topic boards or forums) please keep all online discussion relevant to the course. We do not anticipate this as a problem given our experience; almost all students in almost all classes meet these expectations. However, even a single incident can do serious damage to the learning environment and the well-being of your fellow students.\nSexually explicit, harassing, threatening, bullying, trolling, racist, sexist, homophobic, transphobic, or otherwise grossly unprofessional content will be removed. Anyone behaving in these fashions or posting such content will be blocked/banned from the appropriate platform and may be given an F if they are consistently disruptive.\nWe have configured our Ed Discussion board to allow anonymous posts; we will restrict posts to real names only if anyonmous posts become problematic.\n\n\n\n\n\n\nPlease, Be Excellent To Teach Other\n\n\n\nWe all make mistakes in our communications with one another, both when speaking and listening. Be mindful of how spoken or written language might be misunderstood, and be aware that, for a variety of reasons, how others perceive your words and actions may not be exactly how you intended them. At the same time, it is also essential that we be respectful and interpret each other’s comments and actions in good faith.\n\n\n\n\nStudent Accomodations\nLet me know if you have any access barriers in this course, whether they relate to course materials, assignments, or communications. If any special accomodations would help you navigate any barriers and improve your chances of success, please exercise your right to those accomodations and reach out to me as early as possible with your Student Disability Services (SDS) accomodation letter. This will ensure that we have enough time to make appropriate arrangements.\nIf you need more immediate accomodations, but do not yet have a letter, please let me know and then follow up with SDS.\n\n\nCourse Communications\nMost course communications will occur via Ed Discussion. Public Ed posts are generally preferred to private posts or emails, as other students can benefit from the discussions. If you would like to discuss something privately, please do reach out through email or a private Ed post (which will only be viewable by you and the course staff).\nAnnouncements will be made on the course website and in Ed. Emergency announcements will also be made on Canvas.\n\n\n\n\n\n\nEd Tips\n\n\n\n\nDo not take screenshots of code. I will not respond. Screenshots can be difficult to read and limit accessibility. Put your code on GitHub, share the link, and point to specific line numbers if relevant, or provide a simple, self-contained example of the problem you’re running into.\nIf you wait until the day an assignment is due (or even late the previous night) to ask a question on Ed, there is a strong chance that I will not see your post prior to the deadline.\nIf you see unanswered questions and you have some insight, please answer! This class will work best when we all work together as a community.\n\n\n\n\n\nMental Health Resources\nWe all have to take care of our mental health, just as we would our physical health. As a student, you may experience a range of issues which can negatively impact your mental health. Please do not ignore any of these stressors, or feel like you have to navigate these challenges alone! You are part of a community of students, faculty, and staff, who have a responsibility to look for one another’s well-being. If you are struggling with managing your mental health, or if you believe a classmate may be struggling, please reach out to the course instructor, the TA, or, for broader support, please take advantage of Cornell’s mental health resources.\n\n\n\n\n\n\nMental Health And This Class\n\n\n\nI am not a trained counselor, but I am here to support you in whatever capacity we can. You should never feel that you need to push yourself past your limits to complete any assignment for this class or any other. If we need to make modifications to the course or assignment schedule, you can certainly reach out to me, and all relevant discussions will be kept strictly confidential.",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#course-policies",
    "href": "syllabus.html#course-policies",
    "title": "Syllabus",
    "section": "Course Policies",
    "text": "Course Policies\nMany policies below (including grading policies) are broken out and discussed further on the course website. Lack of familiarity with any of these policies is not an excuse for violating any of them.\n\nAttendance\nAttendance is not required, but in general, students who attend class regularly will do better and get more out of the class than students who do not. Your class participation grade will reflect both the quantity and quality of your participation, only some of which can occur asynchronously. I will put as many course materials, such as lecture notes and announcements, as possible online, but viewing materials online is not the same as active participation and engagement. Life happens, of course, and this may lead you to miss class. Let me know if you need any appropriate arrangements ahead of time.\n\n\n\n\n\n\nWhat If I’m Sick?\n\n\n\nPlease stay home if you’re feeling sick! This is beneficial for both for your own recovery and the health and safety of your classmates. We will also make any necessary arrangements for you to stay on top of the class material and if whatever is going on will negatively impact your grade, for example by causing you to be unable to submit an assignment on time.\n\n\n\n\nMask Policies\nPlease stay home and rest if you have symptoms of COVID-19 or any other respiratory illness. No masking will be required, but please be respectful of others who may wear masks or take other precautions to avoid illness. This policy may change if there is another outbreak of COVID-19 (or other illness), but will be kept consistent with broader Cornell mask policies.\n\n\nAcademic Integrity\n\n\n\n\n\n\nTL;DR: Don’t cheat, copy, or plagiarize!\n\n\n\nThis class is designed to encourage collaboration, and students are encouraged to discuss their work with other students. However, I expect students to abide by the Cornell University Code of Academic Integrity in all aspects of this class. All work submitted must represent the students’ own work and understanding, whether individually or as a group (depending on the particulars of the assignment). This includes analyses, code, software runs, and reports. Engineering as a profession relies upon the honesty and integrity of its practitioners (see e.g. the American Society for Civil Engineers’ Code of Ethics).\n\n\nExternal Resources\nThe collaborative environment in this class should not be viewed as an invitation for plagiarism. Plagiarism occurs when a writer intentionally misrepresents another’s words or ideas (including code!) as their own without acknowledging the source. All external resources which are consulted while working on an assignment should be referenced, including other students and faculty with whom the assignment is discussed. You will never be penalized for consulting an external source for help and referencing it, but plagiarism will result in a zero for that assignment as well as the potential for your case to be passed on for additional disciplinary action.\n\n\nAI/ML Resource Policy\nAs noted, all work submitted for a grade in this course must reflect your own understanding. The use and consulation of AI/ML tools, such as ChatGPT or similar, for any purpose whatsoever, must be pre-approved and clearly referenced.\n\n\n\n\n\n\nWhat are Large Language Models Useful For?\n\n\n\nChatGPT and other large-language models can predictively generate text, but note that there is no idea underlying its prediction model (it is purely statistical). You should therefore think about it as a glorified and stochastic Google search, albeit one which synthesizes the material for you, so you can’t access or understand its judgement or reasoning.\nAs a result, simply submitting ChatGPT output is likely to get you zero credit for any analysis or interpretation questions, and may be less helpful than you think for questions about derivations or model setups. Where ChatGPT can be helpful is in starting or debugging code (particularly interpreting error messages), especially if you’re unsure about syntax. However, in our experience, the interpretations and solutions from ChatGPT may often also just be wrong due to the LLM drawing from sufficiently different code examples users have provided in other forums; you’ll still need to exercise judgement and figure out if what ChatGPT output works or makes sense to ensure credit. You’d be surprised — careful use of LLMs does not actually save very much time!\n\n\nIf approved, you must:\n\nreference the URL of the service you are using, including the specific date you accessed it;\nprovide the exact query or queries used to interact with the tool; and\nreport the exact response received.\n\nFailure to attain prior approval or fully reference the interaction, as described above, will be treated as plagiarism and referred to the University accordingly.\n\n\nLate Work Policy\nIn general, late work can be submitted up to 24 hours late at a 50% penalty, and will not be accepted after that point. This policy may seem strict, but allows for prompt release of solutions and discussion of assignments. Please reach out as soon as possible (ideally before the due date) if legitimate circumstances emerge which prevent you from submitting work within 24 hours of the due date; we will make accomodations for approved reasons, which might included a limited extension or dropping the assignment.\n\n\nRegrade Requests\nRegrade requests can be submitted up to one week after the graded work is released on Gradescope.\nAll regrade requests must include a brief justification for the request or they will not be considered. Good justifications include (but are not limited to): - My answer agrees with the posted solution, but I still lost points. - I lost 4 points for something, but the rubric says it should only be worth 2 points. - You took points off for something, but it’s right here. - My answer is correct, even though it does not match the posted solution; here is an explanation. - There is no explanation for my grade. - I got a perfect score, but my solution has a mistake (you will receive extra credit for this! see below!) - There is a major error in the posted solution; here is an explanation (full credit for everyone, but Prof. Srikrishnan will decide what constitutes a “major error”! see below!).\n\n\n\n\n\n\nWe Can Only Grade What You Submitted\n\n\n\nAll regrades will be assessed based only on the submitted work. You cannot get a higher grade by explanating what you meant (either in person or online) or by adding information or reasoning to what is submitted after the fact. The goal of the regrade is to draw attention to a potential grading problem, not to supplement the submission.\n\n\nThe first regrade request for any submission will be handled by the person who graded that homework problem. The first regrade request for any exam submission will be handled by whoever graded that exam problem. If the submission was graded by the TA, additional regrade requests for the same submission will be handled directly by the instructor. Once Prof. Srikrishnan issues a final response to a regrade request, further requests for that submission will be ignored.\n\n\n\n\n\n\nRegrade Requests Can Be A Gamble!\n\n\n\nWhile you should submit regrade requests for legitimate errors, using them for fishing expeditions can also result in lost points if the TA or Prof. Srikrishnan decide that your initial grade was too lenient or if additional errors are identified.\n\n\n\n\n\n\n\n\nWhat If I Find A Different Type of Mistake?\n\n\n\n\nIf you submit a regrade request correctly reporting that a problem was graded too leniently — that is, that your score was higher than it should be based on the rubric — your score will be increased by the difference. For example, if your original score on a problem was 8/10 and you successfully argue that your score should have been 3/10, your new score will be 13/10. However, don’t fish — your grade might be lowered if the TA finds an independent mistake while regrading.\nIf a significant error is discovered in a posted homework solution or in the exam solutions, everyone will in the class will receive full credit for the (sub)problem. Prof. Srikrishnan will decide what is “significant”.\n\n\n\n\n\nOffice Hours\nOffice hours with both Prof. Srikrishnan and the TA will be available each week at times specified at the top of this syllabus. Changes to the office hour schedule (cancellations/rescheduling) will be announced in class and on Ed Discussion.\nOffice hours are intended to help all students who attend. This time is limited, and is best spent on issues that are relevant to as many students as possible. While we will do our best to answer individual questions, students asking us to verify or debug homework solutions or help with syntax will have the lowest priority (but please do ask about how to verify or debug your own solutions!). However, we are happy to discuss conceptual approaches to solving homework problems, which may help to reveal bugs.\nSpace at office hours can be limited (we may shift to the conference room in 316 Riley-Robb if offices are full and it is available). If the room is crowded and you can find an alternative source of assistance, or if your question is low priority (e.g. debugging) please be kind and make room for others.\n\n\n\n\n\n\nWhat If I Can’t Make Office Hours?\n\n\n\nWhile we will try to select office hours that work for as much of the class as possible, both the course staff and students have busy schedules and no time will work for everyone. If you need help outside of office hours (e.g. office hours do not fit your schedule), please send an email to the TA or Prof. Srikrishnan as soon as possible. These requests may not be accepted on short notice (e.g. if you have a question about a homework due on Friday and send a request on Thursday; schedules for course staff may already be full). We recommend starting your homework promptly so you can take advantage of office hours or make an appointment over a longer period.",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#assessments",
    "href": "syllabus.html#assessments",
    "title": "Syllabus",
    "section": "Assessments",
    "text": "Assessments\nYour grade will be computed as the weighted average of the following assessment categories:\n\n\n\nCategory\nWeight\n\n\n\n\nParticipation\n10%\n\n\nExercises\n10%\n\n\nLabs\n10%\n\n\nHomework\n20%\n\n\nPrelims\n30%\n\n\nTerm Project\n20%\n\n\n\n\n\n\n\n\n\nWill There Be a Curve?\n\n\n\nGrades on individual assessments will not be curved. It is unlikely that the final grades will be adjusted, but we may apply a curve if and only if circumstances arise which would make this appropriate, such as if the exams turn out to be longer or more difficult than intended. Grades will not be curved to meet any pre-defined distribution; it is entirely possible that everyone earns an A or everyone earns an F. Asking about a curve will not make one more likely.\n\n\n\nParticipation\nParticipating fully in the class allows you to gain more from the class and contribute more to the learning of your classmates. Some ways to participate include:\n\nAsking questions in class or on Ed;\nAnswering questions in class or on Ed;\nActively engaging in in-class activities;\nComing to office hours.\n\nNote that just passively attending class will not yield full participation points. Participation points are not free: you are likely to lose points if you consistently skip class or do not ask or answer questions online or in person. At the end of the term, you will be asked to evaluate your own participation over the course of the semester, in addition to my documentation of your participation.\n\n\nExercises\nMost weeks will involve a short problem set aimed at assessing key concepts. We will use Canvas for these exercises. These will be released Monday at the start of class and are due before class (2:55PM) the following Monday. The exercises will be multiple choice or similar (categorization, multiple answer, etc), automatically graded, and you can submit them as often as you like. It is highly recommended that you do these promptly and take them seriously, as concepts and simple code practice will be useful for the homeworks and midterm exams. We will automatically drop one exercise set, but no late exercises will be accepted.\n\n\nLabs\nApproximately 5 class periods will be dedicated to working through simple examples to guide you through applying concepts and methods from class. Students should bring their laptops to class, and will be given a worksheet to complete (as much as they can) during these lab classes. Labs will be designed to be completed in class, though you may occasionally require additional time; however, lab worksheets must be submitted by 9:00pm on the lab day. As a result, I encourage you to make sure that you download and set up the lab materials ahead of time; these will be provided for you on Ed Discussion. Labs will be graded on a scale of 0-3 on the basis of effort towards demonstrated work, rather than absolute correctness or completion. No labs will be dropped by default. If you cannot bring a laptop to class, you can work with other students, though you must turn in your own worksheet for grading.\n\n\nHomework Assignments\nApproximately 5 homework assignments will be assigned throughout the semester, one per course module (plus an initial homework to build or refresh programming and debugging skills). The homework assignments are more in-depth problem sets involving the modeling (derivation and implementation) and analysis of one or more environmental systems problems.\nYou will generally have two class weeks to work on an assignment. This is intended to provide you enough time to work on the problem and debug and evaluate your code (including troubleshooting any technical problems); these are not reasons for late submission. Each homework assignment will build on material from the prior classes and possibly from the day the homework is assigned.\nStudents are encouraged to collaborate and learn from each other on homework assignments, and groups of up to three students can submit a single group homework solution. Students are responsible for forming their own homework groups, which can differ for each assignment. Only one student from a group should submit a solution (unless the group involves students from both BEE 4750 and 5750), and it is the responsibility of the student submitting the assignment to tell Gradescope the names of the other group members. If a group involves students from both BEE 4750 and 5750, solutions should be submitted separately for each sub-group due to the additional problem for 5750 students. Otherwise, if multiple solutions from the same group are submitted, only one will be graded (whichever first comes up in Gradescope) and the rest ignored.\nConsulting and referencing external resources and your peers is encouraged (engineering is a collaborative discipline!), but plagiarism is a violation of academic integrity. Graduate students in BEE 5750 can expect one additional problem for each homework assignment aimed at developing greater depth or familiarity with the material.\nSome notes on assignment and grading logistics:\n\nHomework assignments will be distributed using GitHub Classroom. While GitHub use is not required for the class aside from accepting and cloning assignments, students are encouraged to update their GitHub repositories as they work on the assignments; this helps with answering questions, keeping solutions synced across groups, and gives you a backstop in case something goes wrong and you can’t submit your assignment on time.\nHomeworks are due by 9:00pm Eastern Time on the designed due date (usually a Thursday). Your assignment writeup should be submitted to Gradescope as a PDF with the answers to each question tagged (a failure to do this will result in a non-negotiable 10% point deduction). All students in a group are responsible for ensuring that the student who submits the assignment for their group tags each question, as all will have points deducted if this is not done.\nA meta-rubric is provided on the website, under the Homework page. These are not customized for each assignment but the principles will apply generally.\nNo homework assignments will be dropped, but you can turn in assignments within 24 hours of the due date with a 50% penalty. If you need a further accomodation for a particular assignment, talk to Prof. Srikrishnan before the due date. Requests for extensions made after the due date will only be considered under extraordinary and unexpected circumstances. Technical challenges submitting assignments are not acceptable reasons for extensions to be granted, and late penalties will apply.\nYour submitted homework must stand on its own*! We cannot grade you on the basis of information which was not included in the submitted assignment. While regrade requests should include a justification for why your grade is incorrect, we will not consider explanations or additional reasoning outside of the submission.\n\n\n\nPrelims\nTwo in-class prelims will be given as an opportunity to review relevant material. The dates for the exams are Wednesday, 10/09 and Monday, 11/11. The exams are closed-book and closed-note. As a result, the exams will emphasize conceptual material such as model derivations and interpretation of results; any calculations can be done with a pen(cil) and paper. Conflict and extended-time exams will be handled through SDS. Exams will be scanned into Gradescope for grading and feedback.\nSolutions will not be posted for the midterms, but Prof. Srikrishnan will review and discuss midterm problems in class. The review will occur approximately two weeks after the exam to provide time for conflict exams and grading.\n\n\nFinal Term Project\nThis course will culminate with a term project. The goal of this project is to apply and extend the tools and approaches we will learn in class to an application of your choosing. While we encourage drawing on other classes or interests when developing and working on your project, submitting work from another course or work which was completed prior to the course is not permitted.\nThe term project will be completed in groups (3-4 students). Graduate students enrolled in BEE 5750 may work on individual projects, but are not required to do so. The final deliverable for this project will be a report summarizing the project and results, including a section detailing research you have conducted on relevant regulations and how they were incorporated into your project. Ahead of that, you will submit the following a proposal for feedback on the scope of your project as well as a description of task coordination.\nThe project will be assessed on the basis of both group and individual components:\n\nGroup (80 points):\n\n(10 points) Proposal: Groups will develop a proposal for their final project, which will include two main components. The first is a research plan, which should (succinctly) describe the background for the problem and articulate the key question (system overview, model specification) as well as providing a brief overview of proposed methods (data sources, planned analytic approach). The second is a work plan, which will include task assignments across group members, deadlines for interim tasks, and a plan for coordination (meeting frequency, materials sharing, etc).\n(20 points) Presentation: Groups will present their projects to the class at the end of the semester. Due to time restrictions, these may be recorded and uploaded to Canvas if there are too many projects for the time available. Presentations should be no more than 10 minutes long and should be aimed at a general audience.\n(10 points) Peer Review: Each group will be asked to provide a peer review on two of their classmates’ presentations. The format for the review will be made available on the class website.\n(40 points) Final Report: Each group will submit a 3-5 page final report aimed at an engineering audience. Instructions will be provided with detailed expectations.\n\nIndividual (20 points):\n\n(5 points) Self-Assessment: Each individual in a group will submit a short self-assessment of their project, including a description of the work they contributed to the project (&lt; 1/2 page) and reflections on what worked well or less well (&lt; 1/2 page).\n(15 points) Peer Evaluation: Each individual in a group will submit an evaluation of their teammates’ contributions to the final project and the group dynamic, including assessments of participation, work quality, and inclusivity. Points will be awarded based on the evaluations from your group; different scales will be applied for undergraduate (4750) and graduate (5750) students. No points will be given for any student who fails to submit evaluations for their groupmates.",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "syllabus.html#grading",
    "href": "syllabus.html#grading",
    "title": "Syllabus",
    "section": "Grading",
    "text": "Grading\n\nGrading Scale\nThe following grading scale will be used to convert the numerical weighted average from the assessments (above) to letter grades.\n\n\n\nGrade\nRange\n\n\n\n\nA+\n97–100\n\n\nA\n93–97\n\n\nA-\n90–93\n\n\nB+\n87–90\n\n\nB\n83–87\n\n\nB-\n80–83\n\n\nC+\n77–80\n\n\nC\n73–77\n\n\nC-\n70–73\n\n\nD+\n67–70\n\n\nD\n63–67\n\n\nD-\n60–63\n\n\nF\n&lt; 60\n\n\n\nWe reserve the right to lower these cutoffs as appropriate, but will not raise them from these levels.\n\n\n\n\n\n\nWill You Round Up or Curve My Grade?\n\n\n\nGrades may be rounded up if they are just below the cutoff, but this is not a given, and requests for grade round-ups will be ignored. For example, you should assume that a score of 92.9% has missed the A cutoff of 93% (it is, after all, below the cutoff). Consider it a pleasant surprise if the round-up is given.\nWhile final grades will not be curved, individual assessments (mainly exams) may be curved if they prove to be more difficult than intended, but this will not be with a view towards achieving a particular grade distribution.\n\n\n\n\nForgiven Assignments\nForgiven assignments (due to extenuating circumstances, discussed with and approved by Prof. Srikrishnan) will be treated as though they do not exist, and the appropriate grading component will be computed without them. This does mean that e.g. submitted homeworks will carry more weight in the overall grade computation. In exceptional cases, we will compute course grades based entirely on exams.\n\n\nExceptions\nWe reserve the right to give any student meeting at least one of the following conditions an automatic F:\n\nOverall exam average below 25%;\nSubmitted less than half of the assigned homework problems;\nExtremely low levels of participation and effort.\n\nThis should not generally be a concern; students putting in a good faith effort by attending class, participating in online discussions, doing most of the work, and taking the exams will not be at risk of this policy.",
    "crumbs": [
      "Course Information",
      "Syllabus"
    ]
  },
  {
    "objectID": "project.html",
    "href": "project.html",
    "title": "Final Project",
    "section": "",
    "text": "The final project gives you an opportunity to use and extend the methods we have learned in class to an environmental system of your choosing. More details will be provided over the semester. We will discuss each component in class as well as providing relevant information on this page.",
    "crumbs": [
      "Final Project"
    ]
  },
  {
    "objectID": "project.html#overview",
    "href": "project.html#overview",
    "title": "Final Project",
    "section": "",
    "text": "The final project gives you an opportunity to use and extend the methods we have learned in class to an environmental system of your choosing. More details will be provided over the semester. We will discuss each component in class as well as providing relevant information on this page.",
    "crumbs": [
      "Final Project"
    ]
  },
  {
    "objectID": "project.html#overall-instructions",
    "href": "project.html#overall-instructions",
    "title": "Final Project",
    "section": "Overall Instructions",
    "text": "Overall Instructions\n\nStudents in 4750 should work in groups of 2-3, while students in 5750 must work alone.",
    "crumbs": [
      "Final Project"
    ]
  },
  {
    "objectID": "project.html#schedule",
    "href": "project.html#schedule",
    "title": "Final Project",
    "section": "Schedule",
    "text": "Schedule\nMilestones which are only for BEE 5750 or 4750 students are in italics.\n\n\n\n\n\n\n\n\n\n\nMilestone\nPoints\nInstructions\nDue Date\n\n\n\n\n\nProposal\n10\n\nOct 31, 2024\n\n\n\nPresentation\n20\n\nDec 09, 2024\n\n\n\nPeer Review\n10\n\nDec 13, 2024\n\n\n\nReport\n40\n\nDec 20, 2024\n\n\n\nTeam and Self Evaluations\n20\n\nDec 20, 2024",
    "crumbs": [
      "Final Project"
    ]
  },
  {
    "objectID": "project.html#scope-and-topics",
    "href": "project.html#scope-and-topics",
    "title": "Final Project",
    "section": "Scope and Topics",
    "text": "Scope and Topics\nThe project can be on any environmental system of interest, so long as the approaches from class are being extended in some way. This can involve applying new methods (e.g. multi-objective optimzation, more advanced uncertainty analysis, lifecycle analysis) to systems studied from class, or applying class or new methods to other systems.\nSome project topics from previous semesters include:\n\nBattery lifecycle analysis for residential storage;\nHydropower production from Ithaca-area streams;\nTraffic regulation to comply with air-quality standards;\nWastewater treatment design;\nGeothermal energy lifecycle analysis;\nMulti-objective optimization for water management;\nEnergy storage on Cornell’s campus;\nFlight schedule optimization;\nMilk alternatives lifecycle analysis;\nHydrogen fuel cell lifecycle analysis.",
    "crumbs": [
      "Final Project"
    ]
  },
  {
    "objectID": "resources.html",
    "href": "resources.html",
    "title": "Resources",
    "section": "",
    "text": "UDM14: Google search without AI distortion (or you could use the instructions to make &udm=14 the default).",
    "crumbs": [
      "Resources"
    ]
  },
  {
    "objectID": "resources.html#general",
    "href": "resources.html#general",
    "title": "Resources",
    "section": "",
    "text": "UDM14: Google search without AI distortion (or you could use the instructions to make &udm=14 the default).",
    "crumbs": [
      "Resources"
    ]
  },
  {
    "objectID": "resources.html#julia",
    "href": "resources.html#julia",
    "title": "Resources",
    "section": "Julia",
    "text": "Julia\n\nSetting up VS Code and Julia (Youtube)\nJulia Documentation\nJuliaAcademy: Check out the “Introduction to Julia (for programmers)” or “Julia Programming for Nervous Beginners” courses\nQuantEcon MATLAB-Python-Julia cheatsheet\nFastTrack to Julia cheatsheet\nPlotting cheatsheet\nIntroduction to Computational Thinking: a great Julia based course at MIT!\nComprehensive Julia Tutorials: YouTube playlist covering a variety of Julia topics, starting with an introduciton to the language.\nIntroduction to JuMP",
    "crumbs": [
      "Resources"
    ]
  },
  {
    "objectID": "resources.html#github",
    "href": "resources.html#github",
    "title": "Resources",
    "section": "GitHub",
    "text": "GitHub\n\nGit Basics from The Odin Project.\nLearn Git Branching: An interactive, visual tutorial to how git works.\nVersion Control from MIT’s “CS: Your Missing Semester” course.\nGit and GitHub for Poets: YouTube playlist covering the basics of git and GitHub.",
    "crumbs": [
      "Resources"
    ]
  },
  {
    "objectID": "resources.html#markdown",
    "href": "resources.html#markdown",
    "title": "Resources",
    "section": "Markdown",
    "text": "Markdown\n\nMarkdown Cheatsheet\nGitHub Markdown Cheatsheet (note that not all of these commands may work in Jupyter notebooks, as GitHub Markdown is an expanded syntax\nLaTeX Cheatsheet",
    "crumbs": [
      "Resources"
    ]
  },
  {
    "objectID": "resources.html#optimization",
    "href": "resources.html#optimization",
    "title": "Resources",
    "section": "Optimization",
    "text": "Optimization\n\nDecision Modeling e-Book: this uses Excel Solver, but may have useful information on problem setup and optimization methods.\nAlgorithms for Decision-Making: open-access book based on Julia with more depth on optimization and decision-making algorithms than we will cover in this class.",
    "crumbs": [
      "Resources"
    ]
  }
]